function Nw(t,e){for(var r=0;r<e.length;r++){const i=e[r];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in t)){const c=Object.getOwnPropertyDescriptor(i,a);c&&Object.defineProperty(t,a,c.get?c:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function r(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(a){if(a.ep)return;a.ep=!0;const c=r(a);fetch(a.href,c)}})();function Tw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Mc={exports:{}},ri={},Dc={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dp;function Pw(){if(Dp)return de;Dp=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function w(j){return j===null||typeof j!="object"?null:(j=v&&j[v]||j["@@iterator"],typeof j=="function"?j:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,k={};function E(j,U,ce){this.props=j,this.context=U,this.refs=k,this.updater=ce||C}E.prototype.isReactComponent={},E.prototype.setState=function(j,U){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,U,"setState")},E.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function _(){}_.prototype=E.prototype;function D(j,U,ce){this.props=j,this.context=U,this.refs=k,this.updater=ce||C}var A=D.prototype=new _;A.constructor=D,N(A,E.prototype),A.isPureReactComponent=!0;var I=Array.isArray,H=Object.prototype.hasOwnProperty,W={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function V(j,U,ce){var fe,ye={},ve=null,Ne=null;if(U!=null)for(fe in U.ref!==void 0&&(Ne=U.ref),U.key!==void 0&&(ve=""+U.key),U)H.call(U,fe)&&!z.hasOwnProperty(fe)&&(ye[fe]=U[fe]);var Ee=arguments.length-2;if(Ee===1)ye.children=ce;else if(1<Ee){for(var je=Array(Ee),St=0;St<Ee;St++)je[St]=arguments[St+2];ye.children=je}if(j&&j.defaultProps)for(fe in Ee=j.defaultProps,Ee)ye[fe]===void 0&&(ye[fe]=Ee[fe]);return{$$typeof:t,type:j,key:ve,ref:Ne,props:ye,_owner:W.current}}function re(j,U){return{$$typeof:t,type:j.type,key:U,ref:j.ref,props:j.props,_owner:j._owner}}function ge(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function Ge(j){var U={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ce){return U[ce]})}var te=/\/+/g;function pe(j,U){return typeof j=="object"&&j!==null&&j.key!=null?Ge(""+j.key):U.toString(36)}function Le(j,U,ce,fe,ye){var ve=typeof j;(ve==="undefined"||ve==="boolean")&&(j=null);var Ne=!1;if(j===null)Ne=!0;else switch(ve){case"string":case"number":Ne=!0;break;case"object":switch(j.$$typeof){case t:case e:Ne=!0}}if(Ne)return Ne=j,ye=ye(Ne),j=fe===""?"."+pe(Ne,0):fe,I(ye)?(ce="",j!=null&&(ce=j.replace(te,"$&/")+"/"),Le(ye,U,ce,"",function(St){return St})):ye!=null&&(ge(ye)&&(ye=re(ye,ce+(!ye.key||Ne&&Ne.key===ye.key?"":(""+ye.key).replace(te,"$&/")+"/")+j)),U.push(ye)),1;if(Ne=0,fe=fe===""?".":fe+":",I(j))for(var Ee=0;Ee<j.length;Ee++){ve=j[Ee];var je=fe+pe(ve,Ee);Ne+=Le(ve,U,ce,je,ye)}else if(je=w(j),typeof je=="function")for(j=je.call(j),Ee=0;!(ve=j.next()).done;)ve=ve.value,je=fe+pe(ve,Ee++),Ne+=Le(ve,U,ce,je,ye);else if(ve==="object")throw U=String(j),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return Ne}function ft(j,U,ce){if(j==null)return j;var fe=[],ye=0;return Le(j,fe,"","",function(ve){return U.call(ce,ve,ye++)}),fe}function qe(j){if(j._status===-1){var U=j._result;U=U(),U.then(function(ce){(j._status===0||j._status===-1)&&(j._status=1,j._result=ce)},function(ce){(j._status===0||j._status===-1)&&(j._status=2,j._result=ce)}),j._status===-1&&(j._status=0,j._result=U)}if(j._status===1)return j._result.default;throw j._result}var ue={current:null},K={transition:null},ne={ReactCurrentDispatcher:ue,ReactCurrentBatchConfig:K,ReactCurrentOwner:W};function Y(){throw Error("act(...) is not supported in production builds of React.")}return de.Children={map:ft,forEach:function(j,U,ce){ft(j,function(){U.apply(this,arguments)},ce)},count:function(j){var U=0;return ft(j,function(){U++}),U},toArray:function(j){return ft(j,function(U){return U})||[]},only:function(j){if(!ge(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},de.Component=E,de.Fragment=r,de.Profiler=a,de.PureComponent=D,de.StrictMode=i,de.Suspense=h,de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,de.act=Y,de.cloneElement=function(j,U,ce){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var fe=N({},j.props),ye=j.key,ve=j.ref,Ne=j._owner;if(U!=null){if(U.ref!==void 0&&(ve=U.ref,Ne=W.current),U.key!==void 0&&(ye=""+U.key),j.type&&j.type.defaultProps)var Ee=j.type.defaultProps;for(je in U)H.call(U,je)&&!z.hasOwnProperty(je)&&(fe[je]=U[je]===void 0&&Ee!==void 0?Ee[je]:U[je])}var je=arguments.length-2;if(je===1)fe.children=ce;else if(1<je){Ee=Array(je);for(var St=0;St<je;St++)Ee[St]=arguments[St+2];fe.children=Ee}return{$$typeof:t,type:j.type,key:ye,ref:ve,props:fe,_owner:Ne}},de.createContext=function(j){return j={$$typeof:u,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:c,_context:j},j.Consumer=j},de.createElement=V,de.createFactory=function(j){var U=V.bind(null,j);return U.type=j,U},de.createRef=function(){return{current:null}},de.forwardRef=function(j){return{$$typeof:f,render:j}},de.isValidElement=ge,de.lazy=function(j){return{$$typeof:y,_payload:{_status:-1,_result:j},_init:qe}},de.memo=function(j,U){return{$$typeof:g,type:j,compare:U===void 0?null:U}},de.startTransition=function(j){var U=K.transition;K.transition={};try{j()}finally{K.transition=U}},de.unstable_act=Y,de.useCallback=function(j,U){return ue.current.useCallback(j,U)},de.useContext=function(j){return ue.current.useContext(j)},de.useDebugValue=function(){},de.useDeferredValue=function(j){return ue.current.useDeferredValue(j)},de.useEffect=function(j,U){return ue.current.useEffect(j,U)},de.useId=function(){return ue.current.useId()},de.useImperativeHandle=function(j,U,ce){return ue.current.useImperativeHandle(j,U,ce)},de.useInsertionEffect=function(j,U){return ue.current.useInsertionEffect(j,U)},de.useLayoutEffect=function(j,U){return ue.current.useLayoutEffect(j,U)},de.useMemo=function(j,U){return ue.current.useMemo(j,U)},de.useReducer=function(j,U,ce){return ue.current.useReducer(j,U,ce)},de.useRef=function(j){return ue.current.useRef(j)},de.useState=function(j){return ue.current.useState(j)},de.useSyncExternalStore=function(j,U,ce){return ue.current.useSyncExternalStore(j,U,ce)},de.useTransition=function(){return ue.current.useTransition()},de.version="18.3.1",de}var Ip;function $u(){return Ip||(Ip=1,Dc.exports=Pw()),Dc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vp;function bw(){if(Vp)return ri;Vp=1;var t=$u(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(f,h,g){var y,v={},w=null,C=null;g!==void 0&&(w=""+g),h.key!==void 0&&(w=""+h.key),h.ref!==void 0&&(C=h.ref);for(y in h)i.call(h,y)&&!c.hasOwnProperty(y)&&(v[y]=h[y]);if(f&&f.defaultProps)for(y in h=f.defaultProps,h)v[y]===void 0&&(v[y]=h[y]);return{$$typeof:e,type:f,key:w,ref:C,props:v,_owner:a.current}}return ri.Fragment=r,ri.jsx=u,ri.jsxs=u,ri}var Fp;function _w(){return Fp||(Fp=1,Mc.exports=bw()),Mc.exports}var p=_w(),T=$u();const ou=Tw(T),jw=Nw({__proto__:null,default:ou},[T]);var Go={},Ic={exports:{}},vt={},Vc={exports:{}},Fc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Up;function Rw(){return Up||(Up=1,function(t){function e(K,ne){var Y=K.length;K.push(ne);e:for(;0<Y;){var j=Y-1>>>1,U=K[j];if(0<a(U,ne))K[j]=ne,K[Y]=U,Y=j;else break e}}function r(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var ne=K[0],Y=K.pop();if(Y!==ne){K[0]=Y;e:for(var j=0,U=K.length,ce=U>>>1;j<ce;){var fe=2*(j+1)-1,ye=K[fe],ve=fe+1,Ne=K[ve];if(0>a(ye,Y))ve<U&&0>a(Ne,ye)?(K[j]=Ne,K[ve]=Y,j=ve):(K[j]=ye,K[fe]=Y,j=fe);else if(ve<U&&0>a(Ne,Y))K[j]=Ne,K[ve]=Y,j=ve;else break e}}return ne}function a(K,ne){var Y=K.sortIndex-ne.sortIndex;return Y!==0?Y:K.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var h=[],g=[],y=1,v=null,w=3,C=!1,N=!1,k=!1,E=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(K){for(var ne=r(g);ne!==null;){if(ne.callback===null)i(g);else if(ne.startTime<=K)i(g),ne.sortIndex=ne.expirationTime,e(h,ne);else break;ne=r(g)}}function I(K){if(k=!1,A(K),!N)if(r(h)!==null)N=!0,qe(H);else{var ne=r(g);ne!==null&&ue(I,ne.startTime-K)}}function H(K,ne){N=!1,k&&(k=!1,_(V),V=-1),C=!0;var Y=w;try{for(A(ne),v=r(h);v!==null&&(!(v.expirationTime>ne)||K&&!Ge());){var j=v.callback;if(typeof j=="function"){v.callback=null,w=v.priorityLevel;var U=j(v.expirationTime<=ne);ne=t.unstable_now(),typeof U=="function"?v.callback=U:v===r(h)&&i(h),A(ne)}else i(h);v=r(h)}if(v!==null)var ce=!0;else{var fe=r(g);fe!==null&&ue(I,fe.startTime-ne),ce=!1}return ce}finally{v=null,w=Y,C=!1}}var W=!1,z=null,V=-1,re=5,ge=-1;function Ge(){return!(t.unstable_now()-ge<re)}function te(){if(z!==null){var K=t.unstable_now();ge=K;var ne=!0;try{ne=z(!0,K)}finally{ne?pe():(W=!1,z=null)}}else W=!1}var pe;if(typeof D=="function")pe=function(){D(te)};else if(typeof MessageChannel<"u"){var Le=new MessageChannel,ft=Le.port2;Le.port1.onmessage=te,pe=function(){ft.postMessage(null)}}else pe=function(){E(te,0)};function qe(K){z=K,W||(W=!0,pe())}function ue(K,ne){V=E(function(){K(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){N||C||(N=!0,qe(H))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return r(h)},t.unstable_next=function(K){switch(w){case 1:case 2:case 3:var ne=3;break;default:ne=w}var Y=w;w=ne;try{return K()}finally{w=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,ne){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var Y=w;w=K;try{return ne()}finally{w=Y}},t.unstable_scheduleCallback=function(K,ne,Y){var j=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?j+Y:j):Y=j,K){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=Y+U,K={id:y++,callback:ne,priorityLevel:K,startTime:Y,expirationTime:U,sortIndex:-1},Y>j?(K.sortIndex=Y,e(g,K),r(h)===null&&K===r(g)&&(k?(_(V),V=-1):k=!0,ue(I,Y-j))):(K.sortIndex=U,e(h,K),N||C||(N=!0,qe(H))),K},t.unstable_shouldYield=Ge,t.unstable_wrapCallback=function(K){var ne=w;return function(){var Y=w;w=ne;try{return K.apply(this,arguments)}finally{w=Y}}}}(Fc)),Fc}var Bp;function Aw(){return Bp||(Bp=1,Vc.exports=Rw()),Vc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zp;function Lw(){if(zp)return vt;zp=1;var t=$u(),e=Aw();function r(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,o=1;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function c(n,s){u(n,s),u(n+"Capture",s)}function u(n,s){for(a[n]=s,n=0;n<s.length;n++)i.add(s[n])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},v={};function w(n){return h.call(v,n)?!0:h.call(y,n)?!1:g.test(n)?v[n]=!0:(y[n]=!0,!1)}function C(n,s,o,l){if(o!==null&&o.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return l?!1:o!==null?!o.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function N(n,s,o,l){if(s===null||typeof s>"u"||C(n,s,o,l))return!0;if(l)return!1;if(o!==null)switch(o.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function k(n,s,o,l,d,m,x){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=l,this.attributeNamespace=d,this.mustUseProperty=o,this.propertyName=n,this.type=s,this.sanitizeURL=m,this.removeEmptyString=x}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){E[n]=new k(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];E[s]=new k(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){E[n]=new k(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){E[n]=new k(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){E[n]=new k(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){E[n]=new k(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){E[n]=new k(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){E[n]=new k(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){E[n]=new k(n,5,!1,n.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function D(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(_,D);E[s]=new k(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(_,D);E[s]=new k(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(_,D);E[s]=new k(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){E[n]=new k(n,1,!1,n.toLowerCase(),null,!1,!1)}),E.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){E[n]=new k(n,1,!1,n.toLowerCase(),null,!0,!0)});function A(n,s,o,l){var d=E.hasOwnProperty(s)?E[s]:null;(d!==null?d.type!==0:l||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(N(s,o,d,l)&&(o=null),l||d===null?w(s)&&(o===null?n.removeAttribute(s):n.setAttribute(s,""+o)):d.mustUseProperty?n[d.propertyName]=o===null?d.type===3?!1:"":o:(s=d.attributeName,l=d.attributeNamespace,o===null?n.removeAttribute(s):(d=d.type,o=d===3||d===4&&o===!0?"":""+o,l?n.setAttributeNS(l,s,o):n.setAttribute(s,o))))}var I=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,H=Symbol.for("react.element"),W=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),re=Symbol.for("react.profiler"),ge=Symbol.for("react.provider"),Ge=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),pe=Symbol.for("react.suspense"),Le=Symbol.for("react.suspense_list"),ft=Symbol.for("react.memo"),qe=Symbol.for("react.lazy"),ue=Symbol.for("react.offscreen"),K=Symbol.iterator;function ne(n){return n===null||typeof n!="object"?null:(n=K&&n[K]||n["@@iterator"],typeof n=="function"?n:null)}var Y=Object.assign,j;function U(n){if(j===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);j=s&&s[1]||""}return`
`+j+n}var ce=!1;function fe(n,s){if(!n||ce)return"";ce=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(O){var l=O}Reflect.construct(n,[],s)}else{try{s.call()}catch(O){l=O}n.call(s.prototype)}else{try{throw Error()}catch(O){l=O}n()}}catch(O){if(O&&l&&typeof O.stack=="string"){for(var d=O.stack.split(`
`),m=l.stack.split(`
`),x=d.length-1,S=m.length-1;1<=x&&0<=S&&d[x]!==m[S];)S--;for(;1<=x&&0<=S;x--,S--)if(d[x]!==m[S]){if(x!==1||S!==1)do if(x--,S--,0>S||d[x]!==m[S]){var P=`
`+d[x].replace(" at new "," at ");return n.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",n.displayName)),P}while(1<=x&&0<=S);break}}}finally{ce=!1,Error.prepareStackTrace=o}return(n=n?n.displayName||n.name:"")?U(n):""}function ye(n){switch(n.tag){case 5:return U(n.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return n=fe(n.type,!1),n;case 11:return n=fe(n.type.render,!1),n;case 1:return n=fe(n.type,!0),n;default:return""}}function ve(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case z:return"Fragment";case W:return"Portal";case re:return"Profiler";case V:return"StrictMode";case pe:return"Suspense";case Le:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Ge:return(n.displayName||"Context")+".Consumer";case ge:return(n._context.displayName||"Context")+".Provider";case te:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ft:return s=n.displayName||null,s!==null?s:ve(n.type)||"Memo";case qe:s=n._payload,n=n._init;try{return ve(n(s))}catch{}}return null}function Ne(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(s);case 8:return s===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ee(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function je(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function St(n){var s=je(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),l=""+n[s];if(!n.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,m=o.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return d.call(this)},set:function(x){l=""+x,m.call(this,x)}}),Object.defineProperty(n,s,{enumerable:o.enumerable}),{getValue:function(){return l},setValue:function(x){l=""+x},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Oi(n){n._valueTracker||(n._valueTracker=St(n))}function Bd(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var o=s.getValue(),l="";return n&&(l=je(n)?n.checked?"true":"false":n.value),n=l,n!==o?(s.setValue(n),!0):!1}function Mi(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function za(n,s){var o=s.checked;return Y({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??n._wrapperState.initialChecked})}function zd(n,s){var o=s.defaultValue==null?"":s.defaultValue,l=s.checked!=null?s.checked:s.defaultChecked;o=Ee(s.value!=null?s.value:o),n._wrapperState={initialChecked:l,initialValue:o,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function $d(n,s){s=s.checked,s!=null&&A(n,"checked",s,!1)}function $a(n,s){$d(n,s);var o=Ee(s.value),l=s.type;if(o!=null)l==="number"?(o===0&&n.value===""||n.value!=o)&&(n.value=""+o):n.value!==""+o&&(n.value=""+o);else if(l==="submit"||l==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?Ha(n,s.type,o):s.hasOwnProperty("defaultValue")&&Ha(n,s.type,Ee(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function Hd(n,s,o){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var l=s.type;if(!(l!=="submit"&&l!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,o||s===n.value||(n.value=s),n.defaultValue=s}o=n.name,o!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,o!==""&&(n.name=o)}function Ha(n,s,o){(s!=="number"||Mi(n.ownerDocument)!==n)&&(o==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+o&&(n.defaultValue=""+o))}var vs=Array.isArray;function Tr(n,s,o,l){if(n=n.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<n.length;o++)d=s.hasOwnProperty("$"+n[o].value),n[o].selected!==d&&(n[o].selected=d),d&&l&&(n[o].defaultSelected=!0)}else{for(o=""+Ee(o),s=null,d=0;d<n.length;d++){if(n[d].value===o){n[d].selected=!0,l&&(n[d].defaultSelected=!0);return}s!==null||n[d].disabled||(s=n[d])}s!==null&&(s.selected=!0)}}function Ga(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(r(91));return Y({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Gd(n,s){var o=s.value;if(o==null){if(o=s.children,s=s.defaultValue,o!=null){if(s!=null)throw Error(r(92));if(vs(o)){if(1<o.length)throw Error(r(93));o=o[0]}s=o}s==null&&(s=""),o=s}n._wrapperState={initialValue:Ee(o)}}function Wd(n,s){var o=Ee(s.value),l=Ee(s.defaultValue);o!=null&&(o=""+o,o!==n.value&&(n.value=o),s.defaultValue==null&&n.defaultValue!==o&&(n.defaultValue=o)),l!=null&&(n.defaultValue=""+l)}function Kd(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function qd(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wa(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?qd(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Di,Qd=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,o,l,d){MSApp.execUnsafeLocalFunction(function(){return n(s,o,l,d)})}:n}(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(Di=Di||document.createElement("div"),Di.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Di.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function xs(n,s){if(s){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=s;return}}n.textContent=s}var ws={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_v=["Webkit","ms","Moz","O"];Object.keys(ws).forEach(function(n){_v.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),ws[s]=ws[n]})});function Yd(n,s,o){return s==null||typeof s=="boolean"||s===""?"":o||typeof s!="number"||s===0||ws.hasOwnProperty(n)&&ws[n]?(""+s).trim():s+"px"}function Xd(n,s){n=n.style;for(var o in s)if(s.hasOwnProperty(o)){var l=o.indexOf("--")===0,d=Yd(o,s[o],l);o==="float"&&(o="cssFloat"),l?n.setProperty(o,d):n[o]=d}}var jv=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ka(n,s){if(s){if(jv[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(r(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(r(61))}if(s.style!=null&&typeof s.style!="object")throw Error(r(62))}}function qa(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qa=null;function Ya(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Xa=null,Pr=null,br=null;function Jd(n){if(n=zs(n)){if(typeof Xa!="function")throw Error(r(280));var s=n.stateNode;s&&(s=io(s),Xa(n.stateNode,n.type,s))}}function Zd(n){Pr?br?br.push(n):br=[n]:Pr=n}function ef(){if(Pr){var n=Pr,s=br;if(br=Pr=null,Jd(n),s)for(n=0;n<s.length;n++)Jd(s[n])}}function tf(n,s){return n(s)}function nf(){}var Ja=!1;function rf(n,s,o){if(Ja)return n(s,o);Ja=!0;try{return tf(n,s,o)}finally{Ja=!1,(Pr!==null||br!==null)&&(nf(),ef())}}function Ss(n,s){var o=n.stateNode;if(o===null)return null;var l=io(o);if(l===null)return null;o=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var Za=!1;if(f)try{var Es={};Object.defineProperty(Es,"passive",{get:function(){Za=!0}}),window.addEventListener("test",Es,Es),window.removeEventListener("test",Es,Es)}catch{Za=!1}function Rv(n,s,o,l,d,m,x,S,P){var O=Array.prototype.slice.call(arguments,3);try{s.apply(o,O)}catch(B){this.onError(B)}}var Cs=!1,Ii=null,Vi=!1,el=null,Av={onError:function(n){Cs=!0,Ii=n}};function Lv(n,s,o,l,d,m,x,S,P){Cs=!1,Ii=null,Rv.apply(Av,arguments)}function Ov(n,s,o,l,d,m,x,S,P){if(Lv.apply(this,arguments),Cs){if(Cs){var O=Ii;Cs=!1,Ii=null}else throw Error(r(198));Vi||(Vi=!0,el=O)}}function tr(n){var s=n,o=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(o=s.return),n=s.return;while(n)}return s.tag===3?o:null}function sf(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function of(n){if(tr(n)!==n)throw Error(r(188))}function Mv(n){var s=n.alternate;if(!s){if(s=tr(n),s===null)throw Error(r(188));return s!==n?null:n}for(var o=n,l=s;;){var d=o.return;if(d===null)break;var m=d.alternate;if(m===null){if(l=d.return,l!==null){o=l;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===o)return of(d),n;if(m===l)return of(d),s;m=m.sibling}throw Error(r(188))}if(o.return!==l.return)o=d,l=m;else{for(var x=!1,S=d.child;S;){if(S===o){x=!0,o=d,l=m;break}if(S===l){x=!0,l=d,o=m;break}S=S.sibling}if(!x){for(S=m.child;S;){if(S===o){x=!0,o=m,l=d;break}if(S===l){x=!0,l=m,o=d;break}S=S.sibling}if(!x)throw Error(r(189))}}if(o.alternate!==l)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?n:s}function af(n){return n=Mv(n),n!==null?lf(n):null}function lf(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=lf(n);if(s!==null)return s;n=n.sibling}return null}var cf=e.unstable_scheduleCallback,uf=e.unstable_cancelCallback,Dv=e.unstable_shouldYield,Iv=e.unstable_requestPaint,Fe=e.unstable_now,Vv=e.unstable_getCurrentPriorityLevel,tl=e.unstable_ImmediatePriority,df=e.unstable_UserBlockingPriority,Fi=e.unstable_NormalPriority,Fv=e.unstable_LowPriority,ff=e.unstable_IdlePriority,Ui=null,Jt=null;function Uv(n){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(Ui,n,void 0,(n.current.flags&128)===128)}catch{}}var Vt=Math.clz32?Math.clz32:$v,Bv=Math.log,zv=Math.LN2;function $v(n){return n>>>=0,n===0?32:31-(Bv(n)/zv|0)|0}var Bi=64,zi=4194304;function ks(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function $i(n,s){var o=n.pendingLanes;if(o===0)return 0;var l=0,d=n.suspendedLanes,m=n.pingedLanes,x=o&268435455;if(x!==0){var S=x&~d;S!==0?l=ks(S):(m&=x,m!==0&&(l=ks(m)))}else x=o&~d,x!==0?l=ks(x):m!==0&&(l=ks(m));if(l===0)return 0;if(s!==0&&s!==l&&(s&d)===0&&(d=l&-l,m=s&-s,d>=m||d===16&&(m&4194240)!==0))return s;if((l&4)!==0&&(l|=o&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=l;0<s;)o=31-Vt(s),d=1<<o,l|=n[o],s&=~d;return l}function Hv(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gv(n,s){for(var o=n.suspendedLanes,l=n.pingedLanes,d=n.expirationTimes,m=n.pendingLanes;0<m;){var x=31-Vt(m),S=1<<x,P=d[x];P===-1?((S&o)===0||(S&l)!==0)&&(d[x]=Hv(S,s)):P<=s&&(n.expiredLanes|=S),m&=~S}}function nl(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function hf(){var n=Bi;return Bi<<=1,(Bi&4194240)===0&&(Bi=64),n}function rl(n){for(var s=[],o=0;31>o;o++)s.push(n);return s}function Ns(n,s,o){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-Vt(s),n[s]=o}function Wv(n,s){var o=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var l=n.eventTimes;for(n=n.expirationTimes;0<o;){var d=31-Vt(o),m=1<<d;s[d]=0,l[d]=-1,n[d]=-1,o&=~m}}function sl(n,s){var o=n.entangledLanes|=s;for(n=n.entanglements;o;){var l=31-Vt(o),d=1<<l;d&s|n[l]&s&&(n[l]|=s),o&=~d}}var Ce=0;function pf(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var mf,il,gf,yf,vf,ol=!1,Hi=[],Cn=null,kn=null,Nn=null,Ts=new Map,Ps=new Map,Tn=[],Kv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xf(n,s){switch(n){case"focusin":case"focusout":Cn=null;break;case"dragenter":case"dragleave":kn=null;break;case"mouseover":case"mouseout":Nn=null;break;case"pointerover":case"pointerout":Ts.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ps.delete(s.pointerId)}}function bs(n,s,o,l,d,m){return n===null||n.nativeEvent!==m?(n={blockedOn:s,domEventName:o,eventSystemFlags:l,nativeEvent:m,targetContainers:[d]},s!==null&&(s=zs(s),s!==null&&il(s)),n):(n.eventSystemFlags|=l,s=n.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),n)}function qv(n,s,o,l,d){switch(s){case"focusin":return Cn=bs(Cn,n,s,o,l,d),!0;case"dragenter":return kn=bs(kn,n,s,o,l,d),!0;case"mouseover":return Nn=bs(Nn,n,s,o,l,d),!0;case"pointerover":var m=d.pointerId;return Ts.set(m,bs(Ts.get(m)||null,n,s,o,l,d)),!0;case"gotpointercapture":return m=d.pointerId,Ps.set(m,bs(Ps.get(m)||null,n,s,o,l,d)),!0}return!1}function wf(n){var s=nr(n.target);if(s!==null){var o=tr(s);if(o!==null){if(s=o.tag,s===13){if(s=sf(o),s!==null){n.blockedOn=s,vf(n.priority,function(){gf(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Gi(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var o=ll(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(o===null){o=n.nativeEvent;var l=new o.constructor(o.type,o);Qa=l,o.target.dispatchEvent(l),Qa=null}else return s=zs(o),s!==null&&il(s),n.blockedOn=o,!1;s.shift()}return!0}function Sf(n,s,o){Gi(n)&&o.delete(s)}function Qv(){ol=!1,Cn!==null&&Gi(Cn)&&(Cn=null),kn!==null&&Gi(kn)&&(kn=null),Nn!==null&&Gi(Nn)&&(Nn=null),Ts.forEach(Sf),Ps.forEach(Sf)}function _s(n,s){n.blockedOn===s&&(n.blockedOn=null,ol||(ol=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Qv)))}function js(n){function s(d){return _s(d,n)}if(0<Hi.length){_s(Hi[0],n);for(var o=1;o<Hi.length;o++){var l=Hi[o];l.blockedOn===n&&(l.blockedOn=null)}}for(Cn!==null&&_s(Cn,n),kn!==null&&_s(kn,n),Nn!==null&&_s(Nn,n),Ts.forEach(s),Ps.forEach(s),o=0;o<Tn.length;o++)l=Tn[o],l.blockedOn===n&&(l.blockedOn=null);for(;0<Tn.length&&(o=Tn[0],o.blockedOn===null);)wf(o),o.blockedOn===null&&Tn.shift()}var _r=I.ReactCurrentBatchConfig,Wi=!0;function Yv(n,s,o,l){var d=Ce,m=_r.transition;_r.transition=null;try{Ce=1,al(n,s,o,l)}finally{Ce=d,_r.transition=m}}function Xv(n,s,o,l){var d=Ce,m=_r.transition;_r.transition=null;try{Ce=4,al(n,s,o,l)}finally{Ce=d,_r.transition=m}}function al(n,s,o,l){if(Wi){var d=ll(n,s,o,l);if(d===null)Nl(n,s,l,Ki,o),xf(n,l);else if(qv(d,n,s,o,l))l.stopPropagation();else if(xf(n,l),s&4&&-1<Kv.indexOf(n)){for(;d!==null;){var m=zs(d);if(m!==null&&mf(m),m=ll(n,s,o,l),m===null&&Nl(n,s,l,Ki,o),m===d)break;d=m}d!==null&&l.stopPropagation()}else Nl(n,s,l,null,o)}}var Ki=null;function ll(n,s,o,l){if(Ki=null,n=Ya(l),n=nr(n),n!==null)if(s=tr(n),s===null)n=null;else if(o=s.tag,o===13){if(n=sf(s),n!==null)return n;n=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return Ki=n,null}function Ef(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vv()){case tl:return 1;case df:return 4;case Fi:case Fv:return 16;case ff:return 536870912;default:return 16}default:return 16}}var Pn=null,cl=null,qi=null;function Cf(){if(qi)return qi;var n,s=cl,o=s.length,l,d="value"in Pn?Pn.value:Pn.textContent,m=d.length;for(n=0;n<o&&s[n]===d[n];n++);var x=o-n;for(l=1;l<=x&&s[o-l]===d[m-l];l++);return qi=d.slice(n,1<l?1-l:void 0)}function Qi(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Yi(){return!0}function kf(){return!1}function Et(n){function s(o,l,d,m,x){this._reactName=o,this._targetInst=d,this.type=l,this.nativeEvent=m,this.target=x,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(o=n[S],this[S]=o?o(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Yi:kf,this.isPropagationStopped=kf,this}return Y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Yi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Yi)},persist:function(){},isPersistent:Yi}),s}var jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ul=Et(jr),Rs=Y({},jr,{view:0,detail:0}),Jv=Et(Rs),dl,fl,As,Xi=Y({},Rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pl,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==As&&(As&&n.type==="mousemove"?(dl=n.screenX-As.screenX,fl=n.screenY-As.screenY):fl=dl=0,As=n),dl)},movementY:function(n){return"movementY"in n?n.movementY:fl}}),Nf=Et(Xi),Zv=Y({},Xi,{dataTransfer:0}),ex=Et(Zv),tx=Y({},Rs,{relatedTarget:0}),hl=Et(tx),nx=Y({},jr,{animationName:0,elapsedTime:0,pseudoElement:0}),rx=Et(nx),sx=Y({},jr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ix=Et(sx),ox=Y({},jr,{data:0}),Tf=Et(ox),ax={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ux(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=cx[n])?!!s[n]:!1}function pl(){return ux}var dx=Y({},Rs,{key:function(n){if(n.key){var s=ax[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Qi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?lx[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pl,charCode:function(n){return n.type==="keypress"?Qi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Qi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),fx=Et(dx),hx=Y({},Xi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pf=Et(hx),px=Y({},Rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pl}),mx=Et(px),gx=Y({},jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),yx=Et(gx),vx=Y({},Xi,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),xx=Et(vx),wx=[9,13,27,32],ml=f&&"CompositionEvent"in window,Ls=null;f&&"documentMode"in document&&(Ls=document.documentMode);var Sx=f&&"TextEvent"in window&&!Ls,bf=f&&(!ml||Ls&&8<Ls&&11>=Ls),_f=" ",jf=!1;function Rf(n,s){switch(n){case"keyup":return wx.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Af(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Rr=!1;function Ex(n,s){switch(n){case"compositionend":return Af(s);case"keypress":return s.which!==32?null:(jf=!0,_f);case"textInput":return n=s.data,n===_f&&jf?null:n;default:return null}}function Cx(n,s){if(Rr)return n==="compositionend"||!ml&&Rf(n,s)?(n=Cf(),qi=cl=Pn=null,Rr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return bf&&s.locale!=="ko"?null:s.data;default:return null}}var kx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lf(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!kx[n.type]:s==="textarea"}function Of(n,s,o,l){Zd(l),s=no(s,"onChange"),0<s.length&&(o=new ul("onChange","change",null,o,l),n.push({event:o,listeners:s}))}var Os=null,Ms=null;function Nx(n){Jf(n,0)}function Ji(n){var s=Dr(n);if(Bd(s))return n}function Tx(n,s){if(n==="change")return s}var Mf=!1;if(f){var gl;if(f){var yl="oninput"in document;if(!yl){var Df=document.createElement("div");Df.setAttribute("oninput","return;"),yl=typeof Df.oninput=="function"}gl=yl}else gl=!1;Mf=gl&&(!document.documentMode||9<document.documentMode)}function If(){Os&&(Os.detachEvent("onpropertychange",Vf),Ms=Os=null)}function Vf(n){if(n.propertyName==="value"&&Ji(Ms)){var s=[];Of(s,Ms,n,Ya(n)),rf(Nx,s)}}function Px(n,s,o){n==="focusin"?(If(),Os=s,Ms=o,Os.attachEvent("onpropertychange",Vf)):n==="focusout"&&If()}function bx(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ji(Ms)}function _x(n,s){if(n==="click")return Ji(s)}function jx(n,s){if(n==="input"||n==="change")return Ji(s)}function Rx(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Ft=typeof Object.is=="function"?Object.is:Rx;function Ds(n,s){if(Ft(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var o=Object.keys(n),l=Object.keys(s);if(o.length!==l.length)return!1;for(l=0;l<o.length;l++){var d=o[l];if(!h.call(s,d)||!Ft(n[d],s[d]))return!1}return!0}function Ff(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Uf(n,s){var o=Ff(n);n=0;for(var l;o;){if(o.nodeType===3){if(l=n+o.textContent.length,n<=s&&l>=s)return{node:o,offset:s-n};n=l}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Ff(o)}}function Bf(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Bf(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function zf(){for(var n=window,s=Mi();s instanceof n.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)n=s.contentWindow;else break;s=Mi(n.document)}return s}function vl(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function Ax(n){var s=zf(),o=n.focusedElem,l=n.selectionRange;if(s!==o&&o&&o.ownerDocument&&Bf(o.ownerDocument.documentElement,o)){if(l!==null&&vl(o)){if(s=l.start,n=l.end,n===void 0&&(n=s),"selectionStart"in o)o.selectionStart=s,o.selectionEnd=Math.min(n,o.value.length);else if(n=(s=o.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var d=o.textContent.length,m=Math.min(l.start,d);l=l.end===void 0?m:Math.min(l.end,d),!n.extend&&m>l&&(d=l,l=m,m=d),d=Uf(o,m);var x=Uf(o,l);d&&x&&(n.rangeCount!==1||n.anchorNode!==d.node||n.anchorOffset!==d.offset||n.focusNode!==x.node||n.focusOffset!==x.offset)&&(s=s.createRange(),s.setStart(d.node,d.offset),n.removeAllRanges(),m>l?(n.addRange(s),n.extend(x.node,x.offset)):(s.setEnd(x.node,x.offset),n.addRange(s)))}}for(s=[],n=o;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<s.length;o++)n=s[o],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Lx=f&&"documentMode"in document&&11>=document.documentMode,Ar=null,xl=null,Is=null,wl=!1;function $f(n,s,o){var l=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;wl||Ar==null||Ar!==Mi(l)||(l=Ar,"selectionStart"in l&&vl(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Is&&Ds(Is,l)||(Is=l,l=no(xl,"onSelect"),0<l.length&&(s=new ul("onSelect","select",null,s,o),n.push({event:s,listeners:l}),s.target=Ar)))}function Zi(n,s){var o={};return o[n.toLowerCase()]=s.toLowerCase(),o["Webkit"+n]="webkit"+s,o["Moz"+n]="moz"+s,o}var Lr={animationend:Zi("Animation","AnimationEnd"),animationiteration:Zi("Animation","AnimationIteration"),animationstart:Zi("Animation","AnimationStart"),transitionend:Zi("Transition","TransitionEnd")},Sl={},Hf={};f&&(Hf=document.createElement("div").style,"AnimationEvent"in window||(delete Lr.animationend.animation,delete Lr.animationiteration.animation,delete Lr.animationstart.animation),"TransitionEvent"in window||delete Lr.transitionend.transition);function eo(n){if(Sl[n])return Sl[n];if(!Lr[n])return n;var s=Lr[n],o;for(o in s)if(s.hasOwnProperty(o)&&o in Hf)return Sl[n]=s[o];return n}var Gf=eo("animationend"),Wf=eo("animationiteration"),Kf=eo("animationstart"),qf=eo("transitionend"),Qf=new Map,Yf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bn(n,s){Qf.set(n,s),c(s,[n])}for(var El=0;El<Yf.length;El++){var Cl=Yf[El],Ox=Cl.toLowerCase(),Mx=Cl[0].toUpperCase()+Cl.slice(1);bn(Ox,"on"+Mx)}bn(Gf,"onAnimationEnd"),bn(Wf,"onAnimationIteration"),bn(Kf,"onAnimationStart"),bn("dblclick","onDoubleClick"),bn("focusin","onFocus"),bn("focusout","onBlur"),bn(qf,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vs));function Xf(n,s,o){var l=n.type||"unknown-event";n.currentTarget=o,Ov(l,s,void 0,n),n.currentTarget=null}function Jf(n,s){s=(s&4)!==0;for(var o=0;o<n.length;o++){var l=n[o],d=l.event;l=l.listeners;e:{var m=void 0;if(s)for(var x=l.length-1;0<=x;x--){var S=l[x],P=S.instance,O=S.currentTarget;if(S=S.listener,P!==m&&d.isPropagationStopped())break e;Xf(d,S,O),m=P}else for(x=0;x<l.length;x++){if(S=l[x],P=S.instance,O=S.currentTarget,S=S.listener,P!==m&&d.isPropagationStopped())break e;Xf(d,S,O),m=P}}}if(Vi)throw n=el,Vi=!1,el=null,n}function be(n,s){var o=s[Rl];o===void 0&&(o=s[Rl]=new Set);var l=n+"__bubble";o.has(l)||(Zf(s,n,2,!1),o.add(l))}function kl(n,s,o){var l=0;s&&(l|=4),Zf(o,n,l,s)}var to="_reactListening"+Math.random().toString(36).slice(2);function Fs(n){if(!n[to]){n[to]=!0,i.forEach(function(o){o!=="selectionchange"&&(Dx.has(o)||kl(o,!1,n),kl(o,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[to]||(s[to]=!0,kl("selectionchange",!1,s))}}function Zf(n,s,o,l){switch(Ef(s)){case 1:var d=Yv;break;case 4:d=Xv;break;default:d=al}o=d.bind(null,s,o,n),d=void 0,!Za||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),l?d!==void 0?n.addEventListener(s,o,{capture:!0,passive:d}):n.addEventListener(s,o,!0):d!==void 0?n.addEventListener(s,o,{passive:d}):n.addEventListener(s,o,!1)}function Nl(n,s,o,l,d){var m=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var x=l.tag;if(x===3||x===4){var S=l.stateNode.containerInfo;if(S===d||S.nodeType===8&&S.parentNode===d)break;if(x===4)for(x=l.return;x!==null;){var P=x.tag;if((P===3||P===4)&&(P=x.stateNode.containerInfo,P===d||P.nodeType===8&&P.parentNode===d))return;x=x.return}for(;S!==null;){if(x=nr(S),x===null)return;if(P=x.tag,P===5||P===6){l=m=x;continue e}S=S.parentNode}}l=l.return}rf(function(){var O=m,B=Ya(o),$=[];e:{var F=Qf.get(n);if(F!==void 0){var Q=ul,J=n;switch(n){case"keypress":if(Qi(o)===0)break e;case"keydown":case"keyup":Q=fx;break;case"focusin":J="focus",Q=hl;break;case"focusout":J="blur",Q=hl;break;case"beforeblur":case"afterblur":Q=hl;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Nf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=ex;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=mx;break;case Gf:case Wf:case Kf:Q=rx;break;case qf:Q=yx;break;case"scroll":Q=Jv;break;case"wheel":Q=xx;break;case"copy":case"cut":case"paste":Q=ix;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Pf}var Z=(s&4)!==0,Ue=!Z&&n==="scroll",R=Z?F!==null?F+"Capture":null:F;Z=[];for(var b=O,L;b!==null;){L=b;var G=L.stateNode;if(L.tag===5&&G!==null&&(L=G,R!==null&&(G=Ss(b,R),G!=null&&Z.push(Us(b,G,L)))),Ue)break;b=b.return}0<Z.length&&(F=new Q(F,J,null,o,B),$.push({event:F,listeners:Z}))}}if((s&7)===0){e:{if(F=n==="mouseover"||n==="pointerover",Q=n==="mouseout"||n==="pointerout",F&&o!==Qa&&(J=o.relatedTarget||o.fromElement)&&(nr(J)||J[cn]))break e;if((Q||F)&&(F=B.window===B?B:(F=B.ownerDocument)?F.defaultView||F.parentWindow:window,Q?(J=o.relatedTarget||o.toElement,Q=O,J=J?nr(J):null,J!==null&&(Ue=tr(J),J!==Ue||J.tag!==5&&J.tag!==6)&&(J=null)):(Q=null,J=O),Q!==J)){if(Z=Nf,G="onMouseLeave",R="onMouseEnter",b="mouse",(n==="pointerout"||n==="pointerover")&&(Z=Pf,G="onPointerLeave",R="onPointerEnter",b="pointer"),Ue=Q==null?F:Dr(Q),L=J==null?F:Dr(J),F=new Z(G,b+"leave",Q,o,B),F.target=Ue,F.relatedTarget=L,G=null,nr(B)===O&&(Z=new Z(R,b+"enter",J,o,B),Z.target=L,Z.relatedTarget=Ue,G=Z),Ue=G,Q&&J)t:{for(Z=Q,R=J,b=0,L=Z;L;L=Or(L))b++;for(L=0,G=R;G;G=Or(G))L++;for(;0<b-L;)Z=Or(Z),b--;for(;0<L-b;)R=Or(R),L--;for(;b--;){if(Z===R||R!==null&&Z===R.alternate)break t;Z=Or(Z),R=Or(R)}Z=null}else Z=null;Q!==null&&eh($,F,Q,Z,!1),J!==null&&Ue!==null&&eh($,Ue,J,Z,!0)}}e:{if(F=O?Dr(O):window,Q=F.nodeName&&F.nodeName.toLowerCase(),Q==="select"||Q==="input"&&F.type==="file")var ee=Tx;else if(Lf(F))if(Mf)ee=jx;else{ee=bx;var se=Px}else(Q=F.nodeName)&&Q.toLowerCase()==="input"&&(F.type==="checkbox"||F.type==="radio")&&(ee=_x);if(ee&&(ee=ee(n,O))){Of($,ee,o,B);break e}se&&se(n,F,O),n==="focusout"&&(se=F._wrapperState)&&se.controlled&&F.type==="number"&&Ha(F,"number",F.value)}switch(se=O?Dr(O):window,n){case"focusin":(Lf(se)||se.contentEditable==="true")&&(Ar=se,xl=O,Is=null);break;case"focusout":Is=xl=Ar=null;break;case"mousedown":wl=!0;break;case"contextmenu":case"mouseup":case"dragend":wl=!1,$f($,o,B);break;case"selectionchange":if(Lx)break;case"keydown":case"keyup":$f($,o,B)}var ie;if(ml)e:{switch(n){case"compositionstart":var ae="onCompositionStart";break e;case"compositionend":ae="onCompositionEnd";break e;case"compositionupdate":ae="onCompositionUpdate";break e}ae=void 0}else Rr?Rf(n,o)&&(ae="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(ae="onCompositionStart");ae&&(bf&&o.locale!=="ko"&&(Rr||ae!=="onCompositionStart"?ae==="onCompositionEnd"&&Rr&&(ie=Cf()):(Pn=B,cl="value"in Pn?Pn.value:Pn.textContent,Rr=!0)),se=no(O,ae),0<se.length&&(ae=new Tf(ae,n,null,o,B),$.push({event:ae,listeners:se}),ie?ae.data=ie:(ie=Af(o),ie!==null&&(ae.data=ie)))),(ie=Sx?Ex(n,o):Cx(n,o))&&(O=no(O,"onBeforeInput"),0<O.length&&(B=new Tf("onBeforeInput","beforeinput",null,o,B),$.push({event:B,listeners:O}),B.data=ie))}Jf($,s)})}function Us(n,s,o){return{instance:n,listener:s,currentTarget:o}}function no(n,s){for(var o=s+"Capture",l=[];n!==null;){var d=n,m=d.stateNode;d.tag===5&&m!==null&&(d=m,m=Ss(n,o),m!=null&&l.unshift(Us(n,m,d)),m=Ss(n,s),m!=null&&l.push(Us(n,m,d))),n=n.return}return l}function Or(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function eh(n,s,o,l,d){for(var m=s._reactName,x=[];o!==null&&o!==l;){var S=o,P=S.alternate,O=S.stateNode;if(P!==null&&P===l)break;S.tag===5&&O!==null&&(S=O,d?(P=Ss(o,m),P!=null&&x.unshift(Us(o,P,S))):d||(P=Ss(o,m),P!=null&&x.push(Us(o,P,S)))),o=o.return}x.length!==0&&n.push({event:s,listeners:x})}var Ix=/\r\n?/g,Vx=/\u0000|\uFFFD/g;function th(n){return(typeof n=="string"?n:""+n).replace(Ix,`
`).replace(Vx,"")}function ro(n,s,o){if(s=th(s),th(n)!==s&&o)throw Error(r(425))}function so(){}var Tl=null,Pl=null;function bl(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var _l=typeof setTimeout=="function"?setTimeout:void 0,Fx=typeof clearTimeout=="function"?clearTimeout:void 0,nh=typeof Promise=="function"?Promise:void 0,Ux=typeof queueMicrotask=="function"?queueMicrotask:typeof nh<"u"?function(n){return nh.resolve(null).then(n).catch(Bx)}:_l;function Bx(n){setTimeout(function(){throw n})}function jl(n,s){var o=s,l=0;do{var d=o.nextSibling;if(n.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(l===0){n.removeChild(d),js(s);return}l--}else o!=="$"&&o!=="$?"&&o!=="$!"||l++;o=d}while(o);js(s)}function _n(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function rh(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return n;s--}else o==="/$"&&s++}n=n.previousSibling}return null}var Mr=Math.random().toString(36).slice(2),Zt="__reactFiber$"+Mr,Bs="__reactProps$"+Mr,cn="__reactContainer$"+Mr,Rl="__reactEvents$"+Mr,zx="__reactListeners$"+Mr,$x="__reactHandles$"+Mr;function nr(n){var s=n[Zt];if(s)return s;for(var o=n.parentNode;o;){if(s=o[cn]||o[Zt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(n=rh(n);n!==null;){if(o=n[Zt])return o;n=rh(n)}return s}n=o,o=n.parentNode}return null}function zs(n){return n=n[Zt]||n[cn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Dr(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function io(n){return n[Bs]||null}var Al=[],Ir=-1;function jn(n){return{current:n}}function _e(n){0>Ir||(n.current=Al[Ir],Al[Ir]=null,Ir--)}function Te(n,s){Ir++,Al[Ir]=n.current,n.current=s}var Rn={},nt=jn(Rn),ht=jn(!1),rr=Rn;function Vr(n,s){var o=n.type.contextTypes;if(!o)return Rn;var l=n.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===s)return l.__reactInternalMemoizedMaskedChildContext;var d={},m;for(m in o)d[m]=s[m];return l&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=d),d}function pt(n){return n=n.childContextTypes,n!=null}function oo(){_e(ht),_e(nt)}function sh(n,s,o){if(nt.current!==Rn)throw Error(r(168));Te(nt,s),Te(ht,o)}function ih(n,s,o){var l=n.stateNode;if(s=s.childContextTypes,typeof l.getChildContext!="function")return o;l=l.getChildContext();for(var d in l)if(!(d in s))throw Error(r(108,Ne(n)||"Unknown",d));return Y({},o,l)}function ao(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Rn,rr=nt.current,Te(nt,n),Te(ht,ht.current),!0}function oh(n,s,o){var l=n.stateNode;if(!l)throw Error(r(169));o?(n=ih(n,s,rr),l.__reactInternalMemoizedMergedChildContext=n,_e(ht),_e(nt),Te(nt,n)):_e(ht),Te(ht,o)}var un=null,lo=!1,Ll=!1;function ah(n){un===null?un=[n]:un.push(n)}function Hx(n){lo=!0,ah(n)}function An(){if(!Ll&&un!==null){Ll=!0;var n=0,s=Ce;try{var o=un;for(Ce=1;n<o.length;n++){var l=o[n];do l=l(!0);while(l!==null)}un=null,lo=!1}catch(d){throw un!==null&&(un=un.slice(n+1)),cf(tl,An),d}finally{Ce=s,Ll=!1}}return null}var Fr=[],Ur=0,co=null,uo=0,bt=[],_t=0,sr=null,dn=1,fn="";function ir(n,s){Fr[Ur++]=uo,Fr[Ur++]=co,co=n,uo=s}function lh(n,s,o){bt[_t++]=dn,bt[_t++]=fn,bt[_t++]=sr,sr=n;var l=dn;n=fn;var d=32-Vt(l)-1;l&=~(1<<d),o+=1;var m=32-Vt(s)+d;if(30<m){var x=d-d%5;m=(l&(1<<x)-1).toString(32),l>>=x,d-=x,dn=1<<32-Vt(s)+d|o<<d|l,fn=m+n}else dn=1<<m|o<<d|l,fn=n}function Ol(n){n.return!==null&&(ir(n,1),lh(n,1,0))}function Ml(n){for(;n===co;)co=Fr[--Ur],Fr[Ur]=null,uo=Fr[--Ur],Fr[Ur]=null;for(;n===sr;)sr=bt[--_t],bt[_t]=null,fn=bt[--_t],bt[_t]=null,dn=bt[--_t],bt[_t]=null}var Ct=null,kt=null,Re=!1,Ut=null;function ch(n,s){var o=Lt(5,null,null,0);o.elementType="DELETED",o.stateNode=s,o.return=n,s=n.deletions,s===null?(n.deletions=[o],n.flags|=16):s.push(o)}function uh(n,s){switch(n.tag){case 5:var o=n.type;return s=s.nodeType!==1||o.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,Ct=n,kt=_n(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,Ct=n,kt=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(o=sr!==null?{id:dn,overflow:fn}:null,n.memoizedState={dehydrated:s,treeContext:o,retryLane:1073741824},o=Lt(18,null,null,0),o.stateNode=s,o.return=n,n.child=o,Ct=n,kt=null,!0):!1;default:return!1}}function Dl(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Il(n){if(Re){var s=kt;if(s){var o=s;if(!uh(n,s)){if(Dl(n))throw Error(r(418));s=_n(o.nextSibling);var l=Ct;s&&uh(n,s)?ch(l,o):(n.flags=n.flags&-4097|2,Re=!1,Ct=n)}}else{if(Dl(n))throw Error(r(418));n.flags=n.flags&-4097|2,Re=!1,Ct=n}}}function dh(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Ct=n}function fo(n){if(n!==Ct)return!1;if(!Re)return dh(n),Re=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!bl(n.type,n.memoizedProps)),s&&(s=kt)){if(Dl(n))throw fh(),Error(r(418));for(;s;)ch(n,s),s=_n(s.nextSibling)}if(dh(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"){if(s===0){kt=_n(n.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++}n=n.nextSibling}kt=null}}else kt=Ct?_n(n.stateNode.nextSibling):null;return!0}function fh(){for(var n=kt;n;)n=_n(n.nextSibling)}function Br(){kt=Ct=null,Re=!1}function Vl(n){Ut===null?Ut=[n]:Ut.push(n)}var Gx=I.ReactCurrentBatchConfig;function $s(n,s,o){if(n=o.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(r(309));var l=o.stateNode}if(!l)throw Error(r(147,n));var d=l,m=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===m?s.ref:(s=function(x){var S=d.refs;x===null?delete S[m]:S[m]=x},s._stringRef=m,s)}if(typeof n!="string")throw Error(r(284));if(!o._owner)throw Error(r(290,n))}return n}function ho(n,s){throw n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function hh(n){var s=n._init;return s(n._payload)}function ph(n){function s(R,b){if(n){var L=R.deletions;L===null?(R.deletions=[b],R.flags|=16):L.push(b)}}function o(R,b){if(!n)return null;for(;b!==null;)s(R,b),b=b.sibling;return null}function l(R,b){for(R=new Map;b!==null;)b.key!==null?R.set(b.key,b):R.set(b.index,b),b=b.sibling;return R}function d(R,b){return R=Un(R,b),R.index=0,R.sibling=null,R}function m(R,b,L){return R.index=L,n?(L=R.alternate,L!==null?(L=L.index,L<b?(R.flags|=2,b):L):(R.flags|=2,b)):(R.flags|=1048576,b)}function x(R){return n&&R.alternate===null&&(R.flags|=2),R}function S(R,b,L,G){return b===null||b.tag!==6?(b=_c(L,R.mode,G),b.return=R,b):(b=d(b,L),b.return=R,b)}function P(R,b,L,G){var ee=L.type;return ee===z?B(R,b,L.props.children,G,L.key):b!==null&&(b.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===qe&&hh(ee)===b.type)?(G=d(b,L.props),G.ref=$s(R,b,L),G.return=R,G):(G=Io(L.type,L.key,L.props,null,R.mode,G),G.ref=$s(R,b,L),G.return=R,G)}function O(R,b,L,G){return b===null||b.tag!==4||b.stateNode.containerInfo!==L.containerInfo||b.stateNode.implementation!==L.implementation?(b=jc(L,R.mode,G),b.return=R,b):(b=d(b,L.children||[]),b.return=R,b)}function B(R,b,L,G,ee){return b===null||b.tag!==7?(b=hr(L,R.mode,G,ee),b.return=R,b):(b=d(b,L),b.return=R,b)}function $(R,b,L){if(typeof b=="string"&&b!==""||typeof b=="number")return b=_c(""+b,R.mode,L),b.return=R,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case H:return L=Io(b.type,b.key,b.props,null,R.mode,L),L.ref=$s(R,null,b),L.return=R,L;case W:return b=jc(b,R.mode,L),b.return=R,b;case qe:var G=b._init;return $(R,G(b._payload),L)}if(vs(b)||ne(b))return b=hr(b,R.mode,L,null),b.return=R,b;ho(R,b)}return null}function F(R,b,L,G){var ee=b!==null?b.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return ee!==null?null:S(R,b,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case H:return L.key===ee?P(R,b,L,G):null;case W:return L.key===ee?O(R,b,L,G):null;case qe:return ee=L._init,F(R,b,ee(L._payload),G)}if(vs(L)||ne(L))return ee!==null?null:B(R,b,L,G,null);ho(R,L)}return null}function Q(R,b,L,G,ee){if(typeof G=="string"&&G!==""||typeof G=="number")return R=R.get(L)||null,S(b,R,""+G,ee);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case H:return R=R.get(G.key===null?L:G.key)||null,P(b,R,G,ee);case W:return R=R.get(G.key===null?L:G.key)||null,O(b,R,G,ee);case qe:var se=G._init;return Q(R,b,L,se(G._payload),ee)}if(vs(G)||ne(G))return R=R.get(L)||null,B(b,R,G,ee,null);ho(b,G)}return null}function J(R,b,L,G){for(var ee=null,se=null,ie=b,ae=b=0,Xe=null;ie!==null&&ae<L.length;ae++){ie.index>ae?(Xe=ie,ie=null):Xe=ie.sibling;var xe=F(R,ie,L[ae],G);if(xe===null){ie===null&&(ie=Xe);break}n&&ie&&xe.alternate===null&&s(R,ie),b=m(xe,b,ae),se===null?ee=xe:se.sibling=xe,se=xe,ie=Xe}if(ae===L.length)return o(R,ie),Re&&ir(R,ae),ee;if(ie===null){for(;ae<L.length;ae++)ie=$(R,L[ae],G),ie!==null&&(b=m(ie,b,ae),se===null?ee=ie:se.sibling=ie,se=ie);return Re&&ir(R,ae),ee}for(ie=l(R,ie);ae<L.length;ae++)Xe=Q(ie,R,ae,L[ae],G),Xe!==null&&(n&&Xe.alternate!==null&&ie.delete(Xe.key===null?ae:Xe.key),b=m(Xe,b,ae),se===null?ee=Xe:se.sibling=Xe,se=Xe);return n&&ie.forEach(function(Bn){return s(R,Bn)}),Re&&ir(R,ae),ee}function Z(R,b,L,G){var ee=ne(L);if(typeof ee!="function")throw Error(r(150));if(L=ee.call(L),L==null)throw Error(r(151));for(var se=ee=null,ie=b,ae=b=0,Xe=null,xe=L.next();ie!==null&&!xe.done;ae++,xe=L.next()){ie.index>ae?(Xe=ie,ie=null):Xe=ie.sibling;var Bn=F(R,ie,xe.value,G);if(Bn===null){ie===null&&(ie=Xe);break}n&&ie&&Bn.alternate===null&&s(R,ie),b=m(Bn,b,ae),se===null?ee=Bn:se.sibling=Bn,se=Bn,ie=Xe}if(xe.done)return o(R,ie),Re&&ir(R,ae),ee;if(ie===null){for(;!xe.done;ae++,xe=L.next())xe=$(R,xe.value,G),xe!==null&&(b=m(xe,b,ae),se===null?ee=xe:se.sibling=xe,se=xe);return Re&&ir(R,ae),ee}for(ie=l(R,ie);!xe.done;ae++,xe=L.next())xe=Q(ie,R,ae,xe.value,G),xe!==null&&(n&&xe.alternate!==null&&ie.delete(xe.key===null?ae:xe.key),b=m(xe,b,ae),se===null?ee=xe:se.sibling=xe,se=xe);return n&&ie.forEach(function(kw){return s(R,kw)}),Re&&ir(R,ae),ee}function Ue(R,b,L,G){if(typeof L=="object"&&L!==null&&L.type===z&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case H:e:{for(var ee=L.key,se=b;se!==null;){if(se.key===ee){if(ee=L.type,ee===z){if(se.tag===7){o(R,se.sibling),b=d(se,L.props.children),b.return=R,R=b;break e}}else if(se.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===qe&&hh(ee)===se.type){o(R,se.sibling),b=d(se,L.props),b.ref=$s(R,se,L),b.return=R,R=b;break e}o(R,se);break}else s(R,se);se=se.sibling}L.type===z?(b=hr(L.props.children,R.mode,G,L.key),b.return=R,R=b):(G=Io(L.type,L.key,L.props,null,R.mode,G),G.ref=$s(R,b,L),G.return=R,R=G)}return x(R);case W:e:{for(se=L.key;b!==null;){if(b.key===se)if(b.tag===4&&b.stateNode.containerInfo===L.containerInfo&&b.stateNode.implementation===L.implementation){o(R,b.sibling),b=d(b,L.children||[]),b.return=R,R=b;break e}else{o(R,b);break}else s(R,b);b=b.sibling}b=jc(L,R.mode,G),b.return=R,R=b}return x(R);case qe:return se=L._init,Ue(R,b,se(L._payload),G)}if(vs(L))return J(R,b,L,G);if(ne(L))return Z(R,b,L,G);ho(R,L)}return typeof L=="string"&&L!==""||typeof L=="number"?(L=""+L,b!==null&&b.tag===6?(o(R,b.sibling),b=d(b,L),b.return=R,R=b):(o(R,b),b=_c(L,R.mode,G),b.return=R,R=b),x(R)):o(R,b)}return Ue}var zr=ph(!0),mh=ph(!1),po=jn(null),mo=null,$r=null,Fl=null;function Ul(){Fl=$r=mo=null}function Bl(n){var s=po.current;_e(po),n._currentValue=s}function zl(n,s,o){for(;n!==null;){var l=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),n===o)break;n=n.return}}function Hr(n,s){mo=n,Fl=$r=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&s)!==0&&(mt=!0),n.firstContext=null)}function jt(n){var s=n._currentValue;if(Fl!==n)if(n={context:n,memoizedValue:s,next:null},$r===null){if(mo===null)throw Error(r(308));$r=n,mo.dependencies={lanes:0,firstContext:n}}else $r=$r.next=n;return s}var or=null;function $l(n){or===null?or=[n]:or.push(n)}function gh(n,s,o,l){var d=s.interleaved;return d===null?(o.next=o,$l(s)):(o.next=d.next,d.next=o),s.interleaved=o,hn(n,l)}function hn(n,s){n.lanes|=s;var o=n.alternate;for(o!==null&&(o.lanes|=s),o=n,n=n.return;n!==null;)n.childLanes|=s,o=n.alternate,o!==null&&(o.childLanes|=s),o=n,n=n.return;return o.tag===3?o.stateNode:null}var Ln=!1;function Hl(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yh(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function pn(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function On(n,s,o){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(me&2)!==0){var d=l.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),l.pending=s,hn(n,o)}return d=l.interleaved,d===null?(s.next=s,$l(l)):(s.next=d.next,d.next=s),l.interleaved=s,hn(n,o)}function go(n,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194240)!==0)){var l=s.lanes;l&=n.pendingLanes,o|=l,s.lanes=o,sl(n,o)}}function vh(n,s){var o=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,o===l)){var d=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var x={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};m===null?d=m=x:m=m.next=x,o=o.next}while(o!==null);m===null?d=m=s:m=m.next=s}else d=m=s;o={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:l.shared,effects:l.effects},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=s:n.next=s,o.lastBaseUpdate=s}function yo(n,s,o,l){var d=n.updateQueue;Ln=!1;var m=d.firstBaseUpdate,x=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var P=S,O=P.next;P.next=null,x===null?m=O:x.next=O,x=P;var B=n.alternate;B!==null&&(B=B.updateQueue,S=B.lastBaseUpdate,S!==x&&(S===null?B.firstBaseUpdate=O:S.next=O,B.lastBaseUpdate=P))}if(m!==null){var $=d.baseState;x=0,B=O=P=null,S=m;do{var F=S.lane,Q=S.eventTime;if((l&F)===F){B!==null&&(B=B.next={eventTime:Q,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var J=n,Z=S;switch(F=s,Q=o,Z.tag){case 1:if(J=Z.payload,typeof J=="function"){$=J.call(Q,$,F);break e}$=J;break e;case 3:J.flags=J.flags&-65537|128;case 0:if(J=Z.payload,F=typeof J=="function"?J.call(Q,$,F):J,F==null)break e;$=Y({},$,F);break e;case 2:Ln=!0}}S.callback!==null&&S.lane!==0&&(n.flags|=64,F=d.effects,F===null?d.effects=[S]:F.push(S))}else Q={eventTime:Q,lane:F,tag:S.tag,payload:S.payload,callback:S.callback,next:null},B===null?(O=B=Q,P=$):B=B.next=Q,x|=F;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;F=S,S=F.next,F.next=null,d.lastBaseUpdate=F,d.shared.pending=null}}while(!0);if(B===null&&(P=$),d.baseState=P,d.firstBaseUpdate=O,d.lastBaseUpdate=B,s=d.shared.interleaved,s!==null){d=s;do x|=d.lane,d=d.next;while(d!==s)}else m===null&&(d.shared.lanes=0);cr|=x,n.lanes=x,n.memoizedState=$}}function xh(n,s,o){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var l=n[s],d=l.callback;if(d!==null){if(l.callback=null,l=o,typeof d!="function")throw Error(r(191,d));d.call(l)}}}var Hs={},en=jn(Hs),Gs=jn(Hs),Ws=jn(Hs);function ar(n){if(n===Hs)throw Error(r(174));return n}function Gl(n,s){switch(Te(Ws,s),Te(Gs,n),Te(en,Hs),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Wa(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=Wa(s,n)}_e(en),Te(en,s)}function Gr(){_e(en),_e(Gs),_e(Ws)}function wh(n){ar(Ws.current);var s=ar(en.current),o=Wa(s,n.type);s!==o&&(Te(Gs,n),Te(en,o))}function Wl(n){Gs.current===n&&(_e(en),_e(Gs))}var Oe=jn(0);function vo(n){for(var s=n;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Kl=[];function ql(){for(var n=0;n<Kl.length;n++)Kl[n]._workInProgressVersionPrimary=null;Kl.length=0}var xo=I.ReactCurrentDispatcher,Ql=I.ReactCurrentBatchConfig,lr=0,Me=null,We=null,Qe=null,wo=!1,Ks=!1,qs=0,Wx=0;function rt(){throw Error(r(321))}function Yl(n,s){if(s===null)return!1;for(var o=0;o<s.length&&o<n.length;o++)if(!Ft(n[o],s[o]))return!1;return!0}function Xl(n,s,o,l,d,m){if(lr=m,Me=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,xo.current=n===null||n.memoizedState===null?Yx:Xx,n=o(l,d),Ks){m=0;do{if(Ks=!1,qs=0,25<=m)throw Error(r(301));m+=1,Qe=We=null,s.updateQueue=null,xo.current=Jx,n=o(l,d)}while(Ks)}if(xo.current=Co,s=We!==null&&We.next!==null,lr=0,Qe=We=Me=null,wo=!1,s)throw Error(r(300));return n}function Jl(){var n=qs!==0;return qs=0,n}function tn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?Me.memoizedState=Qe=n:Qe=Qe.next=n,Qe}function Rt(){if(We===null){var n=Me.alternate;n=n!==null?n.memoizedState:null}else n=We.next;var s=Qe===null?Me.memoizedState:Qe.next;if(s!==null)Qe=s,We=n;else{if(n===null)throw Error(r(310));We=n,n={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Qe===null?Me.memoizedState=Qe=n:Qe=Qe.next=n}return Qe}function Qs(n,s){return typeof s=="function"?s(n):s}function Zl(n){var s=Rt(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=n;var l=We,d=l.baseQueue,m=o.pending;if(m!==null){if(d!==null){var x=d.next;d.next=m.next,m.next=x}l.baseQueue=d=m,o.pending=null}if(d!==null){m=d.next,l=l.baseState;var S=x=null,P=null,O=m;do{var B=O.lane;if((lr&B)===B)P!==null&&(P=P.next={lane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),l=O.hasEagerState?O.eagerState:n(l,O.action);else{var $={lane:B,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null};P===null?(S=P=$,x=l):P=P.next=$,Me.lanes|=B,cr|=B}O=O.next}while(O!==null&&O!==m);P===null?x=l:P.next=S,Ft(l,s.memoizedState)||(mt=!0),s.memoizedState=l,s.baseState=x,s.baseQueue=P,o.lastRenderedState=l}if(n=o.interleaved,n!==null){d=n;do m=d.lane,Me.lanes|=m,cr|=m,d=d.next;while(d!==n)}else d===null&&(o.lanes=0);return[s.memoizedState,o.dispatch]}function ec(n){var s=Rt(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=n;var l=o.dispatch,d=o.pending,m=s.memoizedState;if(d!==null){o.pending=null;var x=d=d.next;do m=n(m,x.action),x=x.next;while(x!==d);Ft(m,s.memoizedState)||(mt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),o.lastRenderedState=m}return[m,l]}function Sh(){}function Eh(n,s){var o=Me,l=Rt(),d=s(),m=!Ft(l.memoizedState,d);if(m&&(l.memoizedState=d,mt=!0),l=l.queue,tc(Nh.bind(null,o,l,n),[n]),l.getSnapshot!==s||m||Qe!==null&&Qe.memoizedState.tag&1){if(o.flags|=2048,Ys(9,kh.bind(null,o,l,d,s),void 0,null),Ye===null)throw Error(r(349));(lr&30)!==0||Ch(o,s,d)}return d}function Ch(n,s,o){n.flags|=16384,n={getSnapshot:s,value:o},s=Me.updateQueue,s===null?(s={lastEffect:null,stores:null},Me.updateQueue=s,s.stores=[n]):(o=s.stores,o===null?s.stores=[n]:o.push(n))}function kh(n,s,o,l){s.value=o,s.getSnapshot=l,Th(s)&&Ph(n)}function Nh(n,s,o){return o(function(){Th(s)&&Ph(n)})}function Th(n){var s=n.getSnapshot;n=n.value;try{var o=s();return!Ft(n,o)}catch{return!0}}function Ph(n){var s=hn(n,1);s!==null&&Ht(s,n,1,-1)}function bh(n){var s=tn();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:n},s.queue=n,n=n.dispatch=Qx.bind(null,Me,n),[s.memoizedState,n]}function Ys(n,s,o,l){return n={tag:n,create:s,destroy:o,deps:l,next:null},s=Me.updateQueue,s===null?(s={lastEffect:null,stores:null},Me.updateQueue=s,s.lastEffect=n.next=n):(o=s.lastEffect,o===null?s.lastEffect=n.next=n:(l=o.next,o.next=n,n.next=l,s.lastEffect=n)),n}function _h(){return Rt().memoizedState}function So(n,s,o,l){var d=tn();Me.flags|=n,d.memoizedState=Ys(1|s,o,void 0,l===void 0?null:l)}function Eo(n,s,o,l){var d=Rt();l=l===void 0?null:l;var m=void 0;if(We!==null){var x=We.memoizedState;if(m=x.destroy,l!==null&&Yl(l,x.deps)){d.memoizedState=Ys(s,o,m,l);return}}Me.flags|=n,d.memoizedState=Ys(1|s,o,m,l)}function jh(n,s){return So(8390656,8,n,s)}function tc(n,s){return Eo(2048,8,n,s)}function Rh(n,s){return Eo(4,2,n,s)}function Ah(n,s){return Eo(4,4,n,s)}function Lh(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Oh(n,s,o){return o=o!=null?o.concat([n]):null,Eo(4,4,Lh.bind(null,s,n),o)}function nc(){}function Mh(n,s){var o=Rt();s=s===void 0?null:s;var l=o.memoizedState;return l!==null&&s!==null&&Yl(s,l[1])?l[0]:(o.memoizedState=[n,s],n)}function Dh(n,s){var o=Rt();s=s===void 0?null:s;var l=o.memoizedState;return l!==null&&s!==null&&Yl(s,l[1])?l[0]:(n=n(),o.memoizedState=[n,s],n)}function Ih(n,s,o){return(lr&21)===0?(n.baseState&&(n.baseState=!1,mt=!0),n.memoizedState=o):(Ft(o,s)||(o=hf(),Me.lanes|=o,cr|=o,n.baseState=!0),s)}function Kx(n,s){var o=Ce;Ce=o!==0&&4>o?o:4,n(!0);var l=Ql.transition;Ql.transition={};try{n(!1),s()}finally{Ce=o,Ql.transition=l}}function Vh(){return Rt().memoizedState}function qx(n,s,o){var l=Vn(n);if(o={lane:l,action:o,hasEagerState:!1,eagerState:null,next:null},Fh(n))Uh(s,o);else if(o=gh(n,s,o,l),o!==null){var d=ut();Ht(o,n,l,d),Bh(o,s,l)}}function Qx(n,s,o){var l=Vn(n),d={lane:l,action:o,hasEagerState:!1,eagerState:null,next:null};if(Fh(n))Uh(s,d);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var x=s.lastRenderedState,S=m(x,o);if(d.hasEagerState=!0,d.eagerState=S,Ft(S,x)){var P=s.interleaved;P===null?(d.next=d,$l(s)):(d.next=P.next,P.next=d),s.interleaved=d;return}}catch{}finally{}o=gh(n,s,d,l),o!==null&&(d=ut(),Ht(o,n,l,d),Bh(o,s,l))}}function Fh(n){var s=n.alternate;return n===Me||s!==null&&s===Me}function Uh(n,s){Ks=wo=!0;var o=n.pending;o===null?s.next=s:(s.next=o.next,o.next=s),n.pending=s}function Bh(n,s,o){if((o&4194240)!==0){var l=s.lanes;l&=n.pendingLanes,o|=l,s.lanes=o,sl(n,o)}}var Co={readContext:jt,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useInsertionEffect:rt,useLayoutEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useMutableSource:rt,useSyncExternalStore:rt,useId:rt,unstable_isNewReconciler:!1},Yx={readContext:jt,useCallback:function(n,s){return tn().memoizedState=[n,s===void 0?null:s],n},useContext:jt,useEffect:jh,useImperativeHandle:function(n,s,o){return o=o!=null?o.concat([n]):null,So(4194308,4,Lh.bind(null,s,n),o)},useLayoutEffect:function(n,s){return So(4194308,4,n,s)},useInsertionEffect:function(n,s){return So(4,2,n,s)},useMemo:function(n,s){var o=tn();return s=s===void 0?null:s,n=n(),o.memoizedState=[n,s],n},useReducer:function(n,s,o){var l=tn();return s=o!==void 0?o(s):s,l.memoizedState=l.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},l.queue=n,n=n.dispatch=qx.bind(null,Me,n),[l.memoizedState,n]},useRef:function(n){var s=tn();return n={current:n},s.memoizedState=n},useState:bh,useDebugValue:nc,useDeferredValue:function(n){return tn().memoizedState=n},useTransition:function(){var n=bh(!1),s=n[0];return n=Kx.bind(null,n[1]),tn().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,o){var l=Me,d=tn();if(Re){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),Ye===null)throw Error(r(349));(lr&30)!==0||Ch(l,s,o)}d.memoizedState=o;var m={value:o,getSnapshot:s};return d.queue=m,jh(Nh.bind(null,l,m,n),[n]),l.flags|=2048,Ys(9,kh.bind(null,l,m,o,s),void 0,null),o},useId:function(){var n=tn(),s=Ye.identifierPrefix;if(Re){var o=fn,l=dn;o=(l&~(1<<32-Vt(l)-1)).toString(32)+o,s=":"+s+"R"+o,o=qs++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=Wx++,s=":"+s+"r"+o.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},Xx={readContext:jt,useCallback:Mh,useContext:jt,useEffect:tc,useImperativeHandle:Oh,useInsertionEffect:Rh,useLayoutEffect:Ah,useMemo:Dh,useReducer:Zl,useRef:_h,useState:function(){return Zl(Qs)},useDebugValue:nc,useDeferredValue:function(n){var s=Rt();return Ih(s,We.memoizedState,n)},useTransition:function(){var n=Zl(Qs)[0],s=Rt().memoizedState;return[n,s]},useMutableSource:Sh,useSyncExternalStore:Eh,useId:Vh,unstable_isNewReconciler:!1},Jx={readContext:jt,useCallback:Mh,useContext:jt,useEffect:tc,useImperativeHandle:Oh,useInsertionEffect:Rh,useLayoutEffect:Ah,useMemo:Dh,useReducer:ec,useRef:_h,useState:function(){return ec(Qs)},useDebugValue:nc,useDeferredValue:function(n){var s=Rt();return We===null?s.memoizedState=n:Ih(s,We.memoizedState,n)},useTransition:function(){var n=ec(Qs)[0],s=Rt().memoizedState;return[n,s]},useMutableSource:Sh,useSyncExternalStore:Eh,useId:Vh,unstable_isNewReconciler:!1};function Bt(n,s){if(n&&n.defaultProps){s=Y({},s),n=n.defaultProps;for(var o in n)s[o]===void 0&&(s[o]=n[o]);return s}return s}function rc(n,s,o,l){s=n.memoizedState,o=o(l,s),o=o==null?s:Y({},s,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var ko={isMounted:function(n){return(n=n._reactInternals)?tr(n)===n:!1},enqueueSetState:function(n,s,o){n=n._reactInternals;var l=ut(),d=Vn(n),m=pn(l,d);m.payload=s,o!=null&&(m.callback=o),s=On(n,m,d),s!==null&&(Ht(s,n,d,l),go(s,n,d))},enqueueReplaceState:function(n,s,o){n=n._reactInternals;var l=ut(),d=Vn(n),m=pn(l,d);m.tag=1,m.payload=s,o!=null&&(m.callback=o),s=On(n,m,d),s!==null&&(Ht(s,n,d,l),go(s,n,d))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var o=ut(),l=Vn(n),d=pn(o,l);d.tag=2,s!=null&&(d.callback=s),s=On(n,d,l),s!==null&&(Ht(s,n,l,o),go(s,n,l))}};function zh(n,s,o,l,d,m,x){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,m,x):s.prototype&&s.prototype.isPureReactComponent?!Ds(o,l)||!Ds(d,m):!0}function $h(n,s,o){var l=!1,d=Rn,m=s.contextType;return typeof m=="object"&&m!==null?m=jt(m):(d=pt(s)?rr:nt.current,l=s.contextTypes,m=(l=l!=null)?Vr(n,d):Rn),s=new s(o,m),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=ko,n.stateNode=s,s._reactInternals=n,l&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=d,n.__reactInternalMemoizedMaskedChildContext=m),s}function Hh(n,s,o,l){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,l),s.state!==n&&ko.enqueueReplaceState(s,s.state,null)}function sc(n,s,o,l){var d=n.stateNode;d.props=o,d.state=n.memoizedState,d.refs={},Hl(n);var m=s.contextType;typeof m=="object"&&m!==null?d.context=jt(m):(m=pt(s)?rr:nt.current,d.context=Vr(n,m)),d.state=n.memoizedState,m=s.getDerivedStateFromProps,typeof m=="function"&&(rc(n,s,m,o),d.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(s=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),s!==d.state&&ko.enqueueReplaceState(d,d.state,null),yo(n,o,d,l),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308)}function Wr(n,s){try{var o="",l=s;do o+=ye(l),l=l.return;while(l);var d=o}catch(m){d=`
Error generating stack: `+m.message+`
`+m.stack}return{value:n,source:s,stack:d,digest:null}}function ic(n,s,o){return{value:n,source:null,stack:o??null,digest:s??null}}function oc(n,s){try{console.error(s.value)}catch(o){setTimeout(function(){throw o})}}var Zx=typeof WeakMap=="function"?WeakMap:Map;function Gh(n,s,o){o=pn(-1,o),o.tag=3,o.payload={element:null};var l=s.value;return o.callback=function(){Ro||(Ro=!0,Sc=l),oc(n,s)},o}function Wh(n,s,o){o=pn(-1,o),o.tag=3;var l=n.type.getDerivedStateFromError;if(typeof l=="function"){var d=s.value;o.payload=function(){return l(d)},o.callback=function(){oc(n,s)}}var m=n.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(o.callback=function(){oc(n,s),typeof l!="function"&&(Dn===null?Dn=new Set([this]):Dn.add(this));var x=s.stack;this.componentDidCatch(s.value,{componentStack:x!==null?x:""})}),o}function Kh(n,s,o){var l=n.pingCache;if(l===null){l=n.pingCache=new Zx;var d=new Set;l.set(s,d)}else d=l.get(s),d===void 0&&(d=new Set,l.set(s,d));d.has(o)||(d.add(o),n=hw.bind(null,n,s,o),s.then(n,n))}function qh(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function Qh(n,s,o,l,d){return(n.mode&1)===0?(n===s?n.flags|=65536:(n.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(s=pn(-1,1),s.tag=2,On(o,s,1))),o.lanes|=1),n):(n.flags|=65536,n.lanes=d,n)}var ew=I.ReactCurrentOwner,mt=!1;function ct(n,s,o,l){s.child=n===null?mh(s,null,o,l):zr(s,n.child,o,l)}function Yh(n,s,o,l,d){o=o.render;var m=s.ref;return Hr(s,d),l=Xl(n,s,o,l,m,d),o=Jl(),n!==null&&!mt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~d,mn(n,s,d)):(Re&&o&&Ol(s),s.flags|=1,ct(n,s,l,d),s.child)}function Xh(n,s,o,l,d){if(n===null){var m=o.type;return typeof m=="function"&&!bc(m)&&m.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(s.tag=15,s.type=m,Jh(n,s,m,l,d)):(n=Io(o.type,null,l,s,s.mode,d),n.ref=s.ref,n.return=s,s.child=n)}if(m=n.child,(n.lanes&d)===0){var x=m.memoizedProps;if(o=o.compare,o=o!==null?o:Ds,o(x,l)&&n.ref===s.ref)return mn(n,s,d)}return s.flags|=1,n=Un(m,l),n.ref=s.ref,n.return=s,s.child=n}function Jh(n,s,o,l,d){if(n!==null){var m=n.memoizedProps;if(Ds(m,l)&&n.ref===s.ref)if(mt=!1,s.pendingProps=l=m,(n.lanes&d)!==0)(n.flags&131072)!==0&&(mt=!0);else return s.lanes=n.lanes,mn(n,s,d)}return ac(n,s,o,l,d)}function Zh(n,s,o){var l=s.pendingProps,d=l.children,m=n!==null?n.memoizedState:null;if(l.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(qr,Nt),Nt|=o;else{if((o&1073741824)===0)return n=m!==null?m.baseLanes|o:o,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,Te(qr,Nt),Nt|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=m!==null?m.baseLanes:o,Te(qr,Nt),Nt|=l}else m!==null?(l=m.baseLanes|o,s.memoizedState=null):l=o,Te(qr,Nt),Nt|=l;return ct(n,s,d,o),s.child}function ep(n,s){var o=s.ref;(n===null&&o!==null||n!==null&&n.ref!==o)&&(s.flags|=512,s.flags|=2097152)}function ac(n,s,o,l,d){var m=pt(o)?rr:nt.current;return m=Vr(s,m),Hr(s,d),o=Xl(n,s,o,l,m,d),l=Jl(),n!==null&&!mt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~d,mn(n,s,d)):(Re&&l&&Ol(s),s.flags|=1,ct(n,s,o,d),s.child)}function tp(n,s,o,l,d){if(pt(o)){var m=!0;ao(s)}else m=!1;if(Hr(s,d),s.stateNode===null)To(n,s),$h(s,o,l),sc(s,o,l,d),l=!0;else if(n===null){var x=s.stateNode,S=s.memoizedProps;x.props=S;var P=x.context,O=o.contextType;typeof O=="object"&&O!==null?O=jt(O):(O=pt(o)?rr:nt.current,O=Vr(s,O));var B=o.getDerivedStateFromProps,$=typeof B=="function"||typeof x.getSnapshotBeforeUpdate=="function";$||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(S!==l||P!==O)&&Hh(s,x,l,O),Ln=!1;var F=s.memoizedState;x.state=F,yo(s,l,x,d),P=s.memoizedState,S!==l||F!==P||ht.current||Ln?(typeof B=="function"&&(rc(s,o,B,l),P=s.memoizedState),(S=Ln||zh(s,o,S,l,F,P,O))?($||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(s.flags|=4194308)):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=P),x.props=l,x.state=P,x.context=O,l=S):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{x=s.stateNode,yh(n,s),S=s.memoizedProps,O=s.type===s.elementType?S:Bt(s.type,S),x.props=O,$=s.pendingProps,F=x.context,P=o.contextType,typeof P=="object"&&P!==null?P=jt(P):(P=pt(o)?rr:nt.current,P=Vr(s,P));var Q=o.getDerivedStateFromProps;(B=typeof Q=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(S!==$||F!==P)&&Hh(s,x,l,P),Ln=!1,F=s.memoizedState,x.state=F,yo(s,l,x,d);var J=s.memoizedState;S!==$||F!==J||ht.current||Ln?(typeof Q=="function"&&(rc(s,o,Q,l),J=s.memoizedState),(O=Ln||zh(s,o,O,l,F,J,P)||!1)?(B||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(l,J,P),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(l,J,P)),typeof x.componentDidUpdate=="function"&&(s.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof x.componentDidUpdate!="function"||S===n.memoizedProps&&F===n.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&F===n.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=J),x.props=l,x.state=J,x.context=P,l=O):(typeof x.componentDidUpdate!="function"||S===n.memoizedProps&&F===n.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&F===n.memoizedState||(s.flags|=1024),l=!1)}return lc(n,s,o,l,m,d)}function lc(n,s,o,l,d,m){ep(n,s);var x=(s.flags&128)!==0;if(!l&&!x)return d&&oh(s,o,!1),mn(n,s,m);l=s.stateNode,ew.current=s;var S=x&&typeof o.getDerivedStateFromError!="function"?null:l.render();return s.flags|=1,n!==null&&x?(s.child=zr(s,n.child,null,m),s.child=zr(s,null,S,m)):ct(n,s,S,m),s.memoizedState=l.state,d&&oh(s,o,!0),s.child}function np(n){var s=n.stateNode;s.pendingContext?sh(n,s.pendingContext,s.pendingContext!==s.context):s.context&&sh(n,s.context,!1),Gl(n,s.containerInfo)}function rp(n,s,o,l,d){return Br(),Vl(d),s.flags|=256,ct(n,s,o,l),s.child}var cc={dehydrated:null,treeContext:null,retryLane:0};function uc(n){return{baseLanes:n,cachePool:null,transitions:null}}function sp(n,s,o){var l=s.pendingProps,d=Oe.current,m=!1,x=(s.flags&128)!==0,S;if((S=x)||(S=n!==null&&n.memoizedState===null?!1:(d&2)!==0),S?(m=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(d|=1),Te(Oe,d&1),n===null)return Il(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((s.mode&1)===0?s.lanes=1:n.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(x=l.children,n=l.fallback,m?(l=s.mode,m=s.child,x={mode:"hidden",children:x},(l&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=x):m=Vo(x,l,0,null),n=hr(n,l,o,null),m.return=s,n.return=s,m.sibling=n,s.child=m,s.child.memoizedState=uc(o),s.memoizedState=cc,n):dc(s,x));if(d=n.memoizedState,d!==null&&(S=d.dehydrated,S!==null))return tw(n,s,x,l,S,d,o);if(m){m=l.fallback,x=s.mode,d=n.child,S=d.sibling;var P={mode:"hidden",children:l.children};return(x&1)===0&&s.child!==d?(l=s.child,l.childLanes=0,l.pendingProps=P,s.deletions=null):(l=Un(d,P),l.subtreeFlags=d.subtreeFlags&14680064),S!==null?m=Un(S,m):(m=hr(m,x,o,null),m.flags|=2),m.return=s,l.return=s,l.sibling=m,s.child=l,l=m,m=s.child,x=n.child.memoizedState,x=x===null?uc(o):{baseLanes:x.baseLanes|o,cachePool:null,transitions:x.transitions},m.memoizedState=x,m.childLanes=n.childLanes&~o,s.memoizedState=cc,l}return m=n.child,n=m.sibling,l=Un(m,{mode:"visible",children:l.children}),(s.mode&1)===0&&(l.lanes=o),l.return=s,l.sibling=null,n!==null&&(o=s.deletions,o===null?(s.deletions=[n],s.flags|=16):o.push(n)),s.child=l,s.memoizedState=null,l}function dc(n,s){return s=Vo({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function No(n,s,o,l){return l!==null&&Vl(l),zr(s,n.child,null,o),n=dc(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function tw(n,s,o,l,d,m,x){if(o)return s.flags&256?(s.flags&=-257,l=ic(Error(r(422))),No(n,s,x,l)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(m=l.fallback,d=s.mode,l=Vo({mode:"visible",children:l.children},d,0,null),m=hr(m,d,x,null),m.flags|=2,l.return=s,m.return=s,l.sibling=m,s.child=l,(s.mode&1)!==0&&zr(s,n.child,null,x),s.child.memoizedState=uc(x),s.memoizedState=cc,m);if((s.mode&1)===0)return No(n,s,x,null);if(d.data==="$!"){if(l=d.nextSibling&&d.nextSibling.dataset,l)var S=l.dgst;return l=S,m=Error(r(419)),l=ic(m,l,void 0),No(n,s,x,l)}if(S=(x&n.childLanes)!==0,mt||S){if(l=Ye,l!==null){switch(x&-x){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(l.suspendedLanes|x))!==0?0:d,d!==0&&d!==m.retryLane&&(m.retryLane=d,hn(n,d),Ht(l,n,d,-1))}return Pc(),l=ic(Error(r(421))),No(n,s,x,l)}return d.data==="$?"?(s.flags|=128,s.child=n.child,s=pw.bind(null,n),d._reactRetry=s,null):(n=m.treeContext,kt=_n(d.nextSibling),Ct=s,Re=!0,Ut=null,n!==null&&(bt[_t++]=dn,bt[_t++]=fn,bt[_t++]=sr,dn=n.id,fn=n.overflow,sr=s),s=dc(s,l.children),s.flags|=4096,s)}function ip(n,s,o){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s),zl(n.return,s,o)}function fc(n,s,o,l,d){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:o,tailMode:d}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=o,m.tailMode=d)}function op(n,s,o){var l=s.pendingProps,d=l.revealOrder,m=l.tail;if(ct(n,s,l.children,o),l=Oe.current,(l&2)!==0)l=l&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&ip(n,o,s);else if(n.tag===19)ip(n,o,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}if(Te(Oe,l),(s.mode&1)===0)s.memoizedState=null;else switch(d){case"forwards":for(o=s.child,d=null;o!==null;)n=o.alternate,n!==null&&vo(n)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),fc(s,!1,d,o,m);break;case"backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(n=d.alternate,n!==null&&vo(n)===null){s.child=d;break}n=d.sibling,d.sibling=o,o=d,d=n}fc(s,!0,o,null,m);break;case"together":fc(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function To(n,s){(s.mode&1)===0&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function mn(n,s,o){if(n!==null&&(s.dependencies=n.dependencies),cr|=s.lanes,(o&s.childLanes)===0)return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,o=Un(n,n.pendingProps),s.child=o,o.return=s;n.sibling!==null;)n=n.sibling,o=o.sibling=Un(n,n.pendingProps),o.return=s;o.sibling=null}return s.child}function nw(n,s,o){switch(s.tag){case 3:np(s),Br();break;case 5:wh(s);break;case 1:pt(s.type)&&ao(s);break;case 4:Gl(s,s.stateNode.containerInfo);break;case 10:var l=s.type._context,d=s.memoizedProps.value;Te(po,l._currentValue),l._currentValue=d;break;case 13:if(l=s.memoizedState,l!==null)return l.dehydrated!==null?(Te(Oe,Oe.current&1),s.flags|=128,null):(o&s.child.childLanes)!==0?sp(n,s,o):(Te(Oe,Oe.current&1),n=mn(n,s,o),n!==null?n.sibling:null);Te(Oe,Oe.current&1);break;case 19:if(l=(o&s.childLanes)!==0,(n.flags&128)!==0){if(l)return op(n,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Te(Oe,Oe.current),l)break;return null;case 22:case 23:return s.lanes=0,Zh(n,s,o)}return mn(n,s,o)}var ap,hc,lp,cp;ap=function(n,s){for(var o=s.child;o!==null;){if(o.tag===5||o.tag===6)n.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},hc=function(){},lp=function(n,s,o,l){var d=n.memoizedProps;if(d!==l){n=s.stateNode,ar(en.current);var m=null;switch(o){case"input":d=za(n,d),l=za(n,l),m=[];break;case"select":d=Y({},d,{value:void 0}),l=Y({},l,{value:void 0}),m=[];break;case"textarea":d=Ga(n,d),l=Ga(n,l),m=[];break;default:typeof d.onClick!="function"&&typeof l.onClick=="function"&&(n.onclick=so)}Ka(o,l);var x;o=null;for(O in d)if(!l.hasOwnProperty(O)&&d.hasOwnProperty(O)&&d[O]!=null)if(O==="style"){var S=d[O];for(x in S)S.hasOwnProperty(x)&&(o||(o={}),o[x]="")}else O!=="dangerouslySetInnerHTML"&&O!=="children"&&O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(a.hasOwnProperty(O)?m||(m=[]):(m=m||[]).push(O,null));for(O in l){var P=l[O];if(S=d!=null?d[O]:void 0,l.hasOwnProperty(O)&&P!==S&&(P!=null||S!=null))if(O==="style")if(S){for(x in S)!S.hasOwnProperty(x)||P&&P.hasOwnProperty(x)||(o||(o={}),o[x]="");for(x in P)P.hasOwnProperty(x)&&S[x]!==P[x]&&(o||(o={}),o[x]=P[x])}else o||(m||(m=[]),m.push(O,o)),o=P;else O==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,S=S?S.__html:void 0,P!=null&&S!==P&&(m=m||[]).push(O,P)):O==="children"?typeof P!="string"&&typeof P!="number"||(m=m||[]).push(O,""+P):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&(a.hasOwnProperty(O)?(P!=null&&O==="onScroll"&&be("scroll",n),m||S===P||(m=[])):(m=m||[]).push(O,P))}o&&(m=m||[]).push("style",o);var O=m;(s.updateQueue=O)&&(s.flags|=4)}},cp=function(n,s,o,l){o!==l&&(s.flags|=4)};function Xs(n,s){if(!Re)switch(n.tailMode){case"hidden":s=n.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function st(n){var s=n.alternate!==null&&n.alternate.child===n.child,o=0,l=0;if(s)for(var d=n.child;d!==null;)o|=d.lanes|d.childLanes,l|=d.subtreeFlags&14680064,l|=d.flags&14680064,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)o|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=l,n.childLanes=o,s}function rw(n,s,o){var l=s.pendingProps;switch(Ml(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(s),null;case 1:return pt(s.type)&&oo(),st(s),null;case 3:return l=s.stateNode,Gr(),_e(ht),_e(nt),ql(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(fo(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Ut!==null&&(kc(Ut),Ut=null))),hc(n,s),st(s),null;case 5:Wl(s);var d=ar(Ws.current);if(o=s.type,n!==null&&s.stateNode!=null)lp(n,s,o,l,d),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!l){if(s.stateNode===null)throw Error(r(166));return st(s),null}if(n=ar(en.current),fo(s)){l=s.stateNode,o=s.type;var m=s.memoizedProps;switch(l[Zt]=s,l[Bs]=m,n=(s.mode&1)!==0,o){case"dialog":be("cancel",l),be("close",l);break;case"iframe":case"object":case"embed":be("load",l);break;case"video":case"audio":for(d=0;d<Vs.length;d++)be(Vs[d],l);break;case"source":be("error",l);break;case"img":case"image":case"link":be("error",l),be("load",l);break;case"details":be("toggle",l);break;case"input":zd(l,m),be("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!m.multiple},be("invalid",l);break;case"textarea":Gd(l,m),be("invalid",l)}Ka(o,m),d=null;for(var x in m)if(m.hasOwnProperty(x)){var S=m[x];x==="children"?typeof S=="string"?l.textContent!==S&&(m.suppressHydrationWarning!==!0&&ro(l.textContent,S,n),d=["children",S]):typeof S=="number"&&l.textContent!==""+S&&(m.suppressHydrationWarning!==!0&&ro(l.textContent,S,n),d=["children",""+S]):a.hasOwnProperty(x)&&S!=null&&x==="onScroll"&&be("scroll",l)}switch(o){case"input":Oi(l),Hd(l,m,!0);break;case"textarea":Oi(l),Kd(l);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(l.onclick=so)}l=d,s.updateQueue=l,l!==null&&(s.flags|=4)}else{x=d.nodeType===9?d:d.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=qd(o)),n==="http://www.w3.org/1999/xhtml"?o==="script"?(n=x.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof l.is=="string"?n=x.createElement(o,{is:l.is}):(n=x.createElement(o),o==="select"&&(x=n,l.multiple?x.multiple=!0:l.size&&(x.size=l.size))):n=x.createElementNS(n,o),n[Zt]=s,n[Bs]=l,ap(n,s,!1,!1),s.stateNode=n;e:{switch(x=qa(o,l),o){case"dialog":be("cancel",n),be("close",n),d=l;break;case"iframe":case"object":case"embed":be("load",n),d=l;break;case"video":case"audio":for(d=0;d<Vs.length;d++)be(Vs[d],n);d=l;break;case"source":be("error",n),d=l;break;case"img":case"image":case"link":be("error",n),be("load",n),d=l;break;case"details":be("toggle",n),d=l;break;case"input":zd(n,l),d=za(n,l),be("invalid",n);break;case"option":d=l;break;case"select":n._wrapperState={wasMultiple:!!l.multiple},d=Y({},l,{value:void 0}),be("invalid",n);break;case"textarea":Gd(n,l),d=Ga(n,l),be("invalid",n);break;default:d=l}Ka(o,d),S=d;for(m in S)if(S.hasOwnProperty(m)){var P=S[m];m==="style"?Xd(n,P):m==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&Qd(n,P)):m==="children"?typeof P=="string"?(o!=="textarea"||P!=="")&&xs(n,P):typeof P=="number"&&xs(n,""+P):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(a.hasOwnProperty(m)?P!=null&&m==="onScroll"&&be("scroll",n):P!=null&&A(n,m,P,x))}switch(o){case"input":Oi(n),Hd(n,l,!1);break;case"textarea":Oi(n),Kd(n);break;case"option":l.value!=null&&n.setAttribute("value",""+Ee(l.value));break;case"select":n.multiple=!!l.multiple,m=l.value,m!=null?Tr(n,!!l.multiple,m,!1):l.defaultValue!=null&&Tr(n,!!l.multiple,l.defaultValue,!0);break;default:typeof d.onClick=="function"&&(n.onclick=so)}switch(o){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return st(s),null;case 6:if(n&&s.stateNode!=null)cp(n,s,n.memoizedProps,l);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(o=ar(Ws.current),ar(en.current),fo(s)){if(l=s.stateNode,o=s.memoizedProps,l[Zt]=s,(m=l.nodeValue!==o)&&(n=Ct,n!==null))switch(n.tag){case 3:ro(l.nodeValue,o,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&ro(l.nodeValue,o,(n.mode&1)!==0)}m&&(s.flags|=4)}else l=(o.nodeType===9?o:o.ownerDocument).createTextNode(l),l[Zt]=s,s.stateNode=l}return st(s),null;case 13:if(_e(Oe),l=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Re&&kt!==null&&(s.mode&1)!==0&&(s.flags&128)===0)fh(),Br(),s.flags|=98560,m=!1;else if(m=fo(s),l!==null&&l.dehydrated!==null){if(n===null){if(!m)throw Error(r(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[Zt]=s}else Br(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;st(s),m=!1}else Ut!==null&&(kc(Ut),Ut=null),m=!0;if(!m)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=o,s):(l=l!==null,l!==(n!==null&&n.memoizedState!==null)&&l&&(s.child.flags|=8192,(s.mode&1)!==0&&(n===null||(Oe.current&1)!==0?Ke===0&&(Ke=3):Pc())),s.updateQueue!==null&&(s.flags|=4),st(s),null);case 4:return Gr(),hc(n,s),n===null&&Fs(s.stateNode.containerInfo),st(s),null;case 10:return Bl(s.type._context),st(s),null;case 17:return pt(s.type)&&oo(),st(s),null;case 19:if(_e(Oe),m=s.memoizedState,m===null)return st(s),null;if(l=(s.flags&128)!==0,x=m.rendering,x===null)if(l)Xs(m,!1);else{if(Ke!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(x=vo(n),x!==null){for(s.flags|=128,Xs(m,!1),l=x.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),s.subtreeFlags=0,l=o,o=s.child;o!==null;)m=o,n=l,m.flags&=14680066,x=m.alternate,x===null?(m.childLanes=0,m.lanes=n,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=x.childLanes,m.lanes=x.lanes,m.child=x.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=x.memoizedProps,m.memoizedState=x.memoizedState,m.updateQueue=x.updateQueue,m.type=x.type,n=x.dependencies,m.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),o=o.sibling;return Te(Oe,Oe.current&1|2),s.child}n=n.sibling}m.tail!==null&&Fe()>Qr&&(s.flags|=128,l=!0,Xs(m,!1),s.lanes=4194304)}else{if(!l)if(n=vo(x),n!==null){if(s.flags|=128,l=!0,o=n.updateQueue,o!==null&&(s.updateQueue=o,s.flags|=4),Xs(m,!0),m.tail===null&&m.tailMode==="hidden"&&!x.alternate&&!Re)return st(s),null}else 2*Fe()-m.renderingStartTime>Qr&&o!==1073741824&&(s.flags|=128,l=!0,Xs(m,!1),s.lanes=4194304);m.isBackwards?(x.sibling=s.child,s.child=x):(o=m.last,o!==null?o.sibling=x:s.child=x,m.last=x)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=Fe(),s.sibling=null,o=Oe.current,Te(Oe,l?o&1|2:o&1),s):(st(s),null);case 22:case 23:return Tc(),l=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==l&&(s.flags|=8192),l&&(s.mode&1)!==0?(Nt&1073741824)!==0&&(st(s),s.subtreeFlags&6&&(s.flags|=8192)):st(s),null;case 24:return null;case 25:return null}throw Error(r(156,s.tag))}function sw(n,s){switch(Ml(s),s.tag){case 1:return pt(s.type)&&oo(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Gr(),_e(ht),_e(nt),ql(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 5:return Wl(s),null;case 13:if(_e(Oe),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Br()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return _e(Oe),null;case 4:return Gr(),null;case 10:return Bl(s.type._context),null;case 22:case 23:return Tc(),null;case 24:return null;default:return null}}var Po=!1,it=!1,iw=typeof WeakSet=="function"?WeakSet:Set,X=null;function Kr(n,s){var o=n.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(l){Ie(n,s,l)}else o.current=null}function pc(n,s,o){try{o()}catch(l){Ie(n,s,l)}}var up=!1;function ow(n,s){if(Tl=Wi,n=zf(),vl(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var l=o.getSelection&&o.getSelection();if(l&&l.rangeCount!==0){o=l.anchorNode;var d=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var x=0,S=-1,P=-1,O=0,B=0,$=n,F=null;t:for(;;){for(var Q;$!==o||d!==0&&$.nodeType!==3||(S=x+d),$!==m||l!==0&&$.nodeType!==3||(P=x+l),$.nodeType===3&&(x+=$.nodeValue.length),(Q=$.firstChild)!==null;)F=$,$=Q;for(;;){if($===n)break t;if(F===o&&++O===d&&(S=x),F===m&&++B===l&&(P=x),(Q=$.nextSibling)!==null)break;$=F,F=$.parentNode}$=Q}o=S===-1||P===-1?null:{start:S,end:P}}else o=null}o=o||{start:0,end:0}}else o=null;for(Pl={focusedElem:n,selectionRange:o},Wi=!1,X=s;X!==null;)if(s=X,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,X=n;else for(;X!==null;){s=X;try{var J=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(J!==null){var Z=J.memoizedProps,Ue=J.memoizedState,R=s.stateNode,b=R.getSnapshotBeforeUpdate(s.elementType===s.type?Z:Bt(s.type,Z),Ue);R.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var L=s.stateNode.containerInfo;L.nodeType===1?L.textContent="":L.nodeType===9&&L.documentElement&&L.removeChild(L.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(G){Ie(s,s.return,G)}if(n=s.sibling,n!==null){n.return=s.return,X=n;break}X=s.return}return J=up,up=!1,J}function Js(n,s,o){var l=s.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&n)===n){var m=d.destroy;d.destroy=void 0,m!==void 0&&pc(s,o,m)}d=d.next}while(d!==l)}}function bo(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var o=s=s.next;do{if((o.tag&n)===n){var l=o.create;o.destroy=l()}o=o.next}while(o!==s)}}function mc(n){var s=n.ref;if(s!==null){var o=n.stateNode;switch(n.tag){case 5:n=o;break;default:n=o}typeof s=="function"?s(n):s.current=n}}function dp(n){var s=n.alternate;s!==null&&(n.alternate=null,dp(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[Zt],delete s[Bs],delete s[Rl],delete s[zx],delete s[$x])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function fp(n){return n.tag===5||n.tag===3||n.tag===4}function hp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||fp(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function gc(n,s,o){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(n,s):o.insertBefore(n,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(n,o)):(s=o,s.appendChild(n)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=so));else if(l!==4&&(n=n.child,n!==null))for(gc(n,s,o),n=n.sibling;n!==null;)gc(n,s,o),n=n.sibling}function yc(n,s,o){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?o.insertBefore(n,s):o.appendChild(n);else if(l!==4&&(n=n.child,n!==null))for(yc(n,s,o),n=n.sibling;n!==null;)yc(n,s,o),n=n.sibling}var Ze=null,zt=!1;function Mn(n,s,o){for(o=o.child;o!==null;)pp(n,s,o),o=o.sibling}function pp(n,s,o){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(Ui,o)}catch{}switch(o.tag){case 5:it||Kr(o,s);case 6:var l=Ze,d=zt;Ze=null,Mn(n,s,o),Ze=l,zt=d,Ze!==null&&(zt?(n=Ze,o=o.stateNode,n.nodeType===8?n.parentNode.removeChild(o):n.removeChild(o)):Ze.removeChild(o.stateNode));break;case 18:Ze!==null&&(zt?(n=Ze,o=o.stateNode,n.nodeType===8?jl(n.parentNode,o):n.nodeType===1&&jl(n,o),js(n)):jl(Ze,o.stateNode));break;case 4:l=Ze,d=zt,Ze=o.stateNode.containerInfo,zt=!0,Mn(n,s,o),Ze=l,zt=d;break;case 0:case 11:case 14:case 15:if(!it&&(l=o.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){d=l=l.next;do{var m=d,x=m.destroy;m=m.tag,x!==void 0&&((m&2)!==0||(m&4)!==0)&&pc(o,s,x),d=d.next}while(d!==l)}Mn(n,s,o);break;case 1:if(!it&&(Kr(o,s),l=o.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=o.memoizedProps,l.state=o.memoizedState,l.componentWillUnmount()}catch(S){Ie(o,s,S)}Mn(n,s,o);break;case 21:Mn(n,s,o);break;case 22:o.mode&1?(it=(l=it)||o.memoizedState!==null,Mn(n,s,o),it=l):Mn(n,s,o);break;default:Mn(n,s,o)}}function mp(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var o=n.stateNode;o===null&&(o=n.stateNode=new iw),s.forEach(function(l){var d=mw.bind(null,n,l);o.has(l)||(o.add(l),l.then(d,d))})}}function $t(n,s){var o=s.deletions;if(o!==null)for(var l=0;l<o.length;l++){var d=o[l];try{var m=n,x=s,S=x;e:for(;S!==null;){switch(S.tag){case 5:Ze=S.stateNode,zt=!1;break e;case 3:Ze=S.stateNode.containerInfo,zt=!0;break e;case 4:Ze=S.stateNode.containerInfo,zt=!0;break e}S=S.return}if(Ze===null)throw Error(r(160));pp(m,x,d),Ze=null,zt=!1;var P=d.alternate;P!==null&&(P.return=null),d.return=null}catch(O){Ie(d,s,O)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)gp(s,n),s=s.sibling}function gp(n,s){var o=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if($t(s,n),nn(n),l&4){try{Js(3,n,n.return),bo(3,n)}catch(Z){Ie(n,n.return,Z)}try{Js(5,n,n.return)}catch(Z){Ie(n,n.return,Z)}}break;case 1:$t(s,n),nn(n),l&512&&o!==null&&Kr(o,o.return);break;case 5:if($t(s,n),nn(n),l&512&&o!==null&&Kr(o,o.return),n.flags&32){var d=n.stateNode;try{xs(d,"")}catch(Z){Ie(n,n.return,Z)}}if(l&4&&(d=n.stateNode,d!=null)){var m=n.memoizedProps,x=o!==null?o.memoizedProps:m,S=n.type,P=n.updateQueue;if(n.updateQueue=null,P!==null)try{S==="input"&&m.type==="radio"&&m.name!=null&&$d(d,m),qa(S,x);var O=qa(S,m);for(x=0;x<P.length;x+=2){var B=P[x],$=P[x+1];B==="style"?Xd(d,$):B==="dangerouslySetInnerHTML"?Qd(d,$):B==="children"?xs(d,$):A(d,B,$,O)}switch(S){case"input":$a(d,m);break;case"textarea":Wd(d,m);break;case"select":var F=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!m.multiple;var Q=m.value;Q!=null?Tr(d,!!m.multiple,Q,!1):F!==!!m.multiple&&(m.defaultValue!=null?Tr(d,!!m.multiple,m.defaultValue,!0):Tr(d,!!m.multiple,m.multiple?[]:"",!1))}d[Bs]=m}catch(Z){Ie(n,n.return,Z)}}break;case 6:if($t(s,n),nn(n),l&4){if(n.stateNode===null)throw Error(r(162));d=n.stateNode,m=n.memoizedProps;try{d.nodeValue=m}catch(Z){Ie(n,n.return,Z)}}break;case 3:if($t(s,n),nn(n),l&4&&o!==null&&o.memoizedState.isDehydrated)try{js(s.containerInfo)}catch(Z){Ie(n,n.return,Z)}break;case 4:$t(s,n),nn(n);break;case 13:$t(s,n),nn(n),d=n.child,d.flags&8192&&(m=d.memoizedState!==null,d.stateNode.isHidden=m,!m||d.alternate!==null&&d.alternate.memoizedState!==null||(wc=Fe())),l&4&&mp(n);break;case 22:if(B=o!==null&&o.memoizedState!==null,n.mode&1?(it=(O=it)||B,$t(s,n),it=O):$t(s,n),nn(n),l&8192){if(O=n.memoizedState!==null,(n.stateNode.isHidden=O)&&!B&&(n.mode&1)!==0)for(X=n,B=n.child;B!==null;){for($=X=B;X!==null;){switch(F=X,Q=F.child,F.tag){case 0:case 11:case 14:case 15:Js(4,F,F.return);break;case 1:Kr(F,F.return);var J=F.stateNode;if(typeof J.componentWillUnmount=="function"){l=F,o=F.return;try{s=l,J.props=s.memoizedProps,J.state=s.memoizedState,J.componentWillUnmount()}catch(Z){Ie(l,o,Z)}}break;case 5:Kr(F,F.return);break;case 22:if(F.memoizedState!==null){xp($);continue}}Q!==null?(Q.return=F,X=Q):xp($)}B=B.sibling}e:for(B=null,$=n;;){if($.tag===5){if(B===null){B=$;try{d=$.stateNode,O?(m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(S=$.stateNode,P=$.memoizedProps.style,x=P!=null&&P.hasOwnProperty("display")?P.display:null,S.style.display=Yd("display",x))}catch(Z){Ie(n,n.return,Z)}}}else if($.tag===6){if(B===null)try{$.stateNode.nodeValue=O?"":$.memoizedProps}catch(Z){Ie(n,n.return,Z)}}else if(($.tag!==22&&$.tag!==23||$.memoizedState===null||$===n)&&$.child!==null){$.child.return=$,$=$.child;continue}if($===n)break e;for(;$.sibling===null;){if($.return===null||$.return===n)break e;B===$&&(B=null),$=$.return}B===$&&(B=null),$.sibling.return=$.return,$=$.sibling}}break;case 19:$t(s,n),nn(n),l&4&&mp(n);break;case 21:break;default:$t(s,n),nn(n)}}function nn(n){var s=n.flags;if(s&2){try{e:{for(var o=n.return;o!==null;){if(fp(o)){var l=o;break e}o=o.return}throw Error(r(160))}switch(l.tag){case 5:var d=l.stateNode;l.flags&32&&(xs(d,""),l.flags&=-33);var m=hp(n);yc(n,m,d);break;case 3:case 4:var x=l.stateNode.containerInfo,S=hp(n);gc(n,S,x);break;default:throw Error(r(161))}}catch(P){Ie(n,n.return,P)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function aw(n,s,o){X=n,yp(n)}function yp(n,s,o){for(var l=(n.mode&1)!==0;X!==null;){var d=X,m=d.child;if(d.tag===22&&l){var x=d.memoizedState!==null||Po;if(!x){var S=d.alternate,P=S!==null&&S.memoizedState!==null||it;S=Po;var O=it;if(Po=x,(it=P)&&!O)for(X=d;X!==null;)x=X,P=x.child,x.tag===22&&x.memoizedState!==null?wp(d):P!==null?(P.return=x,X=P):wp(d);for(;m!==null;)X=m,yp(m),m=m.sibling;X=d,Po=S,it=O}vp(n)}else(d.subtreeFlags&8772)!==0&&m!==null?(m.return=d,X=m):vp(n)}}function vp(n){for(;X!==null;){var s=X;if((s.flags&8772)!==0){var o=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:it||bo(5,s);break;case 1:var l=s.stateNode;if(s.flags&4&&!it)if(o===null)l.componentDidMount();else{var d=s.elementType===s.type?o.memoizedProps:Bt(s.type,o.memoizedProps);l.componentDidUpdate(d,o.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var m=s.updateQueue;m!==null&&xh(s,m,l);break;case 3:var x=s.updateQueue;if(x!==null){if(o=null,s.child!==null)switch(s.child.tag){case 5:o=s.child.stateNode;break;case 1:o=s.child.stateNode}xh(s,x,o)}break;case 5:var S=s.stateNode;if(o===null&&s.flags&4){o=S;var P=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&o.focus();break;case"img":P.src&&(o.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var O=s.alternate;if(O!==null){var B=O.memoizedState;if(B!==null){var $=B.dehydrated;$!==null&&js($)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}it||s.flags&512&&mc(s)}catch(F){Ie(s,s.return,F)}}if(s===n){X=null;break}if(o=s.sibling,o!==null){o.return=s.return,X=o;break}X=s.return}}function xp(n){for(;X!==null;){var s=X;if(s===n){X=null;break}var o=s.sibling;if(o!==null){o.return=s.return,X=o;break}X=s.return}}function wp(n){for(;X!==null;){var s=X;try{switch(s.tag){case 0:case 11:case 15:var o=s.return;try{bo(4,s)}catch(P){Ie(s,o,P)}break;case 1:var l=s.stateNode;if(typeof l.componentDidMount=="function"){var d=s.return;try{l.componentDidMount()}catch(P){Ie(s,d,P)}}var m=s.return;try{mc(s)}catch(P){Ie(s,m,P)}break;case 5:var x=s.return;try{mc(s)}catch(P){Ie(s,x,P)}}}catch(P){Ie(s,s.return,P)}if(s===n){X=null;break}var S=s.sibling;if(S!==null){S.return=s.return,X=S;break}X=s.return}}var lw=Math.ceil,_o=I.ReactCurrentDispatcher,vc=I.ReactCurrentOwner,At=I.ReactCurrentBatchConfig,me=0,Ye=null,$e=null,et=0,Nt=0,qr=jn(0),Ke=0,Zs=null,cr=0,jo=0,xc=0,ei=null,gt=null,wc=0,Qr=1/0,gn=null,Ro=!1,Sc=null,Dn=null,Ao=!1,In=null,Lo=0,ti=0,Ec=null,Oo=-1,Mo=0;function ut(){return(me&6)!==0?Fe():Oo!==-1?Oo:Oo=Fe()}function Vn(n){return(n.mode&1)===0?1:(me&2)!==0&&et!==0?et&-et:Gx.transition!==null?(Mo===0&&(Mo=hf()),Mo):(n=Ce,n!==0||(n=window.event,n=n===void 0?16:Ef(n.type)),n)}function Ht(n,s,o,l){if(50<ti)throw ti=0,Ec=null,Error(r(185));Ns(n,o,l),((me&2)===0||n!==Ye)&&(n===Ye&&((me&2)===0&&(jo|=o),Ke===4&&Fn(n,et)),yt(n,l),o===1&&me===0&&(s.mode&1)===0&&(Qr=Fe()+500,lo&&An()))}function yt(n,s){var o=n.callbackNode;Gv(n,s);var l=$i(n,n===Ye?et:0);if(l===0)o!==null&&uf(o),n.callbackNode=null,n.callbackPriority=0;else if(s=l&-l,n.callbackPriority!==s){if(o!=null&&uf(o),s===1)n.tag===0?Hx(Ep.bind(null,n)):ah(Ep.bind(null,n)),Ux(function(){(me&6)===0&&An()}),o=null;else{switch(pf(l)){case 1:o=tl;break;case 4:o=df;break;case 16:o=Fi;break;case 536870912:o=ff;break;default:o=Fi}o=jp(o,Sp.bind(null,n))}n.callbackPriority=s,n.callbackNode=o}}function Sp(n,s){if(Oo=-1,Mo=0,(me&6)!==0)throw Error(r(327));var o=n.callbackNode;if(Yr()&&n.callbackNode!==o)return null;var l=$i(n,n===Ye?et:0);if(l===0)return null;if((l&30)!==0||(l&n.expiredLanes)!==0||s)s=Do(n,l);else{s=l;var d=me;me|=2;var m=kp();(Ye!==n||et!==s)&&(gn=null,Qr=Fe()+500,dr(n,s));do try{dw();break}catch(S){Cp(n,S)}while(!0);Ul(),_o.current=m,me=d,$e!==null?s=0:(Ye=null,et=0,s=Ke)}if(s!==0){if(s===2&&(d=nl(n),d!==0&&(l=d,s=Cc(n,d))),s===1)throw o=Zs,dr(n,0),Fn(n,l),yt(n,Fe()),o;if(s===6)Fn(n,l);else{if(d=n.current.alternate,(l&30)===0&&!cw(d)&&(s=Do(n,l),s===2&&(m=nl(n),m!==0&&(l=m,s=Cc(n,m))),s===1))throw o=Zs,dr(n,0),Fn(n,l),yt(n,Fe()),o;switch(n.finishedWork=d,n.finishedLanes=l,s){case 0:case 1:throw Error(r(345));case 2:fr(n,gt,gn);break;case 3:if(Fn(n,l),(l&130023424)===l&&(s=wc+500-Fe(),10<s)){if($i(n,0)!==0)break;if(d=n.suspendedLanes,(d&l)!==l){ut(),n.pingedLanes|=n.suspendedLanes&d;break}n.timeoutHandle=_l(fr.bind(null,n,gt,gn),s);break}fr(n,gt,gn);break;case 4:if(Fn(n,l),(l&4194240)===l)break;for(s=n.eventTimes,d=-1;0<l;){var x=31-Vt(l);m=1<<x,x=s[x],x>d&&(d=x),l&=~m}if(l=d,l=Fe()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*lw(l/1960))-l,10<l){n.timeoutHandle=_l(fr.bind(null,n,gt,gn),l);break}fr(n,gt,gn);break;case 5:fr(n,gt,gn);break;default:throw Error(r(329))}}}return yt(n,Fe()),n.callbackNode===o?Sp.bind(null,n):null}function Cc(n,s){var o=ei;return n.current.memoizedState.isDehydrated&&(dr(n,s).flags|=256),n=Do(n,s),n!==2&&(s=gt,gt=o,s!==null&&kc(s)),n}function kc(n){gt===null?gt=n:gt.push.apply(gt,n)}function cw(n){for(var s=n;;){if(s.flags&16384){var o=s.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var l=0;l<o.length;l++){var d=o[l],m=d.getSnapshot;d=d.value;try{if(!Ft(m(),d))return!1}catch{return!1}}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Fn(n,s){for(s&=~xc,s&=~jo,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var o=31-Vt(s),l=1<<o;n[o]=-1,s&=~l}}function Ep(n){if((me&6)!==0)throw Error(r(327));Yr();var s=$i(n,0);if((s&1)===0)return yt(n,Fe()),null;var o=Do(n,s);if(n.tag!==0&&o===2){var l=nl(n);l!==0&&(s=l,o=Cc(n,l))}if(o===1)throw o=Zs,dr(n,0),Fn(n,s),yt(n,Fe()),o;if(o===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,fr(n,gt,gn),yt(n,Fe()),null}function Nc(n,s){var o=me;me|=1;try{return n(s)}finally{me=o,me===0&&(Qr=Fe()+500,lo&&An())}}function ur(n){In!==null&&In.tag===0&&(me&6)===0&&Yr();var s=me;me|=1;var o=At.transition,l=Ce;try{if(At.transition=null,Ce=1,n)return n()}finally{Ce=l,At.transition=o,me=s,(me&6)===0&&An()}}function Tc(){Nt=qr.current,_e(qr)}function dr(n,s){n.finishedWork=null,n.finishedLanes=0;var o=n.timeoutHandle;if(o!==-1&&(n.timeoutHandle=-1,Fx(o)),$e!==null)for(o=$e.return;o!==null;){var l=o;switch(Ml(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&oo();break;case 3:Gr(),_e(ht),_e(nt),ql();break;case 5:Wl(l);break;case 4:Gr();break;case 13:_e(Oe);break;case 19:_e(Oe);break;case 10:Bl(l.type._context);break;case 22:case 23:Tc()}o=o.return}if(Ye=n,$e=n=Un(n.current,null),et=Nt=s,Ke=0,Zs=null,xc=jo=cr=0,gt=ei=null,or!==null){for(s=0;s<or.length;s++)if(o=or[s],l=o.interleaved,l!==null){o.interleaved=null;var d=l.next,m=o.pending;if(m!==null){var x=m.next;m.next=d,l.next=x}o.pending=l}or=null}return n}function Cp(n,s){do{var o=$e;try{if(Ul(),xo.current=Co,wo){for(var l=Me.memoizedState;l!==null;){var d=l.queue;d!==null&&(d.pending=null),l=l.next}wo=!1}if(lr=0,Qe=We=Me=null,Ks=!1,qs=0,vc.current=null,o===null||o.return===null){Ke=1,Zs=s,$e=null;break}e:{var m=n,x=o.return,S=o,P=s;if(s=et,S.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var O=P,B=S,$=B.tag;if((B.mode&1)===0&&($===0||$===11||$===15)){var F=B.alternate;F?(B.updateQueue=F.updateQueue,B.memoizedState=F.memoizedState,B.lanes=F.lanes):(B.updateQueue=null,B.memoizedState=null)}var Q=qh(x);if(Q!==null){Q.flags&=-257,Qh(Q,x,S,m,s),Q.mode&1&&Kh(m,O,s),s=Q,P=O;var J=s.updateQueue;if(J===null){var Z=new Set;Z.add(P),s.updateQueue=Z}else J.add(P);break e}else{if((s&1)===0){Kh(m,O,s),Pc();break e}P=Error(r(426))}}else if(Re&&S.mode&1){var Ue=qh(x);if(Ue!==null){(Ue.flags&65536)===0&&(Ue.flags|=256),Qh(Ue,x,S,m,s),Vl(Wr(P,S));break e}}m=P=Wr(P,S),Ke!==4&&(Ke=2),ei===null?ei=[m]:ei.push(m),m=x;do{switch(m.tag){case 3:m.flags|=65536,s&=-s,m.lanes|=s;var R=Gh(m,P,s);vh(m,R);break e;case 1:S=P;var b=m.type,L=m.stateNode;if((m.flags&128)===0&&(typeof b.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(Dn===null||!Dn.has(L)))){m.flags|=65536,s&=-s,m.lanes|=s;var G=Wh(m,S,s);vh(m,G);break e}}m=m.return}while(m!==null)}Tp(o)}catch(ee){s=ee,$e===o&&o!==null&&($e=o=o.return);continue}break}while(!0)}function kp(){var n=_o.current;return _o.current=Co,n===null?Co:n}function Pc(){(Ke===0||Ke===3||Ke===2)&&(Ke=4),Ye===null||(cr&268435455)===0&&(jo&268435455)===0||Fn(Ye,et)}function Do(n,s){var o=me;me|=2;var l=kp();(Ye!==n||et!==s)&&(gn=null,dr(n,s));do try{uw();break}catch(d){Cp(n,d)}while(!0);if(Ul(),me=o,_o.current=l,$e!==null)throw Error(r(261));return Ye=null,et=0,Ke}function uw(){for(;$e!==null;)Np($e)}function dw(){for(;$e!==null&&!Dv();)Np($e)}function Np(n){var s=_p(n.alternate,n,Nt);n.memoizedProps=n.pendingProps,s===null?Tp(n):$e=s,vc.current=null}function Tp(n){var s=n;do{var o=s.alternate;if(n=s.return,(s.flags&32768)===0){if(o=rw(o,s,Nt),o!==null){$e=o;return}}else{if(o=sw(o,s),o!==null){o.flags&=32767,$e=o;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Ke=6,$e=null;return}}if(s=s.sibling,s!==null){$e=s;return}$e=s=n}while(s!==null);Ke===0&&(Ke=5)}function fr(n,s,o){var l=Ce,d=At.transition;try{At.transition=null,Ce=1,fw(n,s,o,l)}finally{At.transition=d,Ce=l}return null}function fw(n,s,o,l){do Yr();while(In!==null);if((me&6)!==0)throw Error(r(327));o=n.finishedWork;var d=n.finishedLanes;if(o===null)return null;if(n.finishedWork=null,n.finishedLanes=0,o===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var m=o.lanes|o.childLanes;if(Wv(n,m),n===Ye&&($e=Ye=null,et=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||Ao||(Ao=!0,jp(Fi,function(){return Yr(),null})),m=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||m){m=At.transition,At.transition=null;var x=Ce;Ce=1;var S=me;me|=4,vc.current=null,ow(n,o),gp(o,n),Ax(Pl),Wi=!!Tl,Pl=Tl=null,n.current=o,aw(o),Iv(),me=S,Ce=x,At.transition=m}else n.current=o;if(Ao&&(Ao=!1,In=n,Lo=d),m=n.pendingLanes,m===0&&(Dn=null),Uv(o.stateNode),yt(n,Fe()),s!==null)for(l=n.onRecoverableError,o=0;o<s.length;o++)d=s[o],l(d.value,{componentStack:d.stack,digest:d.digest});if(Ro)throw Ro=!1,n=Sc,Sc=null,n;return(Lo&1)!==0&&n.tag!==0&&Yr(),m=n.pendingLanes,(m&1)!==0?n===Ec?ti++:(ti=0,Ec=n):ti=0,An(),null}function Yr(){if(In!==null){var n=pf(Lo),s=At.transition,o=Ce;try{if(At.transition=null,Ce=16>n?16:n,In===null)var l=!1;else{if(n=In,In=null,Lo=0,(me&6)!==0)throw Error(r(331));var d=me;for(me|=4,X=n.current;X!==null;){var m=X,x=m.child;if((X.flags&16)!==0){var S=m.deletions;if(S!==null){for(var P=0;P<S.length;P++){var O=S[P];for(X=O;X!==null;){var B=X;switch(B.tag){case 0:case 11:case 15:Js(8,B,m)}var $=B.child;if($!==null)$.return=B,X=$;else for(;X!==null;){B=X;var F=B.sibling,Q=B.return;if(dp(B),B===O){X=null;break}if(F!==null){F.return=Q,X=F;break}X=Q}}}var J=m.alternate;if(J!==null){var Z=J.child;if(Z!==null){J.child=null;do{var Ue=Z.sibling;Z.sibling=null,Z=Ue}while(Z!==null)}}X=m}}if((m.subtreeFlags&2064)!==0&&x!==null)x.return=m,X=x;else e:for(;X!==null;){if(m=X,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:Js(9,m,m.return)}var R=m.sibling;if(R!==null){R.return=m.return,X=R;break e}X=m.return}}var b=n.current;for(X=b;X!==null;){x=X;var L=x.child;if((x.subtreeFlags&2064)!==0&&L!==null)L.return=x,X=L;else e:for(x=b;X!==null;){if(S=X,(S.flags&2048)!==0)try{switch(S.tag){case 0:case 11:case 15:bo(9,S)}}catch(ee){Ie(S,S.return,ee)}if(S===x){X=null;break e}var G=S.sibling;if(G!==null){G.return=S.return,X=G;break e}X=S.return}}if(me=d,An(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(Ui,n)}catch{}l=!0}return l}finally{Ce=o,At.transition=s}}return!1}function Pp(n,s,o){s=Wr(o,s),s=Gh(n,s,1),n=On(n,s,1),s=ut(),n!==null&&(Ns(n,1,s),yt(n,s))}function Ie(n,s,o){if(n.tag===3)Pp(n,n,o);else for(;s!==null;){if(s.tag===3){Pp(s,n,o);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Dn===null||!Dn.has(l))){n=Wr(o,n),n=Wh(s,n,1),s=On(s,n,1),n=ut(),s!==null&&(Ns(s,1,n),yt(s,n));break}}s=s.return}}function hw(n,s,o){var l=n.pingCache;l!==null&&l.delete(s),s=ut(),n.pingedLanes|=n.suspendedLanes&o,Ye===n&&(et&o)===o&&(Ke===4||Ke===3&&(et&130023424)===et&&500>Fe()-wc?dr(n,0):xc|=o),yt(n,s)}function bp(n,s){s===0&&((n.mode&1)===0?s=1:(s=zi,zi<<=1,(zi&130023424)===0&&(zi=4194304)));var o=ut();n=hn(n,s),n!==null&&(Ns(n,s,o),yt(n,o))}function pw(n){var s=n.memoizedState,o=0;s!==null&&(o=s.retryLane),bp(n,o)}function mw(n,s){var o=0;switch(n.tag){case 13:var l=n.stateNode,d=n.memoizedState;d!==null&&(o=d.retryLane);break;case 19:l=n.stateNode;break;default:throw Error(r(314))}l!==null&&l.delete(s),bp(n,o)}var _p;_p=function(n,s,o){if(n!==null)if(n.memoizedProps!==s.pendingProps||ht.current)mt=!0;else{if((n.lanes&o)===0&&(s.flags&128)===0)return mt=!1,nw(n,s,o);mt=(n.flags&131072)!==0}else mt=!1,Re&&(s.flags&1048576)!==0&&lh(s,uo,s.index);switch(s.lanes=0,s.tag){case 2:var l=s.type;To(n,s),n=s.pendingProps;var d=Vr(s,nt.current);Hr(s,o),d=Xl(null,s,l,n,d,o);var m=Jl();return s.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,pt(l)?(m=!0,ao(s)):m=!1,s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Hl(s),d.updater=ko,s.stateNode=d,d._reactInternals=s,sc(s,l,n,o),s=lc(null,s,l,!0,m,o)):(s.tag=0,Re&&m&&Ol(s),ct(null,s,d,o),s=s.child),s;case 16:l=s.elementType;e:{switch(To(n,s),n=s.pendingProps,d=l._init,l=d(l._payload),s.type=l,d=s.tag=yw(l),n=Bt(l,n),d){case 0:s=ac(null,s,l,n,o);break e;case 1:s=tp(null,s,l,n,o);break e;case 11:s=Yh(null,s,l,n,o);break e;case 14:s=Xh(null,s,l,Bt(l.type,n),o);break e}throw Error(r(306,l,""))}return s;case 0:return l=s.type,d=s.pendingProps,d=s.elementType===l?d:Bt(l,d),ac(n,s,l,d,o);case 1:return l=s.type,d=s.pendingProps,d=s.elementType===l?d:Bt(l,d),tp(n,s,l,d,o);case 3:e:{if(np(s),n===null)throw Error(r(387));l=s.pendingProps,m=s.memoizedState,d=m.element,yh(n,s),yo(s,l,null,o);var x=s.memoizedState;if(l=x.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){d=Wr(Error(r(423)),s),s=rp(n,s,l,o,d);break e}else if(l!==d){d=Wr(Error(r(424)),s),s=rp(n,s,l,o,d);break e}else for(kt=_n(s.stateNode.containerInfo.firstChild),Ct=s,Re=!0,Ut=null,o=mh(s,null,l,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Br(),l===d){s=mn(n,s,o);break e}ct(n,s,l,o)}s=s.child}return s;case 5:return wh(s),n===null&&Il(s),l=s.type,d=s.pendingProps,m=n!==null?n.memoizedProps:null,x=d.children,bl(l,d)?x=null:m!==null&&bl(l,m)&&(s.flags|=32),ep(n,s),ct(n,s,x,o),s.child;case 6:return n===null&&Il(s),null;case 13:return sp(n,s,o);case 4:return Gl(s,s.stateNode.containerInfo),l=s.pendingProps,n===null?s.child=zr(s,null,l,o):ct(n,s,l,o),s.child;case 11:return l=s.type,d=s.pendingProps,d=s.elementType===l?d:Bt(l,d),Yh(n,s,l,d,o);case 7:return ct(n,s,s.pendingProps,o),s.child;case 8:return ct(n,s,s.pendingProps.children,o),s.child;case 12:return ct(n,s,s.pendingProps.children,o),s.child;case 10:e:{if(l=s.type._context,d=s.pendingProps,m=s.memoizedProps,x=d.value,Te(po,l._currentValue),l._currentValue=x,m!==null)if(Ft(m.value,x)){if(m.children===d.children&&!ht.current){s=mn(n,s,o);break e}}else for(m=s.child,m!==null&&(m.return=s);m!==null;){var S=m.dependencies;if(S!==null){x=m.child;for(var P=S.firstContext;P!==null;){if(P.context===l){if(m.tag===1){P=pn(-1,o&-o),P.tag=2;var O=m.updateQueue;if(O!==null){O=O.shared;var B=O.pending;B===null?P.next=P:(P.next=B.next,B.next=P),O.pending=P}}m.lanes|=o,P=m.alternate,P!==null&&(P.lanes|=o),zl(m.return,o,s),S.lanes|=o;break}P=P.next}}else if(m.tag===10)x=m.type===s.type?null:m.child;else if(m.tag===18){if(x=m.return,x===null)throw Error(r(341));x.lanes|=o,S=x.alternate,S!==null&&(S.lanes|=o),zl(x,o,s),x=m.sibling}else x=m.child;if(x!==null)x.return=m;else for(x=m;x!==null;){if(x===s){x=null;break}if(m=x.sibling,m!==null){m.return=x.return,x=m;break}x=x.return}m=x}ct(n,s,d.children,o),s=s.child}return s;case 9:return d=s.type,l=s.pendingProps.children,Hr(s,o),d=jt(d),l=l(d),s.flags|=1,ct(n,s,l,o),s.child;case 14:return l=s.type,d=Bt(l,s.pendingProps),d=Bt(l.type,d),Xh(n,s,l,d,o);case 15:return Jh(n,s,s.type,s.pendingProps,o);case 17:return l=s.type,d=s.pendingProps,d=s.elementType===l?d:Bt(l,d),To(n,s),s.tag=1,pt(l)?(n=!0,ao(s)):n=!1,Hr(s,o),$h(s,l,d),sc(s,l,d,o),lc(null,s,l,!0,n,o);case 19:return op(n,s,o);case 22:return Zh(n,s,o)}throw Error(r(156,s.tag))};function jp(n,s){return cf(n,s)}function gw(n,s,o,l){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(n,s,o,l){return new gw(n,s,o,l)}function bc(n){return n=n.prototype,!(!n||!n.isReactComponent)}function yw(n){if(typeof n=="function")return bc(n)?1:0;if(n!=null){if(n=n.$$typeof,n===te)return 11;if(n===ft)return 14}return 2}function Un(n,s){var o=n.alternate;return o===null?(o=Lt(n.tag,s,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=s,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&14680064,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,s=n.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o}function Io(n,s,o,l,d,m){var x=2;if(l=n,typeof n=="function")bc(n)&&(x=1);else if(typeof n=="string")x=5;else e:switch(n){case z:return hr(o.children,d,m,s);case V:x=8,d|=8;break;case re:return n=Lt(12,o,s,d|2),n.elementType=re,n.lanes=m,n;case pe:return n=Lt(13,o,s,d),n.elementType=pe,n.lanes=m,n;case Le:return n=Lt(19,o,s,d),n.elementType=Le,n.lanes=m,n;case ue:return Vo(o,d,m,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ge:x=10;break e;case Ge:x=9;break e;case te:x=11;break e;case ft:x=14;break e;case qe:x=16,l=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return s=Lt(x,o,s,d),s.elementType=n,s.type=l,s.lanes=m,s}function hr(n,s,o,l){return n=Lt(7,n,l,s),n.lanes=o,n}function Vo(n,s,o,l){return n=Lt(22,n,l,s),n.elementType=ue,n.lanes=o,n.stateNode={isHidden:!1},n}function _c(n,s,o){return n=Lt(6,n,null,s),n.lanes=o,n}function jc(n,s,o){return s=Lt(4,n.children!==null?n.children:[],n.key,s),s.lanes=o,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function vw(n,s,o,l,d){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rl(0),this.expirationTimes=rl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rl(0),this.identifierPrefix=l,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Rc(n,s,o,l,d,m,x,S,P){return n=new vw(n,s,o,S,P),s===1?(s=1,m===!0&&(s|=8)):s=0,m=Lt(3,null,null,s),n.current=m,m.stateNode=n,m.memoizedState={element:l,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hl(m),n}function xw(n,s,o){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:W,key:l==null?null:""+l,children:n,containerInfo:s,implementation:o}}function Rp(n){if(!n)return Rn;n=n._reactInternals;e:{if(tr(n)!==n||n.tag!==1)throw Error(r(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(pt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(r(171))}if(n.tag===1){var o=n.type;if(pt(o))return ih(n,o,s)}return s}function Ap(n,s,o,l,d,m,x,S,P){return n=Rc(o,l,!0,n,d,m,x,S,P),n.context=Rp(null),o=n.current,l=ut(),d=Vn(o),m=pn(l,d),m.callback=s??null,On(o,m,d),n.current.lanes=d,Ns(n,d,l),yt(n,l),n}function Fo(n,s,o,l){var d=s.current,m=ut(),x=Vn(d);return o=Rp(o),s.context===null?s.context=o:s.pendingContext=o,s=pn(m,x),s.payload={element:n},l=l===void 0?null:l,l!==null&&(s.callback=l),n=On(d,s,x),n!==null&&(Ht(n,d,x,m),go(n,d,x)),x}function Uo(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Lp(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<s?o:s}}function Ac(n,s){Lp(n,s),(n=n.alternate)&&Lp(n,s)}function ww(){return null}var Op=typeof reportError=="function"?reportError:function(n){console.error(n)};function Lc(n){this._internalRoot=n}Bo.prototype.render=Lc.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));Fo(n,s,null,null)},Bo.prototype.unmount=Lc.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;ur(function(){Fo(null,n,null,null)}),s[cn]=null}};function Bo(n){this._internalRoot=n}Bo.prototype.unstable_scheduleHydration=function(n){if(n){var s=yf();n={blockedOn:null,target:n,priority:s};for(var o=0;o<Tn.length&&s!==0&&s<Tn[o].priority;o++);Tn.splice(o,0,n),o===0&&wf(n)}};function Oc(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function zo(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Mp(){}function Sw(n,s,o,l,d){if(d){if(typeof l=="function"){var m=l;l=function(){var O=Uo(x);m.call(O)}}var x=Ap(s,l,n,0,null,!1,!1,"",Mp);return n._reactRootContainer=x,n[cn]=x.current,Fs(n.nodeType===8?n.parentNode:n),ur(),x}for(;d=n.lastChild;)n.removeChild(d);if(typeof l=="function"){var S=l;l=function(){var O=Uo(P);S.call(O)}}var P=Rc(n,0,!1,null,null,!1,!1,"",Mp);return n._reactRootContainer=P,n[cn]=P.current,Fs(n.nodeType===8?n.parentNode:n),ur(function(){Fo(s,P,o,l)}),P}function $o(n,s,o,l,d){var m=o._reactRootContainer;if(m){var x=m;if(typeof d=="function"){var S=d;d=function(){var P=Uo(x);S.call(P)}}Fo(s,x,n,d)}else x=Sw(o,s,n,d,l);return Uo(x)}mf=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var o=ks(s.pendingLanes);o!==0&&(sl(s,o|1),yt(s,Fe()),(me&6)===0&&(Qr=Fe()+500,An()))}break;case 13:ur(function(){var l=hn(n,1);if(l!==null){var d=ut();Ht(l,n,1,d)}}),Ac(n,1)}},il=function(n){if(n.tag===13){var s=hn(n,134217728);if(s!==null){var o=ut();Ht(s,n,134217728,o)}Ac(n,134217728)}},gf=function(n){if(n.tag===13){var s=Vn(n),o=hn(n,s);if(o!==null){var l=ut();Ht(o,n,s,l)}Ac(n,s)}},yf=function(){return Ce},vf=function(n,s){var o=Ce;try{return Ce=n,s()}finally{Ce=o}},Xa=function(n,s,o){switch(s){case"input":if($a(n,o),s=o.name,o.type==="radio"&&s!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<o.length;s++){var l=o[s];if(l!==n&&l.form===n.form){var d=io(l);if(!d)throw Error(r(90));Bd(l),$a(l,d)}}}break;case"textarea":Wd(n,o);break;case"select":s=o.value,s!=null&&Tr(n,!!o.multiple,s,!1)}},tf=Nc,nf=ur;var Ew={usingClientEntryPoint:!1,Events:[zs,Dr,io,Zd,ef,Nc]},ni={findFiberByHostInstance:nr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Cw={bundleType:ni.bundleType,version:ni.version,rendererPackageName:ni.rendererPackageName,rendererConfig:ni.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=af(n),n===null?null:n.stateNode},findFiberByHostInstance:ni.findFiberByHostInstance||ww,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ho=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ho.isDisabled&&Ho.supportsFiber)try{Ui=Ho.inject(Cw),Jt=Ho}catch{}}return vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ew,vt.createPortal=function(n,s){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Oc(s))throw Error(r(200));return xw(n,s,null,o)},vt.createRoot=function(n,s){if(!Oc(n))throw Error(r(299));var o=!1,l="",d=Op;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),s=Rc(n,1,!1,null,null,o,!1,l,d),n[cn]=s.current,Fs(n.nodeType===8?n.parentNode:n),new Lc(s)},vt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=af(s),n=n===null?null:n.stateNode,n},vt.flushSync=function(n){return ur(n)},vt.hydrate=function(n,s,o){if(!zo(s))throw Error(r(200));return $o(null,n,s,!0,o)},vt.hydrateRoot=function(n,s,o){if(!Oc(n))throw Error(r(405));var l=o!=null&&o.hydratedSources||null,d=!1,m="",x=Op;if(o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onRecoverableError!==void 0&&(x=o.onRecoverableError)),s=Ap(s,null,n,1,o??null,d,!1,m,x),n[cn]=s.current,Fs(n),l)for(n=0;n<l.length;n++)o=l[n],d=o._getVersion,d=d(o._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[o,d]:s.mutableSourceEagerHydrationData.push(o,d);return new Bo(s)},vt.render=function(n,s,o){if(!zo(s))throw Error(r(200));return $o(null,n,s,!1,o)},vt.unmountComponentAtNode=function(n){if(!zo(n))throw Error(r(40));return n._reactRootContainer?(ur(function(){$o(null,null,n,!1,function(){n._reactRootContainer=null,n[cn]=null})}),!0):!1},vt.unstable_batchedUpdates=Nc,vt.unstable_renderSubtreeIntoContainer=function(n,s,o,l){if(!zo(o))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return $o(n,s,o,!1,l)},vt.version="18.3.1-next-f1338f8080-20240426",vt}var $p;function $g(){if($p)return Ic.exports;$p=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ic.exports=Lw(),Ic.exports}var Hp;function Ow(){if(Hp)return Go;Hp=1;var t=$g();return Go.createRoot=t.createRoot,Go.hydrateRoot=t.hydrateRoot,Go}var Mw=Ow();$g();/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yi(){return yi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},yi.apply(this,arguments)}var Wn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Wn||(Wn={}));const Gp="popstate";function Dw(t){t===void 0&&(t={});function e(i,a){let{pathname:c,search:u,hash:f}=i.location;return au("",{pathname:c,search:u,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(i,a){return typeof a=="string"?a:fa(a)}return Vw(e,r,null,t)}function ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Hg(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Iw(){return Math.random().toString(36).substr(2,8)}function Wp(t,e){return{usr:t.state,key:t.key,idx:e}}function au(t,e,r,i){return r===void 0&&(r=null),yi({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?cs(e):e,{state:r,key:e&&e.key||i||Iw()})}function fa(t){let{pathname:e="/",search:r="",hash:i=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function cs(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function Vw(t,e,r,i){i===void 0&&(i={});let{window:a=document.defaultView,v5Compat:c=!1}=i,u=a.history,f=Wn.Pop,h=null,g=y();g==null&&(g=0,u.replaceState(yi({},u.state,{idx:g}),""));function y(){return(u.state||{idx:null}).idx}function v(){f=Wn.Pop;let E=y(),_=E==null?null:E-g;g=E,h&&h({action:f,location:k.location,delta:_})}function w(E,_){f=Wn.Push;let D=au(k.location,E,_);g=y()+1;let A=Wp(D,g),I=k.createHref(D);try{u.pushState(A,"",I)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;a.location.assign(I)}c&&h&&h({action:f,location:k.location,delta:1})}function C(E,_){f=Wn.Replace;let D=au(k.location,E,_);g=y();let A=Wp(D,g),I=k.createHref(D);u.replaceState(A,"",I),c&&h&&h({action:f,location:k.location,delta:0})}function N(E){let _=a.location.origin!=="null"?a.location.origin:a.location.href,D=typeof E=="string"?E:fa(E);return D=D.replace(/ $/,"%20"),ze(_,"No window.location.(origin|href) available to create URL for href: "+D),new URL(D,_)}let k={get action(){return f},get location(){return t(a,u)},listen(E){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(Gp,v),h=E,()=>{a.removeEventListener(Gp,v),h=null}},createHref(E){return e(a,E)},createURL:N,encodeLocation(E){let _=N(E);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:w,replace:C,go(E){return u.go(E)}};return k}var Kp;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Kp||(Kp={}));function Fw(t,e,r){return r===void 0&&(r="/"),Uw(t,e,r)}function Uw(t,e,r,i){let a=typeof e=="string"?cs(e):e,c=Hu(a.pathname||"/",r);if(c==null)return null;let u=Gg(t);Bw(u);let f=null;for(let h=0;f==null&&h<u.length;++h){let g=Zw(c);f=Yw(u[h],g)}return f}function Gg(t,e,r,i){e===void 0&&(e=[]),r===void 0&&(r=[]),i===void 0&&(i="");let a=(c,u,f)=>{let h={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};h.relativePath.startsWith("/")&&(ze(h.relativePath.startsWith(i),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(i.length));let g=Kn([i,h.relativePath]),y=r.concat(h);c.children&&c.children.length>0&&(ze(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),Gg(c.children,e,y,g)),!(c.path==null&&!c.index)&&e.push({path:g,score:qw(g,c.index),routesMeta:y})};return t.forEach((c,u)=>{var f;if(c.path===""||!((f=c.path)!=null&&f.includes("?")))a(c,u);else for(let h of Wg(c.path))a(c,u,h)}),e}function Wg(t){let e=t.split("/");if(e.length===0)return[];let[r,...i]=e,a=r.endsWith("?"),c=r.replace(/\?$/,"");if(i.length===0)return a?[c,""]:[c];let u=Wg(i.join("/")),f=[];return f.push(...u.map(h=>h===""?c:[c,h].join("/"))),a&&f.push(...u),f.map(h=>t.startsWith("/")&&h===""?"/":h)}function Bw(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Qw(e.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}const zw=/^:[\w-]+$/,$w=3,Hw=2,Gw=1,Ww=10,Kw=-2,qp=t=>t==="*";function qw(t,e){let r=t.split("/"),i=r.length;return r.some(qp)&&(i+=Kw),e&&(i+=Hw),r.filter(a=>!qp(a)).reduce((a,c)=>a+(zw.test(c)?$w:c===""?Gw:Ww),i)}function Qw(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function Yw(t,e,r){let{routesMeta:i}=t,a={},c="/",u=[];for(let f=0;f<i.length;++f){let h=i[f],g=f===i.length-1,y=c==="/"?e:e.slice(c.length)||"/",v=Xw({path:h.relativePath,caseSensitive:h.caseSensitive,end:g},y),w=h.route;if(!v)return null;Object.assign(a,v.params),u.push({params:a,pathname:Kn([c,v.pathname]),pathnameBase:r1(Kn([c,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(c=Kn([c,v.pathnameBase]))}return u}function Xw(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,i]=Jw(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let c=a[0],u=c.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:i.reduce((g,y,v)=>{let{paramName:w,isOptional:C}=y;if(w==="*"){let k=f[v]||"";u=c.slice(0,c.length-k.length).replace(/(.)\/+$/,"$1")}const N=f[v];return C&&!N?g[w]=void 0:g[w]=(N||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:u,pattern:t}}function Jw(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Hg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,h)=>(i.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function Zw(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Hg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Hu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,i=t.charAt(r);return i&&i!=="/"?null:t.slice(r)||"/"}function e1(t,e){e===void 0&&(e="/");let{pathname:r,search:i="",hash:a=""}=typeof t=="string"?cs(t):t;return{pathname:r?r.startsWith("/")?r:t1(r,e):e,search:s1(i),hash:i1(a)}}function t1(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Uc(t,e,r,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function n1(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Gu(t,e){let r=n1(t);return e?r.map((i,a)=>a===r.length-1?i.pathname:i.pathnameBase):r.map(i=>i.pathnameBase)}function Wu(t,e,r,i){i===void 0&&(i=!1);let a;typeof t=="string"?a=cs(t):(a=yi({},t),ze(!a.pathname||!a.pathname.includes("?"),Uc("?","pathname","search",a)),ze(!a.pathname||!a.pathname.includes("#"),Uc("#","pathname","hash",a)),ze(!a.search||!a.search.includes("#"),Uc("#","search","hash",a)));let c=t===""||a.pathname==="",u=c?"/":a.pathname,f;if(u==null)f=r;else{let v=e.length-1;if(!i&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),v-=1;a.pathname=w.join("/")}f=v>=0?e[v]:"/"}let h=e1(a,f),g=u&&u!=="/"&&u.endsWith("/"),y=(c||u===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(g||y)&&(h.pathname+="/"),h}const Kn=t=>t.join("/").replace(/\/\/+/g,"/"),r1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),s1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,i1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function o1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Kg=["post","put","patch","delete"];new Set(Kg);const a1=["get",...Kg];new Set(a1);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vi(){return vi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},vi.apply(this,arguments)}const Ku=T.createContext(null),l1=T.createContext(null),Jn=T.createContext(null),Ca=T.createContext(null),En=T.createContext({outlet:null,matches:[],isDataRoute:!1}),qg=T.createContext(null);function c1(t,e){let{relative:r}=e===void 0?{}:e;us()||ze(!1);let{basename:i,navigator:a}=T.useContext(Jn),{hash:c,pathname:u,search:f}=Xg(t,{relative:r}),h=u;return i!=="/"&&(h=u==="/"?i:Kn([i,u])),a.createHref({pathname:h,search:f,hash:c})}function us(){return T.useContext(Ca)!=null}function ds(){return us()||ze(!1),T.useContext(Ca).location}function Qg(t){T.useContext(Jn).static||T.useLayoutEffect(t)}function It(){let{isDataRoute:t}=T.useContext(En);return t?E1():u1()}function u1(){us()||ze(!1);let t=T.useContext(Ku),{basename:e,future:r,navigator:i}=T.useContext(Jn),{matches:a}=T.useContext(En),{pathname:c}=ds(),u=JSON.stringify(Gu(a,r.v7_relativeSplatPath)),f=T.useRef(!1);return Qg(()=>{f.current=!0}),T.useCallback(function(g,y){if(y===void 0&&(y={}),!f.current)return;if(typeof g=="number"){i.go(g);return}let v=Wu(g,JSON.parse(u),c,y.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Kn([e,v.pathname])),(y.replace?i.replace:i.push)(v,y.state,y)},[e,i,u,c,t])}function Yg(){let{matches:t}=T.useContext(En),e=t[t.length-1];return e?e.params:{}}function Xg(t,e){let{relative:r}=e===void 0?{}:e,{future:i}=T.useContext(Jn),{matches:a}=T.useContext(En),{pathname:c}=ds(),u=JSON.stringify(Gu(a,i.v7_relativeSplatPath));return T.useMemo(()=>Wu(t,JSON.parse(u),c,r==="path"),[t,u,c,r])}function d1(t,e){return f1(t,e)}function f1(t,e,r,i){us()||ze(!1);let{navigator:a}=T.useContext(Jn),{matches:c}=T.useContext(En),u=c[c.length-1],f=u?u.params:{};u&&u.pathname;let h=u?u.pathnameBase:"/";u&&u.route;let g=ds(),y;if(e){var v;let E=typeof e=="string"?cs(e):e;h==="/"||(v=E.pathname)!=null&&v.startsWith(h)||ze(!1),y=E}else y=g;let w=y.pathname||"/",C=w;if(h!=="/"){let E=h.replace(/^\//,"").split("/");C="/"+w.replace(/^\//,"").split("/").slice(E.length).join("/")}let N=Fw(t,{pathname:C}),k=y1(N&&N.map(E=>Object.assign({},E,{params:Object.assign({},f,E.params),pathname:Kn([h,a.encodeLocation?a.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?h:Kn([h,a.encodeLocation?a.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),c,r,i);return e&&k?T.createElement(Ca.Provider,{value:{location:vi({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Wn.Pop}},k):k}function h1(){let t=S1(),e=o1(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),r?T.createElement("pre",{style:a},r):null,null)}const p1=T.createElement(h1,null);class m1 extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?T.createElement(En.Provider,{value:this.props.routeContext},T.createElement(qg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function g1(t){let{routeContext:e,match:r,children:i}=t,a=T.useContext(Ku);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),T.createElement(En.Provider,{value:e},i)}function y1(t,e,r,i){var a;if(e===void 0&&(e=[]),r===void 0&&(r=null),i===void 0&&(i=null),t==null){var c;if(!r)return null;if(r.errors)t=r.matches;else if((c=i)!=null&&c.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let u=t,f=(a=r)==null?void 0:a.errors;if(f!=null){let y=u.findIndex(v=>v.route.id&&(f==null?void 0:f[v.route.id])!==void 0);y>=0||ze(!1),u=u.slice(0,Math.min(u.length,y+1))}let h=!1,g=-1;if(r&&i&&i.v7_partialHydration)for(let y=0;y<u.length;y++){let v=u[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(g=y),v.route.id){let{loaderData:w,errors:C}=r,N=v.route.loader&&w[v.route.id]===void 0&&(!C||C[v.route.id]===void 0);if(v.route.lazy||N){h=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}return u.reduceRight((y,v,w)=>{let C,N=!1,k=null,E=null;r&&(C=f&&v.route.id?f[v.route.id]:void 0,k=v.route.errorElement||p1,h&&(g<0&&w===0?(C1("route-fallback"),N=!0,E=null):g===w&&(N=!0,E=v.route.hydrateFallbackElement||null)));let _=e.concat(u.slice(0,w+1)),D=()=>{let A;return C?A=k:N?A=E:v.route.Component?A=T.createElement(v.route.Component,null):v.route.element?A=v.route.element:A=y,T.createElement(g1,{match:v,routeContext:{outlet:y,matches:_,isDataRoute:r!=null},children:A})};return r&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?T.createElement(m1,{location:r.location,revalidation:r.revalidation,component:k,error:C,children:D(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):D()},null)}var Jg=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Jg||{}),Zg=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Zg||{});function v1(t){let e=T.useContext(Ku);return e||ze(!1),e}function x1(t){let e=T.useContext(l1);return e||ze(!1),e}function w1(t){let e=T.useContext(En);return e||ze(!1),e}function ey(t){let e=w1(),r=e.matches[e.matches.length-1];return r.route.id||ze(!1),r.route.id}function S1(){var t;let e=T.useContext(qg),r=x1(),i=ey();return e!==void 0?e:(t=r.errors)==null?void 0:t[i]}function E1(){let{router:t}=v1(Jg.UseNavigateStable),e=ey(Zg.UseNavigateStable),r=T.useRef(!1);return Qg(()=>{r.current=!0}),T.useCallback(function(a,c){c===void 0&&(c={}),r.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,vi({fromRouteId:e},c)))},[t,e])}const Qp={};function C1(t,e,r){Qp[t]||(Qp[t]=!0)}const Yp={};function k1(t,e){Yp[e]||(Yp[e]=!0,console.warn(e))}const Xp=(t,e,r)=>k1(t,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+r+"."));function N1(t,e){t!=null&&t.v7_startTransition||Xp("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),t!=null&&t.v7_relativeSplatPath||Xp("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function zn(t){let{to:e,replace:r,state:i,relative:a}=t;us()||ze(!1);let{future:c,static:u}=T.useContext(Jn),{matches:f}=T.useContext(En),{pathname:h}=ds(),g=It(),y=Wu(e,Gu(f,c.v7_relativeSplatPath),h,a==="path"),v=JSON.stringify(y);return T.useEffect(()=>g(JSON.parse(v),{replace:r,state:i,relative:a}),[g,v,a,r,i]),null}function sn(t){ze(!1)}function T1(t){let{basename:e="/",children:r=null,location:i,navigationType:a=Wn.Pop,navigator:c,static:u=!1,future:f}=t;us()&&ze(!1);let h=e.replace(/^\/*/,"/"),g=T.useMemo(()=>({basename:h,navigator:c,static:u,future:vi({v7_relativeSplatPath:!1},f)}),[h,f,c,u]);typeof i=="string"&&(i=cs(i));let{pathname:y="/",search:v="",hash:w="",state:C=null,key:N="default"}=i,k=T.useMemo(()=>{let E=Hu(y,h);return E==null?null:{location:{pathname:E,search:v,hash:w,state:C,key:N},navigationType:a}},[h,y,v,w,C,N,a]);return k==null?null:T.createElement(Jn.Provider,{value:g},T.createElement(Ca.Provider,{children:r,value:k}))}function P1(t){let{children:e,location:r}=t;return d1(lu(e),r)}new Promise(()=>{});function lu(t,e){e===void 0&&(e=[]);let r=[];return T.Children.forEach(t,(i,a)=>{if(!T.isValidElement(i))return;let c=[...e,a];if(i.type===T.Fragment){r.push.apply(r,lu(i.props.children,c));return}i.type!==sn&&ze(!1),!i.props.index||!i.props.children||ze(!1);let u={id:i.props.id||c.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=lu(i.props.children,c)),r.push(u)}),r}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cu(){return cu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},cu.apply(this,arguments)}function b1(t,e){if(t==null)return{};var r={},i=Object.keys(t),a,c;for(c=0;c<i.length;c++)a=i[c],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function _1(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function j1(t,e){return t.button===0&&(!e||e==="_self")&&!_1(t)}function uu(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let i=t[r];return e.concat(Array.isArray(i)?i.map(a=>[r,a]):[[r,i]])},[]))}function R1(t,e){let r=uu(t);return e&&e.forEach((i,a)=>{r.has(a)||e.getAll(a).forEach(c=>{r.append(a,c)})}),r}const A1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],L1="6";try{window.__reactRouterVersion=L1}catch{}const O1="startTransition",Jp=jw[O1];function M1(t){let{basename:e,children:r,future:i,window:a}=t,c=T.useRef();c.current==null&&(c.current=Dw({window:a,v5Compat:!0}));let u=c.current,[f,h]=T.useState({action:u.action,location:u.location}),{v7_startTransition:g}=i||{},y=T.useCallback(v=>{g&&Jp?Jp(()=>h(v)):h(v)},[h,g]);return T.useLayoutEffect(()=>u.listen(y),[u,y]),T.useEffect(()=>N1(i),[i]),T.createElement(T1,{basename:e,children:r,location:f.location,navigationType:f.action,navigator:u,future:i})}const D1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",I1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qt=T.forwardRef(function(e,r){let{onClick:i,relative:a,reloadDocument:c,replace:u,state:f,target:h,to:g,preventScrollReset:y,viewTransition:v}=e,w=b1(e,A1),{basename:C}=T.useContext(Jn),N,k=!1;if(typeof g=="string"&&I1.test(g)&&(N=g,D1))try{let A=new URL(window.location.href),I=g.startsWith("//")?new URL(A.protocol+g):new URL(g),H=Hu(I.pathname,C);I.origin===A.origin&&H!=null?g=H+I.search+I.hash:k=!0}catch{}let E=c1(g,{relative:a}),_=V1(g,{replace:u,state:f,target:h,preventScrollReset:y,relative:a,viewTransition:v});function D(A){i&&i(A),A.defaultPrevented||_(A)}return T.createElement("a",cu({},w,{href:N||E,onClick:k||c?i:D,ref:r,target:h}))});var Zp;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Zp||(Zp={}));var em;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(em||(em={}));function V1(t,e){let{target:r,replace:i,state:a,preventScrollReset:c,relative:u,viewTransition:f}=e===void 0?{}:e,h=It(),g=ds(),y=Xg(t,{relative:u});return T.useCallback(v=>{if(j1(v,r)){v.preventDefault();let w=i!==void 0?i:fa(g)===fa(y);h(t,{replace:w,state:a,preventScrollReset:c,relative:u,viewTransition:f})}},[g,h,y,i,a,r,t,c,u,f])}function F1(t){let e=T.useRef(uu(t)),r=T.useRef(!1),i=ds(),a=T.useMemo(()=>R1(i.search,r.current?null:e.current),[i.search]),c=It(),u=T.useCallback((f,h)=>{const g=uu(typeof f=="function"?f(a):f);r.current=!0,c("?"+g,h)},[c,a]);return[a,u]}let U1={data:""},B1=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||U1,z1=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,$1=/\/\*[^]*?\*\/|  +/g,tm=/\n+/g,Gn=(t,e)=>{let r="",i="",a="";for(let c in t){let u=t[c];c[0]=="@"?c[1]=="i"?r=c+" "+u+";":i+=c[1]=="f"?Gn(u,c):c+"{"+Gn(u,c[1]=="k"?"":e)+"}":typeof u=="object"?i+=Gn(u,e?e.replace(/([^,])+/g,f=>c.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,h=>/&/.test(h)?h.replace(/&/g,f):f?f+" "+h:h)):c):u!=null&&(c=/^--/.test(c)?c:c.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Gn.p?Gn.p(c,u):c+":"+u+";")}return r+(e&&a?e+"{"+a+"}":a)+i},yn={},ty=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+ty(t[r]);return e}return t},H1=(t,e,r,i,a)=>{let c=ty(t),u=yn[c]||(yn[c]=(h=>{let g=0,y=11;for(;g<h.length;)y=101*y+h.charCodeAt(g++)>>>0;return"go"+y})(c));if(!yn[u]){let h=c!==t?t:(g=>{let y,v,w=[{}];for(;y=z1.exec(g.replace($1,""));)y[4]?w.shift():y[3]?(v=y[3].replace(tm," ").trim(),w.unshift(w[0][v]=w[0][v]||{})):w[0][y[1]]=y[2].replace(tm," ").trim();return w[0]})(t);yn[u]=Gn(a?{["@keyframes "+u]:h}:h,r?"":"."+u)}let f=r&&yn.g?yn.g:null;return r&&(yn.g=yn[u]),((h,g,y,v)=>{v?g.data=g.data.replace(v,h):g.data.indexOf(h)===-1&&(g.data=y?h+g.data:g.data+h)})(yn[u],e,i,f),u},G1=(t,e,r)=>t.reduce((i,a,c)=>{let u=e[c];if(u&&u.call){let f=u(r),h=f&&f.props&&f.props.className||/^go/.test(f)&&f;u=h?"."+h:f&&typeof f=="object"?f.props?"":Gn(f,""):f===!1?"":f}return i+a+(u??"")},"");function ka(t){let e=this||{},r=t.call?t(e.p):t;return H1(r.unshift?r.raw?G1(r,[].slice.call(arguments,1),e.p):r.reduce((i,a)=>Object.assign(i,a&&a.call?a(e.p):a),{}):r,B1(e.target),e.g,e.o,e.k)}let ny,du,fu;ka.bind({g:1});let wn=ka.bind({k:1});function W1(t,e,r,i){Gn.p=e,ny=t,du=r,fu=i}function Zn(t,e){let r=this||{};return function(){let i=arguments;function a(c,u){let f=Object.assign({},c),h=f.className||a.className;r.p=Object.assign({theme:du&&du()},f),r.o=/ *go\d+/.test(h),f.className=ka.apply(r,i)+(h?" "+h:"");let g=t;return t[0]&&(g=f.as||t,delete f.as),fu&&g[0]&&fu(f),ny(g,f)}return a}}var K1=t=>typeof t=="function",ha=(t,e)=>K1(t)?t(e):t,q1=(()=>{let t=0;return()=>(++t).toString()})(),ry=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),Q1=20,Jo=new Map,Y1=1e3,nm=t=>{if(Jo.has(t))return;let e=setTimeout(()=>{Jo.delete(t),kr({type:4,toastId:t})},Y1);Jo.set(t,e)},X1=t=>{let e=Jo.get(t);e&&clearTimeout(e)},hu=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,Q1)};case 1:return e.toast.id&&X1(e.toast.id),{...t,toasts:t.toasts.map(c=>c.id===e.toast.id?{...c,...e.toast}:c)};case 2:let{toast:r}=e;return t.toasts.find(c=>c.id===r.id)?hu(t,{type:1,toast:r}):hu(t,{type:0,toast:r});case 3:let{toastId:i}=e;return i?nm(i):t.toasts.forEach(c=>{nm(c.id)}),{...t,toasts:t.toasts.map(c=>c.id===i||i===void 0?{...c,visible:!1}:c)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(c=>c.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let a=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(c=>({...c,pauseDuration:c.pauseDuration+a}))}}},Zo=[],ea={toasts:[],pausedAt:void 0},kr=t=>{ea=hu(ea,t),Zo.forEach(e=>{e(ea)})},J1={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Z1=(t={})=>{let[e,r]=T.useState(ea);T.useEffect(()=>(Zo.push(r),()=>{let a=Zo.indexOf(r);a>-1&&Zo.splice(a,1)}),[e]);let i=e.toasts.map(a=>{var c,u;return{...t,...t[a.type],...a,duration:a.duration||((c=t[a.type])==null?void 0:c.duration)||(t==null?void 0:t.duration)||J1[a.type],style:{...t.style,...(u=t[a.type])==null?void 0:u.style,...a.style}}});return{...e,toasts:i}},eS=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||q1()}),Ti=t=>(e,r)=>{let i=eS(e,t,r);return kr({type:2,toast:i}),i.id},xt=(t,e)=>Ti("blank")(t,e);xt.error=Ti("error");xt.success=Ti("success");xt.loading=Ti("loading");xt.custom=Ti("custom");xt.dismiss=t=>{kr({type:3,toastId:t})};xt.remove=t=>kr({type:4,toastId:t});xt.promise=(t,e,r)=>{let i=xt.loading(e.loading,{...r,...r==null?void 0:r.loading});return t.then(a=>(xt.success(ha(e.success,a),{id:i,...r,...r==null?void 0:r.success}),a)).catch(a=>{xt.error(ha(e.error,a),{id:i,...r,...r==null?void 0:r.error})}),t};var tS=(t,e)=>{kr({type:1,toast:{id:t,height:e}})},nS=()=>{kr({type:5,time:Date.now()})},rS=t=>{let{toasts:e,pausedAt:r}=Z1(t);T.useEffect(()=>{if(r)return;let c=Date.now(),u=e.map(f=>{if(f.duration===1/0)return;let h=(f.duration||0)+f.pauseDuration-(c-f.createdAt);if(h<0){f.visible&&xt.dismiss(f.id);return}return setTimeout(()=>xt.dismiss(f.id),h)});return()=>{u.forEach(f=>f&&clearTimeout(f))}},[e,r]);let i=T.useCallback(()=>{r&&kr({type:6,time:Date.now()})},[r]),a=T.useCallback((c,u)=>{let{reverseOrder:f=!1,gutter:h=8,defaultPosition:g}=u||{},y=e.filter(C=>(C.position||g)===(c.position||g)&&C.height),v=y.findIndex(C=>C.id===c.id),w=y.filter((C,N)=>N<v&&C.visible).length;return y.filter(C=>C.visible).slice(...f?[w+1]:[0,w]).reduce((C,N)=>C+(N.height||0)+h,0)},[e]);return{toasts:e,handlers:{updateHeight:tS,startPause:nS,endPause:i,calculateOffset:a}}},sS=wn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,iS=wn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,oS=wn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,aS=Zn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${sS} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${iS} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${oS} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,lS=wn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,cS=Zn("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${lS} 1s linear infinite;
`,uS=wn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,dS=wn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,fS=Zn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${uS} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${dS} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,hS=Zn("div")`
  position: absolute;
`,pS=Zn("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,mS=wn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,gS=Zn("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${mS} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,yS=({toast:t})=>{let{icon:e,type:r,iconTheme:i}=t;return e!==void 0?typeof e=="string"?T.createElement(gS,null,e):e:r==="blank"?null:T.createElement(pS,null,T.createElement(cS,{...i}),r!=="loading"&&T.createElement(hS,null,r==="error"?T.createElement(aS,{...i}):T.createElement(fS,{...i})))},vS=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,xS=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,wS="0%{opacity:0;} 100%{opacity:1;}",SS="0%{opacity:1;} 100%{opacity:0;}",ES=Zn("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,CS=Zn("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,kS=(t,e)=>{let r=t.includes("top")?1:-1,[i,a]=ry()?[wS,SS]:[vS(r),xS(r)];return{animation:e?`${wn(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${wn(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},NS=T.memo(({toast:t,position:e,style:r,children:i})=>{let a=t.height?kS(t.position||e||"top-center",t.visible):{opacity:0},c=T.createElement(yS,{toast:t}),u=T.createElement(CS,{...t.ariaProps},ha(t.message,t));return T.createElement(ES,{className:t.className,style:{...a,...r,...t.style}},typeof i=="function"?i({icon:c,message:u}):T.createElement(T.Fragment,null,c,u))});W1(T.createElement);var TS=({id:t,className:e,style:r,onHeightUpdate:i,children:a})=>{let c=T.useCallback(u=>{if(u){let f=()=>{let h=u.getBoundingClientRect().height;i(t,h)};f(),new MutationObserver(f).observe(u,{subtree:!0,childList:!0,characterData:!0})}},[t,i]);return T.createElement("div",{ref:c,className:e,style:r},a)},PS=(t,e)=>{let r=t.includes("top"),i=r?{top:0}:{bottom:0},a=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:ry()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...i,...a}},bS=ka`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Wo=16,rm=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:i,children:a,containerStyle:c,containerClassName:u})=>{let{toasts:f,handlers:h}=rS(r);return T.createElement("div",{style:{position:"fixed",zIndex:9999,top:Wo,left:Wo,right:Wo,bottom:Wo,pointerEvents:"none",...c},className:u,onMouseEnter:h.startPause,onMouseLeave:h.endPause},f.map(g=>{let y=g.position||e,v=h.calculateOffset(g,{reverseOrder:t,gutter:i,defaultPosition:e}),w=PS(y,v);return T.createElement(TS,{id:g.id,key:g.id,onHeightUpdate:h.updateHeight,className:g.visible?bS:"",style:w},g.type==="custom"?ha(g.message,g):a?a(g):T.createElement(NS,{toast:g,position:y}))}))},q=xt;const sm=t=>{let e;const r=new Set,i=(g,y)=>{const v=typeof g=="function"?g(e):g;if(!Object.is(v,e)){const w=e;e=y??(typeof v!="object"||v===null)?v:Object.assign({},e,v),r.forEach(C=>C(e,w))}},a=()=>e,f={setState:i,getState:a,getInitialState:()=>h,subscribe:g=>(r.add(g),()=>r.delete(g))},h=e=t(i,a,f);return f},_S=t=>t?sm(t):sm,jS=t=>t;function RS(t,e=jS){const r=ou.useSyncExternalStore(t.subscribe,()=>e(t.getState()),()=>e(t.getInitialState()));return ou.useDebugValue(r),r}const im=t=>{const e=_S(t),r=i=>RS(e,i);return Object.assign(r,e),r},qu=t=>t?im(t):im;function sy(t,e){return function(){return t.apply(e,arguments)}}const{toString:AS}=Object.prototype,{getPrototypeOf:Qu}=Object,Na=(t=>e=>{const r=AS.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Xt=t=>(t=t.toLowerCase(),e=>Na(e)===t),Ta=t=>e=>typeof e===t,{isArray:fs}=Array,xi=Ta("undefined");function LS(t){return t!==null&&!xi(t)&&t.constructor!==null&&!xi(t.constructor)&&Tt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const iy=Xt("ArrayBuffer");function OS(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&iy(t.buffer),e}const MS=Ta("string"),Tt=Ta("function"),oy=Ta("number"),Pa=t=>t!==null&&typeof t=="object",DS=t=>t===!0||t===!1,ta=t=>{if(Na(t)!=="object")return!1;const e=Qu(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},IS=Xt("Date"),VS=Xt("File"),FS=Xt("Blob"),US=Xt("FileList"),BS=t=>Pa(t)&&Tt(t.pipe),zS=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Tt(t.append)&&((e=Na(t))==="formdata"||e==="object"&&Tt(t.toString)&&t.toString()==="[object FormData]"))},$S=Xt("URLSearchParams"),[HS,GS,WS,KS]=["ReadableStream","Request","Response","Headers"].map(Xt),qS=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Pi(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let i,a;if(typeof t!="object"&&(t=[t]),fs(t))for(i=0,a=t.length;i<a;i++)e.call(null,t[i],i,t);else{const c=r?Object.getOwnPropertyNames(t):Object.keys(t),u=c.length;let f;for(i=0;i<u;i++)f=c[i],e.call(null,t[f],f,t)}}function ay(t,e){e=e.toLowerCase();const r=Object.keys(t);let i=r.length,a;for(;i-- >0;)if(a=r[i],e===a.toLowerCase())return a;return null}const vr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ly=t=>!xi(t)&&t!==vr;function pu(){const{caseless:t}=ly(this)&&this||{},e={},r=(i,a)=>{const c=t&&ay(e,a)||a;ta(e[c])&&ta(i)?e[c]=pu(e[c],i):ta(i)?e[c]=pu({},i):fs(i)?e[c]=i.slice():e[c]=i};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&Pi(arguments[i],r);return e}const QS=(t,e,r,{allOwnKeys:i}={})=>(Pi(e,(a,c)=>{r&&Tt(a)?t[c]=sy(a,r):t[c]=a},{allOwnKeys:i}),t),YS=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),XS=(t,e,r,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},JS=(t,e,r,i)=>{let a,c,u;const f={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),c=a.length;c-- >0;)u=a[c],(!i||i(u,t,e))&&!f[u]&&(e[u]=t[u],f[u]=!0);t=r!==!1&&Qu(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},ZS=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const i=t.indexOf(e,r);return i!==-1&&i===r},eE=t=>{if(!t)return null;if(fs(t))return t;let e=t.length;if(!oy(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},tE=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Qu(Uint8Array)),nE=(t,e)=>{const i=(t&&t[Symbol.iterator]).call(t);let a;for(;(a=i.next())&&!a.done;){const c=a.value;e.call(t,c[0],c[1])}},rE=(t,e)=>{let r;const i=[];for(;(r=t.exec(e))!==null;)i.push(r);return i},sE=Xt("HTMLFormElement"),iE=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,i,a){return i.toUpperCase()+a}),om=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),oE=Xt("RegExp"),cy=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),i={};Pi(r,(a,c)=>{let u;(u=e(a,c,t))!==!1&&(i[c]=u||a)}),Object.defineProperties(t,i)},aE=t=>{cy(t,(e,r)=>{if(Tt(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const i=t[r];if(Tt(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},lE=(t,e)=>{const r={},i=a=>{a.forEach(c=>{r[c]=!0})};return fs(t)?i(t):i(String(t).split(e)),r},cE=()=>{},uE=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function dE(t){return!!(t&&Tt(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const fE=t=>{const e=new Array(10),r=(i,a)=>{if(Pa(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[a]=i;const c=fs(i)?[]:{};return Pi(i,(u,f)=>{const h=r(u,a+1);!xi(h)&&(c[f]=h)}),e[a]=void 0,c}}return i};return r(t,0)},hE=Xt("AsyncFunction"),pE=t=>t&&(Pa(t)||Tt(t))&&Tt(t.then)&&Tt(t.catch),uy=((t,e)=>t?setImmediate:e?((r,i)=>(vr.addEventListener("message",({source:a,data:c})=>{a===vr&&c===r&&i.length&&i.shift()()},!1),a=>{i.push(a),vr.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Tt(vr.postMessage)),mE=typeof queueMicrotask<"u"?queueMicrotask.bind(vr):typeof process<"u"&&process.nextTick||uy,M={isArray:fs,isArrayBuffer:iy,isBuffer:LS,isFormData:zS,isArrayBufferView:OS,isString:MS,isNumber:oy,isBoolean:DS,isObject:Pa,isPlainObject:ta,isReadableStream:HS,isRequest:GS,isResponse:WS,isHeaders:KS,isUndefined:xi,isDate:IS,isFile:VS,isBlob:FS,isRegExp:oE,isFunction:Tt,isStream:BS,isURLSearchParams:$S,isTypedArray:tE,isFileList:US,forEach:Pi,merge:pu,extend:QS,trim:qS,stripBOM:YS,inherits:XS,toFlatObject:JS,kindOf:Na,kindOfTest:Xt,endsWith:ZS,toArray:eE,forEachEntry:nE,matchAll:rE,isHTMLForm:sE,hasOwnProperty:om,hasOwnProp:om,reduceDescriptors:cy,freezeMethods:aE,toObjectSet:lE,toCamelCase:iE,noop:cE,toFiniteNumber:uE,findKey:ay,global:vr,isContextDefined:ly,isSpecCompliantForm:dE,toJSONObject:fE,isAsyncFn:hE,isThenable:pE,setImmediate:uy,asap:mE};function le(t,e,r,i,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),i&&(this.request=i),a&&(this.response=a,this.status=a.status?a.status:null)}M.inherits(le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:M.toJSONObject(this.config),code:this.code,status:this.status}}});const dy=le.prototype,fy={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{fy[t]={value:t}});Object.defineProperties(le,fy);Object.defineProperty(dy,"isAxiosError",{value:!0});le.from=(t,e,r,i,a,c)=>{const u=Object.create(dy);return M.toFlatObject(t,u,function(h){return h!==Error.prototype},f=>f!=="isAxiosError"),le.call(u,t.message,e,r,i,a),u.cause=t,u.name=t.name,c&&Object.assign(u,c),u};const gE=null;function mu(t){return M.isPlainObject(t)||M.isArray(t)}function hy(t){return M.endsWith(t,"[]")?t.slice(0,-2):t}function am(t,e,r){return t?t.concat(e).map(function(a,c){return a=hy(a),!r&&c?"["+a+"]":a}).join(r?".":""):e}function yE(t){return M.isArray(t)&&!t.some(mu)}const vE=M.toFlatObject(M,{},null,function(e){return/^is[A-Z]/.test(e)});function ba(t,e,r){if(!M.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=M.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,E){return!M.isUndefined(E[k])});const i=r.metaTokens,a=r.visitor||y,c=r.dots,u=r.indexes,h=(r.Blob||typeof Blob<"u"&&Blob)&&M.isSpecCompliantForm(e);if(!M.isFunction(a))throw new TypeError("visitor must be a function");function g(N){if(N===null)return"";if(M.isDate(N))return N.toISOString();if(!h&&M.isBlob(N))throw new le("Blob is not supported. Use a Buffer instead.");return M.isArrayBuffer(N)||M.isTypedArray(N)?h&&typeof Blob=="function"?new Blob([N]):Buffer.from(N):N}function y(N,k,E){let _=N;if(N&&!E&&typeof N=="object"){if(M.endsWith(k,"{}"))k=i?k:k.slice(0,-2),N=JSON.stringify(N);else if(M.isArray(N)&&yE(N)||(M.isFileList(N)||M.endsWith(k,"[]"))&&(_=M.toArray(N)))return k=hy(k),_.forEach(function(A,I){!(M.isUndefined(A)||A===null)&&e.append(u===!0?am([k],I,c):u===null?k:k+"[]",g(A))}),!1}return mu(N)?!0:(e.append(am(E,k,c),g(N)),!1)}const v=[],w=Object.assign(vE,{defaultVisitor:y,convertValue:g,isVisitable:mu});function C(N,k){if(!M.isUndefined(N)){if(v.indexOf(N)!==-1)throw Error("Circular reference detected in "+k.join("."));v.push(N),M.forEach(N,function(_,D){(!(M.isUndefined(_)||_===null)&&a.call(e,_,M.isString(D)?D.trim():D,k,w))===!0&&C(_,k?k.concat(D):[D])}),v.pop()}}if(!M.isObject(t))throw new TypeError("data must be an object");return C(t),e}function lm(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function Yu(t,e){this._pairs=[],t&&ba(t,this,e)}const py=Yu.prototype;py.append=function(e,r){this._pairs.push([e,r])};py.toString=function(e){const r=e?function(i){return e.call(this,i,lm)}:lm;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function xE(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function my(t,e,r){if(!e)return t;const i=r&&r.encode||xE;M.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let c;if(a?c=a(e,r):c=M.isURLSearchParams(e)?e.toString():new Yu(e,r).toString(i),c){const u=t.indexOf("#");u!==-1&&(t=t.slice(0,u)),t+=(t.indexOf("?")===-1?"?":"&")+c}return t}class cm{constructor(){this.handlers=[]}use(e,r,i){return this.handlers.push({fulfilled:e,rejected:r,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){M.forEach(this.handlers,function(i){i!==null&&e(i)})}}const gy={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},wE=typeof URLSearchParams<"u"?URLSearchParams:Yu,SE=typeof FormData<"u"?FormData:null,EE=typeof Blob<"u"?Blob:null,CE={isBrowser:!0,classes:{URLSearchParams:wE,FormData:SE,Blob:EE},protocols:["http","https","file","blob","url","data"]},Xu=typeof window<"u"&&typeof document<"u",gu=typeof navigator=="object"&&navigator||void 0,kE=Xu&&(!gu||["ReactNative","NativeScript","NS"].indexOf(gu.product)<0),NE=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",TE=Xu&&window.location.href||"http://localhost",PE=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Xu,hasStandardBrowserEnv:kE,hasStandardBrowserWebWorkerEnv:NE,navigator:gu,origin:TE},Symbol.toStringTag,{value:"Module"})),at={...PE,...CE};function bE(t,e){return ba(t,new at.classes.URLSearchParams,Object.assign({visitor:function(r,i,a,c){return at.isNode&&M.isBuffer(r)?(this.append(i,r.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)}},e))}function _E(t){return M.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function jE(t){const e={},r=Object.keys(t);let i;const a=r.length;let c;for(i=0;i<a;i++)c=r[i],e[c]=t[c];return e}function yy(t){function e(r,i,a,c){let u=r[c++];if(u==="__proto__")return!0;const f=Number.isFinite(+u),h=c>=r.length;return u=!u&&M.isArray(a)?a.length:u,h?(M.hasOwnProp(a,u)?a[u]=[a[u],i]:a[u]=i,!f):((!a[u]||!M.isObject(a[u]))&&(a[u]=[]),e(r,i,a[u],c)&&M.isArray(a[u])&&(a[u]=jE(a[u])),!f)}if(M.isFormData(t)&&M.isFunction(t.entries)){const r={};return M.forEachEntry(t,(i,a)=>{e(_E(i),a,r,0)}),r}return null}function RE(t,e,r){if(M.isString(t))try{return(e||JSON.parse)(t),M.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(r||JSON.stringify)(t)}const bi={transitional:gy,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const i=r.getContentType()||"",a=i.indexOf("application/json")>-1,c=M.isObject(e);if(c&&M.isHTMLForm(e)&&(e=new FormData(e)),M.isFormData(e))return a?JSON.stringify(yy(e)):e;if(M.isArrayBuffer(e)||M.isBuffer(e)||M.isStream(e)||M.isFile(e)||M.isBlob(e)||M.isReadableStream(e))return e;if(M.isArrayBufferView(e))return e.buffer;if(M.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let f;if(c){if(i.indexOf("application/x-www-form-urlencoded")>-1)return bE(e,this.formSerializer).toString();if((f=M.isFileList(e))||i.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return ba(f?{"files[]":e}:e,h&&new h,this.formSerializer)}}return c||a?(r.setContentType("application/json",!1),RE(e)):e}],transformResponse:[function(e){const r=this.transitional||bi.transitional,i=r&&r.forcedJSONParsing,a=this.responseType==="json";if(M.isResponse(e)||M.isReadableStream(e))return e;if(e&&M.isString(e)&&(i&&!this.responseType||a)){const u=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(f){if(u)throw f.name==="SyntaxError"?le.from(f,le.ERR_BAD_RESPONSE,this,null,this.response):f}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:at.classes.FormData,Blob:at.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};M.forEach(["delete","get","head","post","put","patch"],t=>{bi.headers[t]={}});const AE=M.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),LE=t=>{const e={};let r,i,a;return t&&t.split(`
`).forEach(function(u){a=u.indexOf(":"),r=u.substring(0,a).trim().toLowerCase(),i=u.substring(a+1).trim(),!(!r||e[r]&&AE[r])&&(r==="set-cookie"?e[r]?e[r].push(i):e[r]=[i]:e[r]=e[r]?e[r]+", "+i:i)}),e},um=Symbol("internals");function si(t){return t&&String(t).trim().toLowerCase()}function na(t){return t===!1||t==null?t:M.isArray(t)?t.map(na):String(t)}function OE(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=r.exec(t);)e[i[1]]=i[2];return e}const ME=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Bc(t,e,r,i,a){if(M.isFunction(i))return i.call(this,e,r);if(a&&(e=r),!!M.isString(e)){if(M.isString(i))return e.indexOf(i)!==-1;if(M.isRegExp(i))return i.test(e)}}function DE(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,i)=>r.toUpperCase()+i)}function IE(t,e){const r=M.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+r,{value:function(a,c,u){return this[i].call(this,e,a,c,u)},configurable:!0})})}let wt=class{constructor(e){e&&this.set(e)}set(e,r,i){const a=this;function c(f,h,g){const y=si(h);if(!y)throw new Error("header name must be a non-empty string");const v=M.findKey(a,y);(!v||a[v]===void 0||g===!0||g===void 0&&a[v]!==!1)&&(a[v||h]=na(f))}const u=(f,h)=>M.forEach(f,(g,y)=>c(g,y,h));if(M.isPlainObject(e)||e instanceof this.constructor)u(e,r);else if(M.isString(e)&&(e=e.trim())&&!ME(e))u(LE(e),r);else if(M.isHeaders(e))for(const[f,h]of e.entries())c(h,f,i);else e!=null&&c(r,e,i);return this}get(e,r){if(e=si(e),e){const i=M.findKey(this,e);if(i){const a=this[i];if(!r)return a;if(r===!0)return OE(a);if(M.isFunction(r))return r.call(this,a,i);if(M.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=si(e),e){const i=M.findKey(this,e);return!!(i&&this[i]!==void 0&&(!r||Bc(this,this[i],i,r)))}return!1}delete(e,r){const i=this;let a=!1;function c(u){if(u=si(u),u){const f=M.findKey(i,u);f&&(!r||Bc(i,i[f],f,r))&&(delete i[f],a=!0)}}return M.isArray(e)?e.forEach(c):c(e),a}clear(e){const r=Object.keys(this);let i=r.length,a=!1;for(;i--;){const c=r[i];(!e||Bc(this,this[c],c,e,!0))&&(delete this[c],a=!0)}return a}normalize(e){const r=this,i={};return M.forEach(this,(a,c)=>{const u=M.findKey(i,c);if(u){r[u]=na(a),delete r[c];return}const f=e?DE(c):String(c).trim();f!==c&&delete r[c],r[f]=na(a),i[f]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return M.forEach(this,(i,a)=>{i!=null&&i!==!1&&(r[a]=e&&M.isArray(i)?i.join(", "):i)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const i=new this(e);return r.forEach(a=>i.set(a)),i}static accessor(e){const i=(this[um]=this[um]={accessors:{}}).accessors,a=this.prototype;function c(u){const f=si(u);i[f]||(IE(a,u),i[f]=!0)}return M.isArray(e)?e.forEach(c):c(e),this}};wt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);M.reduceDescriptors(wt.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[r]=i}}});M.freezeMethods(wt);function zc(t,e){const r=this||bi,i=e||r,a=wt.from(i.headers);let c=i.data;return M.forEach(t,function(f){c=f.call(r,c,a.normalize(),e?e.status:void 0)}),a.normalize(),c}function vy(t){return!!(t&&t.__CANCEL__)}function hs(t,e,r){le.call(this,t??"canceled",le.ERR_CANCELED,e,r),this.name="CanceledError"}M.inherits(hs,le,{__CANCEL__:!0});function xy(t,e,r){const i=r.config.validateStatus;!r.status||!i||i(r.status)?t(r):e(new le("Request failed with status code "+r.status,[le.ERR_BAD_REQUEST,le.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function VE(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function FE(t,e){t=t||10;const r=new Array(t),i=new Array(t);let a=0,c=0,u;return e=e!==void 0?e:1e3,function(h){const g=Date.now(),y=i[c];u||(u=g),r[a]=h,i[a]=g;let v=c,w=0;for(;v!==a;)w+=r[v++],v=v%t;if(a=(a+1)%t,a===c&&(c=(c+1)%t),g-u<e)return;const C=y&&g-y;return C?Math.round(w*1e3/C):void 0}}function UE(t,e){let r=0,i=1e3/e,a,c;const u=(g,y=Date.now())=>{r=y,a=null,c&&(clearTimeout(c),c=null),t.apply(null,g)};return[(...g)=>{const y=Date.now(),v=y-r;v>=i?u(g,y):(a=g,c||(c=setTimeout(()=>{c=null,u(a)},i-v)))},()=>a&&u(a)]}const pa=(t,e,r=3)=>{let i=0;const a=FE(50,250);return UE(c=>{const u=c.loaded,f=c.lengthComputable?c.total:void 0,h=u-i,g=a(h),y=u<=f;i=u;const v={loaded:u,total:f,progress:f?u/f:void 0,bytes:h,rate:g||void 0,estimated:g&&f&&y?(f-u)/g:void 0,event:c,lengthComputable:f!=null,[e?"download":"upload"]:!0};t(v)},r)},dm=(t,e)=>{const r=t!=null;return[i=>e[0]({lengthComputable:r,total:t,loaded:i}),e[1]]},fm=t=>(...e)=>M.asap(()=>t(...e)),BE=at.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,at.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(at.origin),at.navigator&&/(msie|trident)/i.test(at.navigator.userAgent)):()=>!0,zE=at.hasStandardBrowserEnv?{write(t,e,r,i,a,c){const u=[t+"="+encodeURIComponent(e)];M.isNumber(r)&&u.push("expires="+new Date(r).toGMTString()),M.isString(i)&&u.push("path="+i),M.isString(a)&&u.push("domain="+a),c===!0&&u.push("secure"),document.cookie=u.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function $E(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function HE(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function wy(t,e,r){let i=!$E(e);return t&&i||r==!1?HE(t,e):e}const hm=t=>t instanceof wt?{...t}:t;function Er(t,e){e=e||{};const r={};function i(g,y,v,w){return M.isPlainObject(g)&&M.isPlainObject(y)?M.merge.call({caseless:w},g,y):M.isPlainObject(y)?M.merge({},y):M.isArray(y)?y.slice():y}function a(g,y,v,w){if(M.isUndefined(y)){if(!M.isUndefined(g))return i(void 0,g,v,w)}else return i(g,y,v,w)}function c(g,y){if(!M.isUndefined(y))return i(void 0,y)}function u(g,y){if(M.isUndefined(y)){if(!M.isUndefined(g))return i(void 0,g)}else return i(void 0,y)}function f(g,y,v){if(v in e)return i(g,y);if(v in t)return i(void 0,g)}const h={url:c,method:c,data:c,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:f,headers:(g,y,v)=>a(hm(g),hm(y),v,!0)};return M.forEach(Object.keys(Object.assign({},t,e)),function(y){const v=h[y]||a,w=v(t[y],e[y],y);M.isUndefined(w)&&v!==f||(r[y]=w)}),r}const Sy=t=>{const e=Er({},t);let{data:r,withXSRFToken:i,xsrfHeaderName:a,xsrfCookieName:c,headers:u,auth:f}=e;e.headers=u=wt.from(u),e.url=my(wy(e.baseURL,e.url),t.params,t.paramsSerializer),f&&u.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):"")));let h;if(M.isFormData(r)){if(at.hasStandardBrowserEnv||at.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((h=u.getContentType())!==!1){const[g,...y]=h?h.split(";").map(v=>v.trim()).filter(Boolean):[];u.setContentType([g||"multipart/form-data",...y].join("; "))}}if(at.hasStandardBrowserEnv&&(i&&M.isFunction(i)&&(i=i(e)),i||i!==!1&&BE(e.url))){const g=a&&c&&zE.read(c);g&&u.set(a,g)}return e},GE=typeof XMLHttpRequest<"u",WE=GE&&function(t){return new Promise(function(r,i){const a=Sy(t);let c=a.data;const u=wt.from(a.headers).normalize();let{responseType:f,onUploadProgress:h,onDownloadProgress:g}=a,y,v,w,C,N;function k(){C&&C(),N&&N(),a.cancelToken&&a.cancelToken.unsubscribe(y),a.signal&&a.signal.removeEventListener("abort",y)}let E=new XMLHttpRequest;E.open(a.method.toUpperCase(),a.url,!0),E.timeout=a.timeout;function _(){if(!E)return;const A=wt.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),H={data:!f||f==="text"||f==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:A,config:t,request:E};xy(function(z){r(z),k()},function(z){i(z),k()},H),E=null}"onloadend"in E?E.onloadend=_:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(_)},E.onabort=function(){E&&(i(new le("Request aborted",le.ECONNABORTED,t,E)),E=null)},E.onerror=function(){i(new le("Network Error",le.ERR_NETWORK,t,E)),E=null},E.ontimeout=function(){let I=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const H=a.transitional||gy;a.timeoutErrorMessage&&(I=a.timeoutErrorMessage),i(new le(I,H.clarifyTimeoutError?le.ETIMEDOUT:le.ECONNABORTED,t,E)),E=null},c===void 0&&u.setContentType(null),"setRequestHeader"in E&&M.forEach(u.toJSON(),function(I,H){E.setRequestHeader(H,I)}),M.isUndefined(a.withCredentials)||(E.withCredentials=!!a.withCredentials),f&&f!=="json"&&(E.responseType=a.responseType),g&&([w,N]=pa(g,!0),E.addEventListener("progress",w)),h&&E.upload&&([v,C]=pa(h),E.upload.addEventListener("progress",v),E.upload.addEventListener("loadend",C)),(a.cancelToken||a.signal)&&(y=A=>{E&&(i(!A||A.type?new hs(null,t,E):A),E.abort(),E=null)},a.cancelToken&&a.cancelToken.subscribe(y),a.signal&&(a.signal.aborted?y():a.signal.addEventListener("abort",y)));const D=VE(a.url);if(D&&at.protocols.indexOf(D)===-1){i(new le("Unsupported protocol "+D+":",le.ERR_BAD_REQUEST,t));return}E.send(c||null)})},KE=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let i=new AbortController,a;const c=function(g){if(!a){a=!0,f();const y=g instanceof Error?g:this.reason;i.abort(y instanceof le?y:new hs(y instanceof Error?y.message:y))}};let u=e&&setTimeout(()=>{u=null,c(new le(`timeout ${e} of ms exceeded`,le.ETIMEDOUT))},e);const f=()=>{t&&(u&&clearTimeout(u),u=null,t.forEach(g=>{g.unsubscribe?g.unsubscribe(c):g.removeEventListener("abort",c)}),t=null)};t.forEach(g=>g.addEventListener("abort",c));const{signal:h}=i;return h.unsubscribe=()=>M.asap(f),h}},qE=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let i=0,a;for(;i<r;)a=i+e,yield t.slice(i,a),i=a},QE=async function*(t,e){for await(const r of YE(t))yield*qE(r,e)},YE=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:i}=await e.read();if(r)break;yield i}}finally{await e.cancel()}},pm=(t,e,r,i)=>{const a=QE(t,e);let c=0,u,f=h=>{u||(u=!0,i&&i(h))};return new ReadableStream({async pull(h){try{const{done:g,value:y}=await a.next();if(g){f(),h.close();return}let v=y.byteLength;if(r){let w=c+=v;r(w)}h.enqueue(new Uint8Array(y))}catch(g){throw f(g),g}},cancel(h){return f(h),a.return()}},{highWaterMark:2})},_a=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Ey=_a&&typeof ReadableStream=="function",XE=_a&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Cy=(t,...e)=>{try{return!!t(...e)}catch{return!1}},JE=Ey&&Cy(()=>{let t=!1;const e=new Request(at.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),mm=64*1024,yu=Ey&&Cy(()=>M.isReadableStream(new Response("").body)),ma={stream:yu&&(t=>t.body)};_a&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!ma[e]&&(ma[e]=M.isFunction(t[e])?r=>r[e]():(r,i)=>{throw new le(`Response type '${e}' is not supported`,le.ERR_NOT_SUPPORT,i)})})})(new Response);const ZE=async t=>{if(t==null)return 0;if(M.isBlob(t))return t.size;if(M.isSpecCompliantForm(t))return(await new Request(at.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(M.isArrayBufferView(t)||M.isArrayBuffer(t))return t.byteLength;if(M.isURLSearchParams(t)&&(t=t+""),M.isString(t))return(await XE(t)).byteLength},eC=async(t,e)=>{const r=M.toFiniteNumber(t.getContentLength());return r??ZE(e)},tC=_a&&(async t=>{let{url:e,method:r,data:i,signal:a,cancelToken:c,timeout:u,onDownloadProgress:f,onUploadProgress:h,responseType:g,headers:y,withCredentials:v="same-origin",fetchOptions:w}=Sy(t);g=g?(g+"").toLowerCase():"text";let C=KE([a,c&&c.toAbortSignal()],u),N;const k=C&&C.unsubscribe&&(()=>{C.unsubscribe()});let E;try{if(h&&JE&&r!=="get"&&r!=="head"&&(E=await eC(y,i))!==0){let H=new Request(e,{method:"POST",body:i,duplex:"half"}),W;if(M.isFormData(i)&&(W=H.headers.get("content-type"))&&y.setContentType(W),H.body){const[z,V]=dm(E,pa(fm(h)));i=pm(H.body,mm,z,V)}}M.isString(v)||(v=v?"include":"omit");const _="credentials"in Request.prototype;N=new Request(e,{...w,signal:C,method:r.toUpperCase(),headers:y.normalize().toJSON(),body:i,duplex:"half",credentials:_?v:void 0});let D=await fetch(N);const A=yu&&(g==="stream"||g==="response");if(yu&&(f||A&&k)){const H={};["status","statusText","headers"].forEach(re=>{H[re]=D[re]});const W=M.toFiniteNumber(D.headers.get("content-length")),[z,V]=f&&dm(W,pa(fm(f),!0))||[];D=new Response(pm(D.body,mm,z,()=>{V&&V(),k&&k()}),H)}g=g||"text";let I=await ma[M.findKey(ma,g)||"text"](D,t);return!A&&k&&k(),await new Promise((H,W)=>{xy(H,W,{data:I,headers:wt.from(D.headers),status:D.status,statusText:D.statusText,config:t,request:N})})}catch(_){throw k&&k(),_&&_.name==="TypeError"&&/fetch/i.test(_.message)?Object.assign(new le("Network Error",le.ERR_NETWORK,t,N),{cause:_.cause||_}):le.from(_,_&&_.code,t,N)}}),vu={http:gE,xhr:WE,fetch:tC};M.forEach(vu,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const gm=t=>`- ${t}`,nC=t=>M.isFunction(t)||t===null||t===!1,ky={getAdapter:t=>{t=M.isArray(t)?t:[t];const{length:e}=t;let r,i;const a={};for(let c=0;c<e;c++){r=t[c];let u;if(i=r,!nC(r)&&(i=vu[(u=String(r)).toLowerCase()],i===void 0))throw new le(`Unknown adapter '${u}'`);if(i)break;a[u||"#"+c]=i}if(!i){const c=Object.entries(a).map(([f,h])=>`adapter ${f} `+(h===!1?"is not supported by the environment":"is not available in the build"));let u=e?c.length>1?`since :
`+c.map(gm).join(`
`):" "+gm(c[0]):"as no adapter specified";throw new le("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return i},adapters:vu};function $c(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new hs(null,t)}function ym(t){return $c(t),t.headers=wt.from(t.headers),t.data=zc.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),ky.getAdapter(t.adapter||bi.adapter)(t).then(function(i){return $c(t),i.data=zc.call(t,t.transformResponse,i),i.headers=wt.from(i.headers),i},function(i){return vy(i)||($c(t),i&&i.response&&(i.response.data=zc.call(t,t.transformResponse,i.response),i.response.headers=wt.from(i.response.headers))),Promise.reject(i)})}const Ny="1.8.2",ja={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{ja[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const vm={};ja.transitional=function(e,r,i){function a(c,u){return"[Axios v"+Ny+"] Transitional option '"+c+"'"+u+(i?". "+i:"")}return(c,u,f)=>{if(e===!1)throw new le(a(u," has been removed"+(r?" in "+r:"")),le.ERR_DEPRECATED);return r&&!vm[u]&&(vm[u]=!0,console.warn(a(u," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(c,u,f):!0}};ja.spelling=function(e){return(r,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function rC(t,e,r){if(typeof t!="object")throw new le("options must be an object",le.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let a=i.length;for(;a-- >0;){const c=i[a],u=e[c];if(u){const f=t[c],h=f===void 0||u(f,c,t);if(h!==!0)throw new le("option "+c+" must be "+h,le.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new le("Unknown option "+c,le.ERR_BAD_OPTION)}}const ra={assertOptions:rC,validators:ja},rn=ra.validators;let wr=class{constructor(e){this.defaults=e,this.interceptors={request:new cm,response:new cm}}async request(e,r){try{return await this._request(e,r)}catch(i){if(i instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const c=a.stack?a.stack.replace(/^.+\n/,""):"";try{i.stack?c&&!String(i.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+c):i.stack=c}catch{}}throw i}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Er(this.defaults,r);const{transitional:i,paramsSerializer:a,headers:c}=r;i!==void 0&&ra.assertOptions(i,{silentJSONParsing:rn.transitional(rn.boolean),forcedJSONParsing:rn.transitional(rn.boolean),clarifyTimeoutError:rn.transitional(rn.boolean)},!1),a!=null&&(M.isFunction(a)?r.paramsSerializer={serialize:a}:ra.assertOptions(a,{encode:rn.function,serialize:rn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),ra.assertOptions(r,{baseUrl:rn.spelling("baseURL"),withXsrfToken:rn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let u=c&&M.merge(c.common,c[r.method]);c&&M.forEach(["delete","get","head","post","put","patch","common"],N=>{delete c[N]}),r.headers=wt.concat(u,c);const f=[];let h=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(r)===!1||(h=h&&k.synchronous,f.unshift(k.fulfilled,k.rejected))});const g=[];this.interceptors.response.forEach(function(k){g.push(k.fulfilled,k.rejected)});let y,v=0,w;if(!h){const N=[ym.bind(this),void 0];for(N.unshift.apply(N,f),N.push.apply(N,g),w=N.length,y=Promise.resolve(r);v<w;)y=y.then(N[v++],N[v++]);return y}w=f.length;let C=r;for(v=0;v<w;){const N=f[v++],k=f[v++];try{C=N(C)}catch(E){k.call(this,E);break}}try{y=ym.call(this,C)}catch(N){return Promise.reject(N)}for(v=0,w=g.length;v<w;)y=y.then(g[v++],g[v++]);return y}getUri(e){e=Er(this.defaults,e);const r=wy(e.baseURL,e.url,e.allowAbsoluteUrls);return my(r,e.params,e.paramsSerializer)}};M.forEach(["delete","get","head","options"],function(e){wr.prototype[e]=function(r,i){return this.request(Er(i||{},{method:e,url:r,data:(i||{}).data}))}});M.forEach(["post","put","patch"],function(e){function r(i){return function(c,u,f){return this.request(Er(f||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:c,data:u}))}}wr.prototype[e]=r(),wr.prototype[e+"Form"]=r(!0)});let sC=class Ty{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(c){r=c});const i=this;this.promise.then(a=>{if(!i._listeners)return;let c=i._listeners.length;for(;c-- >0;)i._listeners[c](a);i._listeners=null}),this.promise.then=a=>{let c;const u=new Promise(f=>{i.subscribe(f),c=f}).then(a);return u.cancel=function(){i.unsubscribe(c)},u},e(function(c,u,f){i.reason||(i.reason=new hs(c,u,f),r(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=i=>{e.abort(i)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new Ty(function(a){e=a}),cancel:e}}};function iC(t){return function(r){return t.apply(null,r)}}function oC(t){return M.isObject(t)&&t.isAxiosError===!0}const xu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(xu).forEach(([t,e])=>{xu[e]=t});function Py(t){const e=new wr(t),r=sy(wr.prototype.request,e);return M.extend(r,wr.prototype,e,{allOwnKeys:!0}),M.extend(r,e,null,{allOwnKeys:!0}),r.create=function(a){return Py(Er(t,a))},r}const Ae=Py(bi);Ae.Axios=wr;Ae.CanceledError=hs;Ae.CancelToken=sC;Ae.isCancel=vy;Ae.VERSION=Ny;Ae.toFormData=ba;Ae.AxiosError=le;Ae.Cancel=Ae.CanceledError;Ae.all=function(e){return Promise.all(e)};Ae.spread=iC;Ae.isAxiosError=oC;Ae.mergeConfig=Er;Ae.AxiosHeaders=wt;Ae.formToJSON=t=>yy(M.isHTMLForm(t)?new FormData(t):t);Ae.getAdapter=ky.getAdapter;Ae.HttpStatusCode=xu;Ae.default=Ae;const{Axios:vb,AxiosError:xb,CanceledError:wb,isCancel:Sb,CancelToken:Eb,VERSION:Cb,all:kb,Cancel:Nb,isAxiosError:Tb,spread:Pb,toFormData:bb,AxiosHeaders:_b,HttpStatusCode:jb,formToJSON:Rb,getAdapter:Ab,mergeConfig:Lb}=Ae,aC=!1,Xr={DEVELOPMENT:"http://localhost:5001",PRODUCTION:"https://gutargu.greenhacker.tech"},xm={DEVELOPMENT:"http://localhost:5173",PRODUCTION:"https://gutargu.greenhacker.tech"},Je={API:{BASE_URL:Xr.PRODUCTION,AUTH_PATH:"/api/auth",MESSAGES_PATH:"/api/messages",TIMEOUT:15e3},...(console.log("🔹 Config initialization:"),console.log("  - isDevelopment:",aC),console.log("  - BACKEND_URLS.DEVELOPMENT:",Xr.DEVELOPMENT),console.log("  - BACKEND_URLS.PRODUCTION:",Xr.PRODUCTION),{}),GOOGLE:{CLIENT_ID:"280618092403-86p6hao78rked7bhusmsvdouovhc56jl.apps.googleusercontent.com",...(console.log("Loading Google Client ID:","Found"),{})},SOCKET:{URL:Xr.PRODUCTION,CONFIG:{withCredentials:!0,transports:["websocket","polling"],reconnectionAttempts:10,reconnectionDelay:1e3,timeout:2e4}},ROUTES:{AUTH:{LOGIN:"/login",SIGNUP:"/signup",GOOGLE_CALLBACK:"/google-auth-success",VERIFY_EMAIL:"/verify/:id/:token",RESET_PASSWORD:"/reset-password/:token",FORGOT_PASSWORD:"/forgot-password"},APP:{HOME:"/",CHAT:"/chat/:id?",PROFILE:"/profile",SETTINGS:"/settings"}},DEV:{FRONTEND_URL:xm.DEVELOPMENT,BACKEND_URL:Xr.DEVELOPMENT},PROD:{FRONTEND_URL:xm.PRODUCTION,BACKEND_URL:Xr.PRODUCTION}},wu={NETWORK:"Network error. Please check your connection.",DEFAULT:"An error occurred. Please try again.",SESSION_EXPIRED:"Your session has expired. Please login again."},lC=()=>{const t=Je.API.BASE_URL;return console.log("🔹 Environment:","production"),console.log("🔹 Config API BASE_URL:",Je.API.BASE_URL),console.log("🔹 BACKEND_URLS.PRODUCTION:",Je.PROD.BACKEND_URL),t},Ra=lC();console.log("🔹 Final API Base URL:",Ra);const Aa=Ae.create({baseURL:`${Ra}/api/auth`,timeout:15e3,withCredentials:!0,headers:{"Content-Type":"application/json"},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"}),li=Ae.create({baseURL:`${Ra}/api/messages`,timeout:15e3,withCredentials:!0,headers:{"Content-Type":"application/json"}}),by=Ae.create({baseURL:`${Ra}/api/users`,timeout:15e3,withCredentials:!0,headers:{"Content-Type":"application/json"}}),Ju=(t,e)=>{t.interceptors.request.use(r=>r,r=>(console.error(`🔴 ${e} request error:`,r),Promise.reject(r))),t.interceptors.response.use(r=>r,r=>{var i,a,c,u;return console.error("🔴 Response error:",{name:e,status:(i=r.response)==null?void 0:i.status,data:(a=r.response)==null?void 0:a.data,url:(c=r.config)==null?void 0:c.url}),r.response?r.response.status===401?cC():q.error(((u=r.response.data)==null?void 0:u.message)||wu.DEFAULT):q.error(wu.NETWORK),Promise.reject(r)})},cC=()=>{var r;const t=localStorage.getItem("authState"),e=window.performance&&(((r=window.performance.getEntriesByType("navigation")[0])==null?void 0:r.type)==="reload"||sessionStorage.getItem("pageRefreshed")==="true");if(sessionStorage.setItem("pageRefreshed","false"),document.visibilityState==="visible"&&!document.hidden&&!e){if(localStorage.removeItem("authState"),q.error(wu.SESSION_EXPIRED),!window.location.pathname.includes("/login")){const i=`${window.location.origin}/login`;console.log("🔹 Redirecting to login:",i),window.location.href=i}}else t&&console.log("Auth error during page transition, keeping persisted state")};Ju(Aa,"Auth API");Ju(li,"Messages API");Ju(by,"Users API");const Gt=Aa,ln=Object.create(null);ln.open="0";ln.close="1";ln.ping="2";ln.pong="3";ln.message="4";ln.upgrade="5";ln.noop="6";const sa=Object.create(null);Object.keys(ln).forEach(t=>{sa[ln[t]]=t});const Su={type:"error",data:"parser error"},_y=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",jy=typeof ArrayBuffer=="function",Ry=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Zu=({type:t,data:e},r,i)=>_y&&e instanceof Blob?r?i(e):wm(e,i):jy&&(e instanceof ArrayBuffer||Ry(e))?r?i(e):wm(new Blob([e]),i):i(ln[t]+(e||"")),wm=(t,e)=>{const r=new FileReader;return r.onload=function(){const i=r.result.split(",")[1];e("b"+(i||""))},r.readAsDataURL(t)};function Sm(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Hc;function uC(t,e){if(_y&&t.data instanceof Blob)return t.data.arrayBuffer().then(Sm).then(e);if(jy&&(t.data instanceof ArrayBuffer||Ry(t.data)))return e(Sm(t.data));Zu(t,!1,r=>{Hc||(Hc=new TextEncoder),e(Hc.encode(r))})}const Em="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ci=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<Em.length;t++)ci[Em.charCodeAt(t)]=t;const dC=t=>{let e=t.length*.75,r=t.length,i,a=0,c,u,f,h;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const g=new ArrayBuffer(e),y=new Uint8Array(g);for(i=0;i<r;i+=4)c=ci[t.charCodeAt(i)],u=ci[t.charCodeAt(i+1)],f=ci[t.charCodeAt(i+2)],h=ci[t.charCodeAt(i+3)],y[a++]=c<<2|u>>4,y[a++]=(u&15)<<4|f>>2,y[a++]=(f&3)<<6|h&63;return g},fC=typeof ArrayBuffer=="function",ed=(t,e)=>{if(typeof t!="string")return{type:"message",data:Ay(t,e)};const r=t.charAt(0);return r==="b"?{type:"message",data:hC(t.substring(1),e)}:sa[r]?t.length>1?{type:sa[r],data:t.substring(1)}:{type:sa[r]}:Su},hC=(t,e)=>{if(fC){const r=dC(t);return Ay(r,e)}else return{base64:!0,data:t}},Ay=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},Ly="",pC=(t,e)=>{const r=t.length,i=new Array(r);let a=0;t.forEach((c,u)=>{Zu(c,!1,f=>{i[u]=f,++a===r&&e(i.join(Ly))})})},mC=(t,e)=>{const r=t.split(Ly),i=[];for(let a=0;a<r.length;a++){const c=ed(r[a],e);if(i.push(c),c.type==="error")break}return i};function gC(){return new TransformStream({transform(t,e){uC(t,r=>{const i=r.length;let a;if(i<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,i);else if(i<65536){a=new Uint8Array(3);const c=new DataView(a.buffer);c.setUint8(0,126),c.setUint16(1,i)}else{a=new Uint8Array(9);const c=new DataView(a.buffer);c.setUint8(0,127),c.setBigUint64(1,BigInt(i))}t.data&&typeof t.data!="string"&&(a[0]|=128),e.enqueue(a),e.enqueue(r)})}})}let Gc;function Ko(t){return t.reduce((e,r)=>e+r.length,0)}function qo(t,e){if(t[0].length===e)return t.shift();const r=new Uint8Array(e);let i=0;for(let a=0;a<e;a++)r[a]=t[0][i++],i===t[0].length&&(t.shift(),i=0);return t.length&&i<t[0].length&&(t[0]=t[0].slice(i)),r}function yC(t,e){Gc||(Gc=new TextDecoder);const r=[];let i=0,a=-1,c=!1;return new TransformStream({transform(u,f){for(r.push(u);;){if(i===0){if(Ko(r)<1)break;const h=qo(r,1);c=(h[0]&128)===128,a=h[0]&127,a<126?i=3:a===126?i=1:i=2}else if(i===1){if(Ko(r)<2)break;const h=qo(r,2);a=new DataView(h.buffer,h.byteOffset,h.length).getUint16(0),i=3}else if(i===2){if(Ko(r)<8)break;const h=qo(r,8),g=new DataView(h.buffer,h.byteOffset,h.length),y=g.getUint32(0);if(y>Math.pow(2,21)-1){f.enqueue(Su);break}a=y*Math.pow(2,32)+g.getUint32(4),i=3}else{if(Ko(r)<a)break;const h=qo(r,a);f.enqueue(ed(c?h:Gc.decode(h),e)),i=0}if(a===0||a>t){f.enqueue(Su);break}}}})}const Oy=4;function He(t){if(t)return vC(t)}function vC(t){for(var e in He.prototype)t[e]=He.prototype[e];return t}He.prototype.on=He.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};He.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this};He.prototype.off=He.prototype.removeListener=He.prototype.removeAllListeners=He.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var i,a=0;a<r.length;a++)if(i=r[a],i===e||i.fn===e){r.splice(a,1);break}return r.length===0&&delete this._callbacks["$"+t],this};He.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(r){r=r.slice(0);for(var i=0,a=r.length;i<a;++i)r[i].apply(this,e)}return this};He.prototype.emitReserved=He.prototype.emit;He.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};He.prototype.hasListeners=function(t){return!!this.listeners(t).length};const La=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0),Dt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),xC="arraybuffer";function My(t,...e){return e.reduce((r,i)=>(t.hasOwnProperty(i)&&(r[i]=t[i]),r),{})}const wC=Dt.setTimeout,SC=Dt.clearTimeout;function Oa(t,e){e.useNativeTimers?(t.setTimeoutFn=wC.bind(Dt),t.clearTimeoutFn=SC.bind(Dt)):(t.setTimeoutFn=Dt.setTimeout.bind(Dt),t.clearTimeoutFn=Dt.clearTimeout.bind(Dt))}const EC=1.33;function CC(t){return typeof t=="string"?kC(t):Math.ceil((t.byteLength||t.size)*EC)}function kC(t){let e=0,r=0;for(let i=0,a=t.length;i<a;i++)e=t.charCodeAt(i),e<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(i++,r+=4);return r}function Dy(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function NC(t){let e="";for(let r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e}function TC(t){let e={},r=t.split("&");for(let i=0,a=r.length;i<a;i++){let c=r[i].split("=");e[decodeURIComponent(c[0])]=decodeURIComponent(c[1])}return e}class PC extends Error{constructor(e,r,i){super(e),this.description=r,this.context=i,this.type="TransportError"}}class td extends He{constructor(e){super(),this.writable=!1,Oa(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,r,i){return super.emitReserved("error",new PC(e,r,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const r=ed(e,this.socket.binaryType);this.onPacket(r)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,r={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const r=NC(e);return r.length?"?"+r:""}}class bC extends td{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const r=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let i=0;this._polling&&(i++,this.once("pollComplete",function(){--i||r()})),this.writable||(i++,this.once("drain",function(){--i||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const r=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};mC(e,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,pC(e,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=Dy()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(e,r)}}let Iy=!1;try{Iy=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const _C=Iy;function jC(){}class RC extends bC{constructor(e){if(super(e),typeof location<"u"){const r=location.protocol==="https:";let i=location.port;i||(i=r?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||i!==e.port}}doWrite(e,r){const i=this.request({method:"POST",data:e});i.on("success",r),i.on("error",(a,c)=>{this.onError("xhr post error",a,c)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(r,i)=>{this.onError("xhr poll error",r,i)}),this.pollXhr=e}}let rs=class ia extends He{constructor(e,r,i){super(),this.createRequest=e,Oa(this,i),this._opts=i,this._method=i.method||"GET",this._uri=r,this._data=i.data!==void 0?i.data:null,this._create()}_create(){var e;const r=My(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const i=this._xhr=this.createRequest(r);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let a in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(a)&&i.setRequestHeader(a,this._opts.extraHeaders[a])}}catch{}if(this._method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var a;i.readyState===3&&((a=this._opts.cookieJar)===null||a===void 0||a.parseCookies(i.getResponseHeader("set-cookie"))),i.readyState===4&&(i.status===200||i.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof i.status=="number"?i.status:0)},0))},i.send(this._data)}catch(a){this.setTimeoutFn(()=>{this._onError(a)},0);return}typeof document<"u"&&(this._index=ia.requestsCount++,ia.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=jC,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete ia.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};rs.requestsCount=0;rs.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Cm);else if(typeof addEventListener=="function"){const t="onpagehide"in Dt?"pagehide":"unload";addEventListener(t,Cm,!1)}}function Cm(){for(let t in rs.requests)rs.requests.hasOwnProperty(t)&&rs.requests[t].abort()}const AC=function(){const t=Vy({xdomain:!1});return t&&t.responseType!==null}();class LC extends RC{constructor(e){super(e);const r=e&&e.forceBase64;this.supportsBinary=AC&&!r}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new rs(Vy,this.uri(),e)}}function Vy(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||_C))return new XMLHttpRequest}catch{}if(!e)try{return new Dt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Fy=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class OC extends td{get name(){return"websocket"}doOpen(){const e=this.uri(),r=this.opts.protocols,i=Fy?{}:My(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,r,i)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const i=e[r],a=r===e.length-1;Zu(i,this.supportsBinary,c=>{try{this.doWrite(i,c)}catch{}a&&La(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=Dy()),this.supportsBinary||(r.b64=1),this.createUri(e,r)}}const Wc=Dt.WebSocket||Dt.MozWebSocket;class MC extends OC{createSocket(e,r,i){return Fy?new Wc(e,r,i):r?new Wc(e,r):new Wc(e)}doWrite(e,r){this.ws.send(r)}}class DC extends td{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const r=yC(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=e.readable.pipeThrough(r).getReader(),a=gC();a.readable.pipeTo(e.writable),this._writer=a.writable.getWriter();const c=()=>{i.read().then(({done:f,value:h})=>{f||(this.onPacket(h),c())}).catch(f=>{})};c();const u={type:"open"};this.query.sid&&(u.data=`{"sid":"${this.query.sid}"}`),this._writer.write(u).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const i=e[r],a=r===e.length-1;this._writer.write(i).then(()=>{a&&La(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const IC={websocket:MC,webtransport:DC,polling:LC},VC=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,FC=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Eu(t){if(t.length>8e3)throw"URI too long";const e=t,r=t.indexOf("["),i=t.indexOf("]");r!=-1&&i!=-1&&(t=t.substring(0,r)+t.substring(r,i).replace(/:/g,";")+t.substring(i,t.length));let a=VC.exec(t||""),c={},u=14;for(;u--;)c[FC[u]]=a[u]||"";return r!=-1&&i!=-1&&(c.source=e,c.host=c.host.substring(1,c.host.length-1).replace(/;/g,":"),c.authority=c.authority.replace("[","").replace("]","").replace(/;/g,":"),c.ipv6uri=!0),c.pathNames=UC(c,c.path),c.queryKey=BC(c,c.query),c}function UC(t,e){const r=/\/{2,9}/g,i=e.replace(r,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&i.splice(0,1),e.slice(-1)=="/"&&i.splice(i.length-1,1),i}function BC(t,e){const r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,a,c){a&&(r[a]=c)}),r}const Cu=typeof addEventListener=="function"&&typeof removeEventListener=="function",oa=[];Cu&&addEventListener("offline",()=>{oa.forEach(t=>t())},!1);class qn extends He{constructor(e,r){if(super(),this.binaryType=xC,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(r=e,e=null),e){const i=Eu(e);r.hostname=i.host,r.secure=i.protocol==="https"||i.protocol==="wss",r.port=i.port,i.query&&(r.query=i.query)}else r.host&&(r.hostname=Eu(r.host).host);Oa(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(i=>{const a=i.prototype.name;this.transports.push(a),this._transportsByName[a]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=TC(this.opts.query)),Cu&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},oa.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const r=Object.assign({},this.opts.query);r.EIO=Oy,r.transport=e,this.id&&(r.sid=this.id);const i=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](i)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&qn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(e);r.open(),this.setTransport(r)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",qn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=e.data,this._onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let i=0;i<this.writeBuffer.length;i++){const a=this.writeBuffer[i].data;if(a&&(r+=CC(a)),i>0&&r>this._maxPayload)return this.writeBuffer.slice(0,i);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,La(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,r,i){return this._sendPacket("message",e,r,i),this}send(e,r,i){return this._sendPacket("message",e,r,i),this}_sendPacket(e,r,i,a){if(typeof r=="function"&&(a=r,r=void 0),typeof i=="function"&&(a=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const c={type:e,data:r,options:i};this.emitReserved("packetCreate",c),this.writeBuffer.push(c),a&&this.once("flush",a),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},i=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():e()}):this.upgrading?i():e()),this}_onError(e){if(qn.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Cu&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const i=oa.indexOf(this._offlineEventListener);i!==-1&&oa.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this._prevBufferLen=0}}}qn.protocol=Oy;class zC extends qn{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let r=this.createTransport(e),i=!1;qn.priorWebsocketSuccess=!1;const a=()=>{i||(r.send([{type:"ping",data:"probe"}]),r.once("packet",v=>{if(!i)if(v.type==="pong"&&v.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;qn.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(y(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const w=new Error("probe error");w.transport=r.name,this.emitReserved("upgradeError",w)}}))};function c(){i||(i=!0,y(),r.close(),r=null)}const u=v=>{const w=new Error("probe error: "+v);w.transport=r.name,c(),this.emitReserved("upgradeError",w)};function f(){u("transport closed")}function h(){u("socket closed")}function g(v){r&&v.name!==r.name&&c()}const y=()=>{r.removeListener("open",a),r.removeListener("error",u),r.removeListener("close",f),this.off("close",h),this.off("upgrading",g)};r.once("open",a),r.once("error",u),r.once("close",f),this.once("close",h),this.once("upgrading",g),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{i||r.open()},200):r.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const r=[];for(let i=0;i<e.length;i++)~this.transports.indexOf(e[i])&&r.push(e[i]);return r}}let $C=class extends zC{constructor(e,r={}){const i=typeof e=="object"?e:r;(!i.transports||i.transports&&typeof i.transports[0]=="string")&&(i.transports=(i.transports||["polling","websocket","webtransport"]).map(a=>IC[a]).filter(a=>!!a)),super(e,i)}};function HC(t,e="",r){let i=t;r=r||typeof location<"u"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(typeof r<"u"?t=r.protocol+"//"+t:t="https://"+t),i=Eu(t)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const c=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+c+":"+i.port+e,i.href=i.protocol+"://"+c+(r&&r.port===i.port?"":":"+i.port),i}const GC=typeof ArrayBuffer=="function",WC=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,Uy=Object.prototype.toString,KC=typeof Blob=="function"||typeof Blob<"u"&&Uy.call(Blob)==="[object BlobConstructor]",qC=typeof File=="function"||typeof File<"u"&&Uy.call(File)==="[object FileConstructor]";function nd(t){return GC&&(t instanceof ArrayBuffer||WC(t))||KC&&t instanceof Blob||qC&&t instanceof File}function aa(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let r=0,i=t.length;r<i;r++)if(aa(t[r]))return!0;return!1}if(nd(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return aa(t.toJSON(),!0);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&aa(t[r]))return!0;return!1}function QC(t){const e=[],r=t.data,i=t;return i.data=ku(r,e),i.attachments=e.length,{packet:i,buffers:e}}function ku(t,e){if(!t)return t;if(nd(t)){const r={_placeholder:!0,num:e.length};return e.push(t),r}else if(Array.isArray(t)){const r=new Array(t.length);for(let i=0;i<t.length;i++)r[i]=ku(t[i],e);return r}else if(typeof t=="object"&&!(t instanceof Date)){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=ku(t[i],e));return r}return t}function YC(t,e){return t.data=Nu(t.data,e),delete t.attachments,t}function Nu(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=Nu(t[r],e);else if(typeof t=="object")for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=Nu(t[r],e));return t}const XC=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],JC=5;var he;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(he||(he={}));class ZC{constructor(e){this.replacer=e}encode(e){return(e.type===he.EVENT||e.type===he.ACK)&&aa(e)?this.encodeAsBinary({type:e.type===he.EVENT?he.BINARY_EVENT:he.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let r=""+e.type;return(e.type===he.BINARY_EVENT||e.type===he.BINARY_ACK)&&(r+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(r+=e.nsp+","),e.id!=null&&(r+=e.id),e.data!=null&&(r+=JSON.stringify(e.data,this.replacer)),r}encodeAsBinary(e){const r=QC(e),i=this.encodeAsString(r.packet),a=r.buffers;return a.unshift(i),a}}function km(t){return Object.prototype.toString.call(t)==="[object Object]"}class rd extends He{constructor(e){super(),this.reviver=e}add(e){let r;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(e);const i=r.type===he.BINARY_EVENT;i||r.type===he.BINARY_ACK?(r.type=i?he.EVENT:he.ACK,this.reconstructor=new e2(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(nd(e)||e.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(e),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let r=0;const i={type:Number(e.charAt(0))};if(he[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===he.BINARY_EVENT||i.type===he.BINARY_ACK){const c=r+1;for(;e.charAt(++r)!=="-"&&r!=e.length;);const u=e.substring(c,r);if(u!=Number(u)||e.charAt(r)!=="-")throw new Error("Illegal attachments");i.attachments=Number(u)}if(e.charAt(r+1)==="/"){const c=r+1;for(;++r&&!(e.charAt(r)===","||r===e.length););i.nsp=e.substring(c,r)}else i.nsp="/";const a=e.charAt(r+1);if(a!==""&&Number(a)==a){const c=r+1;for(;++r;){const u=e.charAt(r);if(u==null||Number(u)!=u){--r;break}if(r===e.length)break}i.id=Number(e.substring(c,r+1))}if(e.charAt(++r)){const c=this.tryParse(e.substr(r));if(rd.isPayloadValid(i.type,c))i.data=c;else throw new Error("invalid payload")}return i}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,r){switch(e){case he.CONNECT:return km(r);case he.DISCONNECT:return r===void 0;case he.CONNECT_ERROR:return typeof r=="string"||km(r);case he.EVENT:case he.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&XC.indexOf(r[0])===-1);case he.ACK:case he.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class e2{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const r=YC(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const t2=Object.freeze(Object.defineProperty({__proto__:null,Decoder:rd,Encoder:ZC,get PacketType(){return he},protocol:JC},Symbol.toStringTag,{value:"Module"}));function qt(t,e,r){return t.on(e,r),function(){t.off(e,r)}}const n2=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class By extends He{constructor(e,r,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=r,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[qt(e,"open",this.onopen.bind(this)),qt(e,"packet",this.onpacket.bind(this)),qt(e,"error",this.onerror.bind(this)),qt(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...r){var i,a,c;if(n2.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(r.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const u={type:he.EVENT,data:r};if(u.options={},u.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const y=this.ids++,v=r.pop();this._registerAckCallback(y,v),u.id=y}const f=(a=(i=this.io.engine)===null||i===void 0?void 0:i.transport)===null||a===void 0?void 0:a.writable,h=this.connected&&!(!((c=this.io.engine)===null||c===void 0)&&c._hasPingExpired());return this.flags.volatile&&!f||(h?(this.notifyOutgoingListeners(u),this.packet(u)):this.sendBuffer.push(u)),this.flags={},this}_registerAckCallback(e,r){var i;const a=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(a===void 0){this.acks[e]=r;return}const c=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let f=0;f<this.sendBuffer.length;f++)this.sendBuffer[f].id===e&&this.sendBuffer.splice(f,1);r.call(this,new Error("operation has timed out"))},a),u=(...f)=>{this.io.clearTimeoutFn(c),r.apply(this,f)};u.withError=!0,this.acks[e]=u}emitWithAck(e,...r){return new Promise((i,a)=>{const c=(u,f)=>u?a(u):i(f);c.withError=!0,r.push(c),this.emit(e,...r)})}_addToQueue(e){let r;typeof e[e.length-1]=="function"&&(r=e.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((a,...c)=>i!==this._queue[0]?void 0:(a!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(a)):(this._queue.shift(),r&&r(null,...c)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!e||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:he.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(i=>String(i.id)===e)){const i=this.acks[e];delete this.acks[e],i.withError&&i.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case he.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case he.EVENT:case he.BINARY_EVENT:this.onevent(e);break;case he.ACK:case he.BINARY_ACK:this.onack(e);break;case he.DISCONNECT:this.ondisconnect();break;case he.CONNECT_ERROR:this.destroy();const i=new Error(e.data.message);i.data=e.data.data,this.emitReserved("connect_error",i);break}}onevent(e){const r=e.data||[];e.id!=null&&r.push(this.ack(e.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const i of r)i.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const r=this;let i=!1;return function(...a){i||(i=!0,r.packet({type:he.ACK,id:e,data:a}))}}onack(e){const r=this.acks[e.id];typeof r=="function"&&(delete this.acks[e.id],r.withError&&e.data.unshift(null),r.apply(this,e.data))}onconnect(e,r){this.id=e,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:he.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const r=this._anyListeners;for(let i=0;i<r.length;i++)if(e===r[i])return r.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const r=this._anyOutgoingListeners;for(let i=0;i<r.length;i++)if(e===r[i])return r.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const i of r)i.apply(this,e.data)}}}function ps(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}ps.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-r:t+r}return Math.min(t,this.max)|0};ps.prototype.reset=function(){this.attempts=0};ps.prototype.setMin=function(t){this.ms=t};ps.prototype.setMax=function(t){this.max=t};ps.prototype.setJitter=function(t){this.jitter=t};class Tu extends He{constructor(e,r){var i;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(r=e,e=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Oa(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((i=r.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new ps({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=e;const a=r.parser||t2;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var r;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(r=this.backoff)===null||r===void 0||r.setMin(e),this)}randomizationFactor(e){var r;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(r=this.backoff)===null||r===void 0||r.setJitter(e),this)}reconnectionDelayMax(e){var r;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(r=this.backoff)===null||r===void 0||r.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new $C(this.uri,this.opts);const r=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const a=qt(r,"open",function(){i.onopen(),e&&e()}),c=f=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",f),e?e(f):this.maybeReconnectOnOpen()},u=qt(r,"error",c);if(this._timeout!==!1){const f=this._timeout,h=this.setTimeoutFn(()=>{a(),c(new Error("timeout")),r.close()},f);this.opts.autoUnref&&h.unref(),this.subs.push(()=>{this.clearTimeoutFn(h)})}return this.subs.push(a),this.subs.push(u),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(qt(e,"ping",this.onping.bind(this)),qt(e,"data",this.ondata.bind(this)),qt(e,"error",this.onerror.bind(this)),qt(e,"close",this.onclose.bind(this)),qt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(r){this.onclose("parse error",r)}}ondecoded(e){La(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,r){let i=this.nsps[e];return i?this._autoConnect&&!i.active&&i.connect():(i=new By(this,e,r),this.nsps[e]=i),i}_destroy(e){const r=Object.keys(this.nsps);for(const i of r)if(this.nsps[i].active)return;this._close()}_packet(e){const r=this.encoder.encode(e);for(let i=0;i<r.length;i++)this.engine.write(r[i],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,r){var i;this.cleanup(),(i=this.engine)===null||i===void 0||i.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(a=>{a?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",a)):e.onreconnect()}))},r);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const ii={};function la(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const r=HC(t,e.path||"/socket.io"),i=r.source,a=r.id,c=r.path,u=ii[a]&&c in ii[a].nsps,f=e.forceNew||e["force new connection"]||e.multiplex===!1||u;let h;return f?h=new Tu(i,e):(ii[a]||(ii[a]=new Tu(i,e)),h=ii[a]),r.query&&!e.query&&(e.query=r.queryKey),h.socket(r.path,e)}Object.assign(la,{Manager:Tu,Socket:By,io:la,connect:la});const r2=()=>{const t=Je.SOCKET.URL;return console.log("🔹 Socket Environment:","production"),console.log("🔹 Config SOCKET.URL:",Je.SOCKET.URL),console.log("🔹 BACKEND_URLS.PRODUCTION:",Je.PROD.BACKEND_URL),t},zy=r2();console.log("🔹 Final Socket URL:",zy);const ke=la(zy,{...Je.SOCKET.CONFIG,autoConnect:!1,reconnection:!0,reconnectionAttempts:10,reconnectionDelay:1e3,timeout:2e4});ke.on("connect",()=>{console.log("✅ Socket connected successfully");const t=ke._callbacks||{},e=Object.keys(t).filter(r=>r!=="$connecting"&&r!=="$connect"&&r!=="$disconnect");console.log("Socket is listening for events:",e)});ke.on("connect_error",t=>{console.error("Socket connection error:",t),q.error("Connection error. Please try refreshing the page.")});ke.on("disconnect",t=>{console.log("Socket disconnected:",t),(t==="io server disconnect"||t==="transport close")&&(console.log("Attempting to reconnect socket in 1 second..."),setTimeout(()=>{ke.connect()},1e3))});ke.on("newMessage",t=>{console.log("Socket received newMessage event:",t)});const $y=t=>{if(!t){console.warn("Cannot connect socket without userId");return}return console.log("Connecting socket for user ID:",t),ke.auth={userId:t},ke.io.opts.query={userId:t},ke.connected&&(console.log("Socket already connected, disconnecting first"),ke.disconnect()),setTimeout(()=>{try{ke.connect(),console.log("🔹 Socket connection initiated for user:",t),setTimeout(()=>{ke.connected?(console.log("✅ Socket connection verified"),ke.emit("online",{userId:t})):console.warn("⚠️ Socket failed to connect after timeout")},1e3)}catch(e){console.error("❌ Error connecting socket:",e)}},300),ke},$n={LOGIN:"Logged in successfully",LOGOUT:"Logged out successfully",SIGNUP:"Account created successfully",PROFILE_UPDATE:"Profile updated successfully",VERIFICATION_EMAIL:"Verification email sent",PASSWORD_RESET:"Password reset successful"},Wt={LOGIN:"Login failed",LOGOUT:"Logout failed",SIGNUP:"Signup failed",PROFILE_UPDATE:"Profile update failed",VERIFICATION_EMAIL:"Failed to send verification email",PASSWORD_RESET:"Password reset failed",GOOGLE_AUTH:"Google authentication failed",SOCKET_CONNECTION:"Connection error. Retrying..."},s2=async t=>new Promise(e=>{const r=new FileReader;r.onload=i=>e(i.target.result),r.readAsDataURL(t)}),i2=()=>{try{const t=localStorage.getItem("authState");if(t){const e=JSON.parse(t);return console.log("🔹 Loading persisted auth state"),{user:e.user,isAuthenticated:!!e.user,isVerified:e.isVerified||!1}}}catch(t){console.error("Error loading persisted state:",t),localStorage.removeItem("authState")}return{user:null,isAuthenticated:!1,isVerified:!1}},we=qu((t,e)=>({...i2(),isLoading:!1,error:null,onlineUsers:[],socket:null,checkAuth:async()=>{var r;try{t({isLoading:!0}),console.log("🔹 Checking authentication status...");const i=localStorage.getItem("authState");let a=null;if(i)try{a=JSON.parse(i).user,console.log("🔹 Found persisted user:",a==null?void 0:a.email)}catch(c){console.error("Error parsing persisted state:",c)}try{const c=await Gt.get("check",{withCredentials:!0,timeout:5e3});return console.log("✅ Auth check response:",c.status),(r=c.data)!=null&&r._id?(console.log("✅ User authenticated:",c.data.email),t({user:c.data,isAuthenticated:!0}),e().connectSocket(),localStorage.setItem("authState",JSON.stringify({user:c.data,isAuthenticated:!0,isVerified:c.data.verified||!1})),!0):(console.log("⚠️ No user data in response"),a?(console.log("🔹 Using persisted user data instead of logging out"),t({user:a,isAuthenticated:!0}),e().connectSocket(),!0):(t({user:null,isAuthenticated:!1}),localStorage.removeItem("authState"),!1))}catch(c){return console.error("❌ Auth check API error:",c),a?(console.log("🔹 API call failed, using persisted user data"),t({user:a,isAuthenticated:!0}),e().connectSocket(),!0):(t({user:null,isAuthenticated:!1}),!1)}}catch(i){console.error("❌ Auth check error:",i);try{const a=localStorage.getItem("authState");if(a){const c=JSON.parse(a);if(c.user)return console.log("🔹 Using persisted user as fallback"),t({user:c.user,isAuthenticated:!0}),!0}}catch(a){console.error("Error parsing persisted state:",a)}return t({user:null,isAuthenticated:!1}),localStorage.removeItem("authState"),!1}finally{t({isLoading:!1})}},handleGoogleAuthSuccess:async()=>{var r,i,a,c,u;try{console.log("🔹 Fetching Google auth success data");const f=await Gt.get("google/success");if(console.log("✅ Google auth response:",f.data),!((r=f.data)!=null&&r.user))throw console.error("❌ No user data in response"),new Error("No user data received");const h=f.data.user;return console.log("✅ User data received:",h),t({user:h,isVerified:h.isVerified||!1,error:null}),localStorage.setItem("authState",JSON.stringify({user:h,isVerified:h.isVerified||!1})),console.log("🔹 Initializing socket connection"),e().connectSocket(),q.success($n.LOGIN),console.log("✅ Google auth success complete"),!0}catch(f){return console.error("❌ Google auth success error:",f),console.error("Error details:",{response:(i=f.response)==null?void 0:i.data,status:(a=f.response)==null?void 0:a.status,message:f.message}),t({error:((u=(c=f.response)==null?void 0:c.data)==null?void 0:u.message)||Wt.GOOGLE_AUTH,user:null,isVerified:!1}),q.error(Wt.GOOGLE_AUTH),!1}},signup:async(r,i)=>{var a,c;try{t({isLoading:!0,error:null});const u=await Gt.post("signup",r);return q.success(u.data.message||$n.SIGNUP),i==null||i(Je.ROUTES.AUTH.LOGIN),!0}catch(u){const f=((c=(a=u.response)==null?void 0:a.data)==null?void 0:c.message)||Wt.SIGNUP;return q.error(f),t({error:f}),!1}finally{t({isLoading:!1})}},login:async(r,i)=>{var a,c,u,f;try{t({isLoading:!0,error:null}),console.log("🔹 Attempting login for:",r.email);const h=await Gt.post("login",r,{withCredentials:!0});return console.log("✅ Login response received:",h.status),t({user:h.data,isAuthenticated:!0}),localStorage.setItem("authState",JSON.stringify({user:h.data,isAuthenticated:!0,isVerified:h.data.verified||!1})),e().connectSocket(),q.success($n.LOGIN),setTimeout(()=>{i?i(Je.ROUTES.APP.HOME):window.location.href=Je.ROUTES.APP.HOME},100),!0}catch(h){console.error("❌ Login error:",h),console.error("Error details:",{response:(a=h.response)==null?void 0:a.data,status:(c=h.response)==null?void 0:c.status,message:h.message});const g=((f=(u=h.response)==null?void 0:u.data)==null?void 0:f.message)||Wt.LOGIN;return q.error(g),t({error:g}),!1}finally{t({isLoading:!1})}},logout:async r=>{try{return t({isLoading:!0}),await Gt.post("logout"),e().disconnectSocket(),t({user:null}),localStorage.removeItem("authState"),q.success($n.LOGOUT),r==null||r(Je.ROUTES.AUTH.LOGIN),!0}catch{return q.error(Wt.LOGOUT),!1}finally{t({isLoading:!1})}},updateProfile:async r=>{var i,a;try{t({isLoading:!0});const c=r.profilePic&&typeof r.profilePic!="string"?await s2(r.profilePic):r.profilePic,u=await Gt.put("profile",{...r,profilePic:c});t({user:u.data});const f=JSON.parse(localStorage.getItem("authState")||"{}");return localStorage.setItem("authState",JSON.stringify({...f,user:u.data})),q.success($n.PROFILE_UPDATE),!0}catch(c){const u=((a=(i=c.response)==null?void 0:i.data)==null?void 0:a.message)||Wt.PROFILE_UPDATE;return q.error(u),!1}finally{t({isLoading:!1})}},googleLogin:async(r,i)=>{var a,c;try{t({isLoading:!0});const u=await Gt.post("google-login",{userData:r});return t({user:u.data,isAuthenticated:!0,error:null}),localStorage.setItem("authState",JSON.stringify({user:u.data,isAuthenticated:!0})),e().connectSocket(),q.success($n.LOGIN),setTimeout(()=>{i?i(Je.ROUTES.APP.HOME):window.location.href=Je.ROUTES.APP.HOME},100),!0}catch(u){const f=((c=(a=u.response)==null?void 0:a.data)==null?void 0:c.message)||"Google authentication failed";return q.error(f),t({error:f}),!1}finally{t({isLoading:!1})}},verifyEmail:async(r,i,a)=>{var c,u;try{t({isLoading:!0});const f=await Gt.get(`verify/${r}/${i}`);t({isVerified:!0});const h=JSON.parse(localStorage.getItem("authState")||"{}");return localStorage.setItem("authState",JSON.stringify({...h,isVerified:!0})),q.success(f.data.message),a==null||a(`${Je.ROUTES.AUTH.LOGIN}?verified=true`),!0}catch(f){const h=((u=(c=f.response)==null?void 0:c.data)==null?void 0:u.message)||Wt.VERIFICATION_EMAIL;return q.error(h),!1}finally{t({isLoading:!1})}},resendVerification:async r=>{var i,a;try{t({isLoading:!0});const c=await Gt.post("resend-verification",{email:r});return q.success(c.data.message||$n.VERIFICATION_EMAIL),!0}catch(c){const u=((a=(i=c.response)==null?void 0:i.data)==null?void 0:a.message)||Wt.VERIFICATION_EMAIL;return q.error(u),!1}finally{t({isLoading:!1})}},forgotPassword:async(r,i)=>{var a,c;try{t({isLoading:!0});const u=await Gt.post("forgot-password",{email:r});return q.success(u.data.message),i==null||i(`${Je.ROUTES.AUTH.LOGIN}?reset=requested`),!0}catch(u){const f=((c=(a=u.response)==null?void 0:a.data)==null?void 0:c.message)||Wt.PASSWORD_RESET;return q.error(f),!1}finally{t({isLoading:!1})}},resetPassword:async(r,i,a)=>{var c,u;try{t({isLoading:!0});const f=await Gt.post(`reset-password/${i}`,{newPassword:r});return q.success(f.data.message||$n.PASSWORD_RESET),a==null||a(`${Je.ROUTES.AUTH.LOGIN}?reset=success`),!0}catch(f){const h=((u=(c=f.response)==null?void 0:c.data)==null?void 0:u.message)||Wt.PASSWORD_RESET;return q.error(h),!1}finally{t({isLoading:!1})}},connectSocket:()=>{const{user:r}=e();r!=null&&r._id&&(console.log("🔹 Connecting socket for user:",r.fullName),$y(r._id),ke.on("connect",()=>{console.log("✅ Socket connected successfully"),ke.emit("online",{userId:r._id})}),ke.on("connect_error",i=>{console.error("❌ Socket connection error:",i),q.error(Wt.SOCKET_CONNECTION)}),ke.on("disconnect",i=>{console.log("❌ Socket disconnected:",i),i==="io server disconnect"&&ke.connect()}),ke.on("getOnlineUsers",i=>{t({onlineUsers:i})}),t({socket:ke}))},disconnectSocket:()=>{const{user:r}=e();ke!=null&&ke.connected&&(console.log("🔹 Disconnecting socket for user:",r==null?void 0:r.fullName),r!=null&&r._id&&ke.emit("offline",{userId:r._id}),ke.disconnect(),t({socket:null,onlineUsers:[]}))},testAuth:async()=>{try{return await(await fetch("/api/auth/test",{credentials:"include"})).json()}catch(r){throw console.error("Auth test failed:",r),r}}})),mr={GOOGLE_AUTH:"Google authentication failed. Please try again.",FETCH_USERS:"Failed to fetch users. Please try again.",SEND_MESSAGE:"Failed to send message. Please try again.",DEFAULT:"An error occurred. Please try again.",MEDIA_ACCESS:"Failed to access camera/microphone.",SOCKET_CONNECTION:"Connection issue. Please check your internet."},oi={LOGIN:"Logged in successfully",LOGOUT:"Logged out successfully",SIGNUP:"Account created successfully",GOOGLE_AUTH:"Google authentication successful",PROFILE_UPDATE:"Profile updated successfully",VERIFICATION_EMAIL:"Verification email sent",PASSWORD_RESET:"Password reset successful",MESSAGE_SENT:"Message sent successfully",MESSAGE_DELETED:"Message deleted successfully",MESSAGE_DELETED_EVERYONE:"Message deleted for everyone",CALL_INITIATED:"Call initiated...",CALL_CONNECTED:"Call connected",CALL_ENDED:"Call ended",USER_OFFLINE:"User is offline. They will be notified when they come online."},Yt=qu((t,e)=>({messages:[],users:[],selectedUser:null,unreadMessages:{},notifications:[],isUsersLoading:!1,isMessagesLoading:!1,hasMoreMessages:!0,currentPage:1,_lastFetchTimes:{},_lastMarkTimes:{},_pendingMarkTimeouts:{},isGroupCallActive:!1,activeGroupCall:null,groupCallParticipants:[],groupCallInvitations:[],isCallActive:!1,activeCall:null,isIncomingCall:!1,incomingCallData:null,isMuted:!1,isVideoOff:!1,error:null,setSelectedUser:r=>{t({selectedUser:r}),r&&e().clearNotifications(r._id)},getUsers:async()=>{try{t({isUsersLoading:!0,error:null});const i=(await by.get("/")).data.sort((a,c)=>{var h,g;if(a.isOnline!==c.isOnline)return c.isOnline-a.isOnline;const u=((h=a.lastMessage)==null?void 0:h.createdAt)||0,f=((g=c.lastMessage)==null?void 0:g.createdAt)||0;return new Date(f)-new Date(u)});t({users:i,isUsersLoading:!1})}catch(r){console.error("Error fetching users:",r),t({error:mr.FETCH_USERS,isUsersLoading:!1}),q.error(mr.FETCH_USERS)}},getMessages:async(r,i=1)=>{var h,g;if(!r){console.error("getMessages called without userId");return}const a=e(),c=Date.now(),u=a._lastFetchTimes[r]||0,f=c-u;if(f<1e3&&i===1){console.log(`Debouncing message fetch for user ${r}, last fetch was ${f}ms ago`);return}t(y=>({_lastFetchTimes:{...y._lastFetchTimes,[r]:c}})),t({isMessagesLoading:!0});try{const y=await li.get(`/${r}?page=${i}`);console.log(`Received ${y.data.messages.length} messages from API, page ${i}`),t(v=>{if(i===1){const E=new Set(y.data.messages.map(I=>I._id)),_=v.messages.filter(I=>E.has(I._id)),D=new Map;return _.forEach(I=>D.set(I._id,I)),{messages:y.data.messages.map(I=>D.has(I._id)?D.get(I._id):I),hasMoreMessages:y.data.messages.length>0,currentPage:i}}const w=new Set(v.messages.map(E=>E._id)),C=y.data.messages.filter(E=>!w.has(E._id));if(C.length===0)return{hasMoreMessages:!1,currentPage:i};const N=new Map;v.messages.forEach(E=>N.set(E._id,E)),C.forEach(E=>N.set(E._id,E));const k=Array.from(N.values());return k.sort((E,_)=>new Date(_.createdAt)-new Date(E.createdAt)),{messages:k,hasMoreMessages:C.length>0,currentPage:i}}),i===1&&setTimeout(()=>{e().markMessagesAsRead(r)},300)}catch(y){q.error(((g=(h=y.response)==null?void 0:h.data)==null?void 0:g.message)||"Failed to load messages")}finally{t({isMessagesLoading:!1})}},markMessagesAsRead:async r=>{if(!r)return;const i=e(),a=Date.now(),c=i._lastMarkTimes[r]||0,u=a-c;if(i._pendingMarkTimeouts[r]&&(clearTimeout(i._pendingMarkTimeouts[r]),t(f=>({_pendingMarkTimeouts:{...f._pendingMarkTimeouts,[r]:null}}))),u<1e3){const f=setTimeout(()=>{t(h=>({_lastMarkTimes:{...h._lastMarkTimes,[r]:Date.now()},_pendingMarkTimeouts:{...h._pendingMarkTimeouts,[r]:null}})),e()._markMessagesAsRead(r)},500);t(h=>({_pendingMarkTimeouts:{...h._pendingMarkTimeouts,[r]:f}})),t(h=>({unreadMessages:{...h.unreadMessages,[r]:0}}));return}t(f=>({_lastMarkTimes:{...f._lastMarkTimes,[r]:a}})),e()._markMessagesAsRead(r)},_markMessagesAsRead:async r=>{try{await li.post(`/mark-as-read/${r}`),t(i=>({unreadMessages:{...i.unreadMessages,[r]:0}})),t(i=>({messages:i.messages.map(c=>{var u;return(c.senderId===r||((u=c.sender)==null?void 0:u._id)===r)&&!c.isRead?{...c,isRead:!0}:c})}))}catch(i){console.error("Failed to mark messages as read:",i)}},addNotification:(r,i)=>{const{selectedUser:a}=e();(!a||a._id!==i)&&(t(c=>({notifications:[...c.notifications,r],unreadMessages:{...c.unreadMessages,[i]:(c.unreadMessages[i]||0)+1}})),q.custom(()=>p.jsxs("div",{className:"bg-base-100 shadow-lg rounded-lg p-4 flex items-center gap-3",children:[p.jsx("div",{className:"avatar",children:p.jsx("div",{className:"w-12 rounded-full",children:p.jsx("img",{src:r.sender.profilePic||"/avatar.png",alt:"sender",onError:c=>{c.target.onerror=null,c.target.src="/avatar.png"}})})}),p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:r.sender.fullName||r.sender.username||"User"}),p.jsx("p",{className:"text-sm text-base-content/70",children:r.content})]})]})))},clearNotifications:r=>{t(i=>({notifications:i.notifications.filter(a=>a.sender._id!==r),unreadMessages:{...i.unreadMessages,[r]:0}}))},sendMessage:async r=>{const{selectedUser:i}=e();if(!i)return;let a=null;const c=we.getState().user,u=we.getState().socket;try{const f={content:typeof r=="string"?r:r.content||r.text||"",receiverId:typeof r=="string"?i._id:r.receiverId||i._id};typeof r!="string"&&(r.image&&(f.image=r.image),r.video&&(f.video=r.video)),a={_id:Date.now().toString(),content:f.content,text:f.content,sender:c,senderId:c._id,receiverId:f.receiverId,image:f.image||null,video:f.video||null,createdAt:new Date().toISOString(),isOptimistic:!0,isRead:!1},t(y=>({messages:[...y.messages,a]}));const g=(await li.post("",f)).data;return g.content&&!g.text?g.text=g.content:g.text&&!g.content&&(g.content=g.text),!g.content&&!g.text&&(g.content="",g.text=""),g.sender||(g.sender=c),g.senderId||(g.senderId=c._id),t(y=>({messages:y.messages.map(v=>v._id===a._id?g:v)})),t(y=>({users:y.users.map(v=>v._id===i._id?{...v,lastMessage:g}:v)})),u&&u.connected&&u.emit("sendMessage",{senderId:c._id,receiverId:i._id,message:g}),g}catch(f){throw console.error("Failed to send message:",f),a&&t(h=>({messages:h.messages.filter(g=>g._id!==a._id)})),q.error(mr.SEND_MESSAGE),f}},deleteMessage:async(r,i=!1)=>{var c,u;const{selectedUser:a}=e();if(a)try{await li.delete(`/${r}`,{data:{deleteForEveryone:i}}),t(f=>({messages:f.messages.filter(h=>h._id!==r)})),ke&&ke.emit("deleteMessage",{messageId:r,receiverId:a._id,deleteForEveryone:i}),q.success(i?oi.MESSAGE_DELETED_EVERYONE:oi.MESSAGE_DELETED)}catch(f){q.error(((u=(c=f.response)==null?void 0:c.data)==null?void 0:u.message)||mr.DEFAULT)}},subscribeToMessages:()=>{const r=we.getState().socket;if(!r)return console.warn("Socket not available for message subscription"),()=>{};let i=[],a=null;const c=()=>{if(i.length===0)return;const{selectedUser:h}=e(),g=[],y=new Set;i.forEach(v=>{y.has(v._id)||(y.add(v._id),g.push(v))}),i=[],t(v=>{const w=new Set(v.messages.map(k=>k._id)),C=g.filter(k=>!w.has(k._id));return C.length===0?v:(C.filter(k=>{var _;const E=((_=k.sender)==null?void 0:_._id)||k.senderId;return h&&E===h._id&&!k.isRead}).length>0&&h&&setTimeout(()=>{e().markMessagesAsRead(h._id)},300),{messages:[...v.messages,...C].sort((k,E)=>new Date(E.createdAt)-new Date(k.createdAt))})}),t(v=>{const w=[...v.users];let C=!1;return g.forEach(N=>{var _;const k=((_=N.sender)==null?void 0:_._id)||N.senderId,E=N.receiverId;for(let D=0;D<w.length;D++)if(w[D]._id===k||w[D]._id===E){const A=w[D].lastMessage;(!A||new Date(N.createdAt)>new Date(A.createdAt))&&(w[D]={...w[D],lastMessage:N},C=!0)}}),C?{users:w}:v})},u=()=>{a&&clearTimeout(a),a=setTimeout(c,300)},f=h=>{var C,N,k,E;const g=h.message||h,{selectedUser:y}=e(),v=(C=we.getState().user)==null?void 0:C._id;if(g.content&&!g.text?g.text=g.content:g.text&&!g.content&&(g.content=g.text),!g.content&&!g.text&&(g.content="",g.text=""),!g.sender&&g.senderId){const _=e().users.find(D=>D._id===g.senderId);_?g.sender={_id:_._id,fullName:_.fullName||"User",profilePic:_.profilePic||"/avatar.png"}:g.sender={_id:g.senderId,fullName:"User",profilePic:"/avatar.png"}}if(g.sender&&typeof g.sender=="object"&&(g.sender.fullName||(g.sender.fullName="User"),(!g.sender.profilePic||g.sender.profilePic===""||g.sender.profilePic.includes("Default_ProfilePic.png"))&&(g.sender.profilePic="/avatar.png")),y&&(((N=g.sender)==null?void 0:N._id)===y._id||g.senderId===y._id||g.receiverId===y._id&&(((k=g.sender)==null?void 0:k._id)===v||g.senderId===v)))i.push(g),u();else{const _=((E=g.sender)==null?void 0:E._id)||g.senderId;_&&_!==v&&e().addNotification(g,_)}};return r.on("newMessage",f),()=>{r.off("newMessage",f),a&&clearTimeout(a)}},loadMoreMessages:async()=>{const{selectedUser:r,currentPage:i,hasMoreMessages:a}=e();!r||!a||await e().getMessages(r._id,i+1)},startGroupCall:(r,i)=>{t({isGroupCallActive:!0,activeGroupCall:{groupId:r,groupName:i}})},endGroupCall:()=>{t({isGroupCallActive:!1,activeGroupCall:null})},startCall:async(r,i=!1,a=!1)=>{const c=we.getState().socket,u=we.getState().authUser,{activeCall:f}=e();if(f){q.error("You're already in a call");return}if(!c){q.error(mr.SOCKET_CONNECTION);return}try{const h=e().users.find(y=>y._id===r),g=h?h.fullName:"User";t({isCallActive:!0,activeCall:{userId:r,userName:g,isVideo:i,isOutgoing:!0,isReceiverOnline:a,startTime:Date.now(),connectedAt:null}}),a?(c.emit("initiateCall",{callerId:u._id,callerName:u.fullName,receiverId:r,isVideo:i}),q.success(oi.CALL_INITIATED)):q.success(oi.USER_OFFLINE)}catch(h){console.error("Error starting call:",h),q.error(mr.MEDIA_ACCESS),t({isCallActive:!1,activeCall:null})}},handleIncomingCall:r=>{const{activeCall:i,isCallActive:a}=e(),c=we.getState().socket;if(i||a){c?c.emit("rejectCall",{callerId:r.callerId,receiverId:we.getState().authUser._id,reason:"busy"}):console.warn("⚠️ Socket not available for rejecting call");return}t({isIncomingCall:!0,incomingCallData:{...r,receivedAt:Date.now()}})},acceptCall:async()=>{const{incomingCallData:r,activeCall:i}=e(),a=we.getState().socket;if(!r||!a||i){a||(console.warn("⚠️ Socket not available for accepting call"),q.error("Unable to accept call. Connection issue."));return}try{const c=Date.now();t({isCallActive:!0,activeCall:{userId:r.callerId,userName:r.callerName,isVideo:r.isVideo,isOutgoing:!1,startTime:c,connectedAt:c},isIncomingCall:!1,incomingCallData:null}),a.emit("acceptCall",{callerId:r.callerId,receiverId:we.getState().authUser._id}),q.success(`Connected to ${r.callerName}`)}catch(c){console.error("Error accepting call:",c),q.error("Failed to accept call"),t({isIncomingCall:!1,incomingCallData:null})}},endCall:()=>{const{activeCall:r}=e(),i=we.getState().socket,a=we.getState().user;if(r){if(i&&i.connected&&a)try{console.log("Emitting endCall event:",{userId:a._id,remoteUserId:r.userId}),i.emit("endCall",{userId:a._id,remoteUserId:r.userId})}catch(c){console.error("Error emitting endCall event:",c)}else console.warn("⚠️ Socket not available for ending call",{socketExists:!!i,socketConnected:i==null?void 0:i.connected,userExists:!!a});t({isCallActive:!1,activeCall:null,isMuted:!1,isVideoOff:!1}),q.success(oi.CALL_ENDED)}},rejectCall:()=>{const{incomingCallData:r}=e(),i=we.getState().socket;r&&(i?i.emit("rejectCall",{callerId:r.callerId,receiverId:we.getState().authUser._id,reason:"rejected"}):console.warn("⚠️ Socket not available for rejecting call"),t({isIncomingCall:!1,incomingCallData:null}))},addGroupCallParticipant:r=>{t(i=>({groupCallParticipants:[...i.groupCallParticipants,r]}))},removeGroupCallParticipant:r=>{t(i=>({groupCallParticipants:i.groupCallParticipants.filter(a=>a._id!==r)}))},handleGroupCallInvitation:r=>{t(i=>({groupCallInvitations:[...i.groupCallInvitations,r]}))},acceptGroupCallInvitation:r=>{const i=e().groupCallInvitations.find(a=>a.id===r);i&&t(a=>({groupCallInvitations:a.groupCallInvitations.filter(c=>c.id!==r),activeCall:{...i,isGroupCall:!0}}))},rejectGroupCallInvitation:r=>{t(i=>({groupCallInvitations:i.groupCallInvitations.filter(a=>a.id!==r)}))},toggleMute:r=>{console.log("Toggling mute state to:",r),t({isMuted:r})},toggleVideo:r=>{console.log("Toggling video state to:",r),t({isVideoOff:r})}}));/**
 * @license lucide-react v0.459.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Hy=(...t)=>t.filter((e,r,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.459.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var a2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.459.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:i,className:a="",children:c,iconNode:u,...f},h)=>T.createElement("svg",{ref:h,...a2,width:e,height:e,stroke:t,strokeWidth:i?Number(r)*24/Number(e):r,className:Hy("lucide",a),...f},[...u.map(([g,y])=>T.createElement(g,y)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.459.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=(t,e)=>{const r=T.forwardRef(({className:i,...a},c)=>T.createElement(l2,{ref:c,iconNode:e,className:Hy(`lucide-${o2(t)}`,i),...a}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.459.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=Se("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.459.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=Se("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.459.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=Se("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.459.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=Se("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.459.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=Se("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.459.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=Se("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.459.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=Se("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.459.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=Se("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.459.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=Se("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.459.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=Se("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.459.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=Se("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.459.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=Se("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.459.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=Se("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.459.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=Se("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.459.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=Se("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.459.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=Se("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.459.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=Se("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.459.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=Se("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]);/**
 * @license lucide-react v0.459.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=Se("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.459.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=Se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.459.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=Se("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.459.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=Se("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.459.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=Se("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.459.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=Se("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.459.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=Se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.459.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=Se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.459.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=Se("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.459.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=Se("VideoOff",[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.459.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=Se("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.459.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=Se("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.459.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=Se("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.459.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=Se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),w2=()=>{const t=Array(8).fill(null);return p.jsxs("aside",{className:`h-full w-20 lg:w-72 border-r border-base-300 
    flex flex-col transition-all duration-200`,children:[p.jsx("div",{className:"border-b border-base-300 w-full p-5",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(ad,{className:"w-6 h-6"}),p.jsx("span",{className:"font-medium hidden lg:block",children:"Contacts"})]})}),p.jsx("div",{className:"overflow-y-auto w-full py-3",children:t.map((e,r)=>p.jsxs("div",{className:"w-full p-3 flex items-center gap-3",children:[p.jsx("div",{className:"relative mx-auto lg:mx-0",children:p.jsx("div",{className:"skeleton size-12 rounded-full"})}),p.jsxs("div",{className:"hidden lg:block text-left min-w-0 flex-1",children:[p.jsx("div",{className:"skeleton h-4 w-32 mb-2"}),p.jsx("div",{className:"skeleton h-3 w-16"})]})]},r))})]})},S2=()=>{const{getUsers:t,users:e=[],selectedUser:r,setSelectedUser:i,unreadMessages:a,isUsersLoading:c}=Yt(),{onlineUsers:u}=we(),f=It(),[h,g]=T.useState(!1),[y,v]=T.useState(""),[w,C]=T.useState(!1),[N,k]=T.useState(null);T.useEffect(()=>{t()},[t]);const E=T.useMemo(()=>[...e].sort((A,I)=>{const H=u.includes(A==null?void 0:A._id)?1:0,W=u.includes(I==null?void 0:I._id)?1:0,z=a[A==null?void 0:A._id]||0,V=a[I==null?void 0:I._id]||0;return W-H||V-z}),[e,u,a]),_=T.useMemo(()=>{let A=E;return y&&(A=A.filter(I=>{var H;return(H=I==null?void 0:I.fullName)==null?void 0:H.toLowerCase().includes(y.toLowerCase())})),h&&(A=A.filter(I=>u.includes(I._id))),A},[E,y,h,u]),D=A=>{v(A.target.value),C(!0),setTimeout(()=>C(!1),300)};return c||!e.length?p.jsx(w2,{}):p.jsxs("aside",{className:"h-full w-20 lg:w-72 border-r border-base-300 flex flex-col transition-all duration-200",children:[p.jsxs("div",{className:"border-b border-base-300 w-full p-5",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(ad,{className:"size-6"}),p.jsx("span",{className:"font-medium hidden lg:block",children:"Contacts"})]}),p.jsx("div",{className:"mt-3",children:p.jsx("input",{type:"text",value:y,onChange:D,className:"input input-bordered w-full",placeholder:"Search by name..."})}),p.jsxs("div",{className:"mt-3 hidden lg:flex items-center gap-2",children:[p.jsxs("label",{className:"cursor-pointer flex items-center gap-2",children:[p.jsx("input",{type:"checkbox",checked:h,onChange:A=>g(A.target.checked),className:"checkbox checkbox-sm"}),p.jsx("span",{className:"text-sm",children:"Show online only"})]}),p.jsxs("span",{className:"text-xs text-zinc-500",children:["(",u.length," online)"]})]})]}),p.jsxs("div",{className:"overflow-y-auto w-full py-3",children:[w&&p.jsxs("div",{className:"text-center py-4",children:[p.jsx(h2,{className:"animate-spin mx-auto text-blue-500"}),p.jsx("p",{className:"text-zinc-500 mt-2",children:"Searching..."})]}),_.length>0&&!w&&_.map(A=>p.jsxs("div",{className:"relative",children:[p.jsxs("button",{onClick:()=>i(A),className:`w-full p-3 flex items-center gap-3 hover:bg-base-300 transition-colors
                  ${(r==null?void 0:r._id)===(A==null?void 0:A._id)?"bg-base-300 ring-1 ring-base-300":""}`,children:[p.jsxs("div",{className:"relative mx-auto lg:mx-0",children:[p.jsx("img",{src:A!=null&&A.profilePic&&!A.profilePic.includes("Default_ProfilePic.png")?A.profilePic:`${window.location.origin}/avatar.png`,alt:(A==null?void 0:A.fullName)||"Unknown",className:"size-12 object-cover rounded-full",onError:I=>{I.target.onerror=null,I.target.src=`${window.location.origin}/avatar.png`}}),u.includes(A._id)&&p.jsx("span",{className:"absolute bottom-0 right-0 size-3 bg-green-500 rounded-full ring-2 ring-zinc-900"})]}),p.jsxs("div",{className:"hidden lg:block text-left min-w-0 flex-1",children:[p.jsxs("div",{className:"font-medium truncate flex items-center gap-1",children:[(A==null?void 0:A.fullName)||"Unknown",a[A._id]>0&&p.jsx("span",{className:"ml-1 bg-red-500 text-white text-xs px-2 py-0.5 rounded-full",children:a[A._id]})]}),p.jsx("div",{className:"text-sm text-zinc-400",children:u.includes(A._id)?"Online":"Offline"})]}),p.jsx("div",{className:"hidden lg:block cursor-pointer",onClick:I=>{I.stopPropagation(),k(N===A._id?null:A._id)},children:p.jsx(Gy,{className:"w-5 h-5 text-gray-500"})})]}),N===A._id&&p.jsxs("div",{className:"absolute right-2 top-16 bg-base-100 shadow-lg rounded-lg border border-base-300 p-2 z-10 w-40",children:[p.jsxs("button",{className:"w-full text-left px-3 py-2 hover:bg-base-200 rounded-lg transition flex items-center gap-2",onClick:I=>{I.stopPropagation(),f(`/profile/${A._id}`),k(null)},children:[p.jsx(Qn,{className:"w-4 h-4"}),"View Profile"]}),p.jsxs("button",{className:"w-full text-left px-3 py-2 hover:bg-base-200 rounded-lg transition flex items-center gap-2",onClick:I=>{I.stopPropagation(),i(A),k(null)},children:[p.jsx(_i,{className:"w-4 h-4"}),"Message"]})]})]},A==null?void 0:A._id)),_.length===0&&!w&&p.jsx("div",{className:"text-center text-zinc-500 py-4",children:y?"No users found with that name":h?"No online users":"No users available"})]})]})},E2=()=>p.jsx("div",{className:"w-full flex flex-1 flex-col items-center justify-center p-10 sm:p-16 bg-base-100/50 animate-fadeIn",children:p.jsxs("div",{className:"max-w-md text-center space-y-6",children:[p.jsx("div",{className:"flex justify-center gap-4",children:p.jsx("div",{className:`w-16 h-16 rounded-2xl bg-primary/10 flex items-center
            justify-center animate-bounce shadow-lg`,children:p.jsx(_i,{className:"w-8 h-8 text-primary"})})}),p.jsx("h2",{className:"text-2xl font-bold",children:"Welcome to GutarGu!"}),p.jsx("p",{className:"text-base-content/60",children:"Select a conversation from the sidebar or start a new one."}),p.jsx("div",{className:"flex justify-center gap-4 mt-6"})]})}),Pm=()=>{const{selectedUser:t,setSelectedUser:e,startCall:r}=Yt(),{onlineUsers:i}=we(),a=It();if(!t)return null;const c=i.includes(t._id),u=()=>{r(t._id,!1,c)},f=()=>{r(t._id,!0,c)};return p.jsx("div",{className:"p-3 border-b border-base-300 bg-base-100 animate-fadeIn",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsxs("div",{className:"avatar relative",children:[p.jsx("div",{className:"size-10 rounded-full",children:p.jsx("img",{src:t!=null&&t.profilePic&&!t.profilePic.includes("Default_ProfilePic.png")?t.profilePic:"/avatar.png",alt:(t==null?void 0:t.fullName)||"User",className:"object-cover w-full h-full rounded-full",onError:h=>{h.target.onerror=null,h.target.src="/avatar.png"}})}),c&&p.jsx("span",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border border-white"})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-medium",children:(t==null?void 0:t.fullName)||"User"}),p.jsxs("p",{className:"text-sm text-base-content/70 flex items-center gap-1",children:[p.jsx(d2,{className:`w-3 h-3 ${c?"text-green-500":"text-gray-400"}`,fill:c?"currentColor":"none"}),c?"Online":"Offline"]})]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("button",{onClick:()=>a(`/profile/${t._id}`),className:"btn btn-circle btn-sm btn-ghost",title:"View Profile",children:p.jsx(Qn,{className:"w-4 h-4"})}),p.jsx("button",{onClick:u,className:"btn btn-circle btn-sm btn-ghost",title:`Audio Call${c?"":" (User Offline)"}`,children:p.jsx(is,{className:"w-4 h-4"})}),p.jsx("button",{onClick:f,className:"btn btn-circle btn-sm btn-ghost",title:`Video Call${c?"":" (User Offline)"}`,children:p.jsx(ms,{className:"w-4 h-4"})}),p.jsx("button",{onClick:()=>e(null),className:"btn btn-sm btn-ghost hover:bg-base-200 transition-all","aria-label":"Close chat",children:p.jsx(Xy,{className:"w-5 h-5"})})]})]})})},bm=()=>{const[t,e]=T.useState(""),[r,i]=T.useState(null),[a,c]=T.useState(null),u=T.useRef(null),{sendMessage:f,selectedUser:h}=Yt(),{socket:g}=we(),y=N=>{var k;if(e(N.target.value),g&&h&&h._id){const E=(k=we.getState().user)==null?void 0:k._id;E&&g.emit("typing",{senderId:E,receiverId:h._id})}},v=N=>{const k=N.target.files[0];if(!k)return;const E=["image/jpeg","image/png","image/gif"],_=["video/mp4","video/quicktime"];if(![...E,..._].includes(k.type))return q.error("Invalid file type. Only images and videos are allowed.");if(k.size>5*1024*1024)return q.error("File size must be less than 5MB.");const D=new FileReader;D.onloadend=()=>{i(D.result),c(E.includes(k.type)?"image":"video")},D.readAsDataURL(k)},w=()=>{i(null),c(null),u.current&&(u.current.value="")},C=async N=>{var k;if(N.preventDefault(),!(!t.trim()&&!r))try{if(!h||!h._id)return q.error("Cannot send message: No recipient selected"),!1;console.log("Sending message to:",(h==null?void 0:h.fullName)||(h==null?void 0:h._id));const E=t.trim(),_={content:E,receiverId:h._id,image:a==="image"?r:null,video:a==="video"?r:null};console.log("Message data prepared:",{content:E?"Text content present":"No text content",receiverId:h._id,hasImage:!!_.image,hasVideo:!!_.video});const D=await f(_);if(console.log("Message sent result:",D?"Success":"Failed"),g&&h){const A=(k=we.getState().user)==null?void 0:k._id;g.emit("stopTyping",{senderId:A,receiverId:h._id}),console.log("Stop typing event emitted")}else console.log("Socket not available for stop typing event:",{socketExists:!!g,selectedUserExists:!!h});e(""),w()}catch(E){console.error("Failed to send message:",E),q.error("Failed to send message")}};return p.jsxs("div",{className:"p-4 w-full",children:[r&&p.jsx("div",{className:"mb-3 flex items-center gap-2",children:p.jsxs("div",{className:"relative",children:[a==="image"?p.jsx("img",{src:r,alt:"Preview",className:"w-20 h-20 object-cover rounded-lg border border-zinc-700"}):p.jsx("video",{src:r,className:"w-20 h-20 object-cover rounded-lg border border-zinc-700",controls:!0}),p.jsx("button",{onClick:w,className:"absolute -top-1.5 -right-1.5 w-5 h-5 rounded-full bg-base-300 flex items-center justify-center",type:"button",children:p.jsx(Xy,{className:"size-3"})})]})}),p.jsxs("form",{onSubmit:C,className:"flex items-center gap-2",children:[p.jsxs("div",{className:"flex-1 flex gap-2",children:[p.jsx("input",{type:"text",className:"w-full input input-bordered rounded-lg input-sm sm:input-md",placeholder:"Type a message...",value:t,onChange:y}),p.jsx("input",{type:"file",accept:"image/*,video/*",className:"hidden",ref:u,onChange:v}),p.jsx("button",{type:"button",className:`hidden sm:flex btn btn-circle
                     ${a==="image"?"text-emerald-500":"text-zinc-400"}`,onClick:()=>{var N;return(N=u.current)==null?void 0:N.click()},children:p.jsx(f2,{size:20})}),p.jsx("button",{type:"button",className:`hidden sm:flex btn btn-circle
                     ${a==="video"?"text-blue-500":"text-zinc-400"}`,onClick:()=>{var N;return(N=u.current)==null?void 0:N.click()},children:p.jsx(ms,{size:20})})]}),p.jsx("button",{type:"submit",className:"btn btn-sm btn-circle",disabled:!t.trim()&&!r,children:p.jsx(Qy,{size:22})})]})]})},C2=()=>{const t=Array(6).fill(null);return p.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:t.map((e,r)=>p.jsxs("div",{className:`chat ${r%2===0?"chat-start":"chat-end"}`,children:[p.jsx("div",{className:"chat-image avatar",children:p.jsx("div",{className:"size-10 rounded-full",children:p.jsx("div",{className:"skeleton w-full h-full rounded-full"})})}),p.jsx("div",{className:"chat-header mb-1",children:p.jsx("div",{className:"skeleton h-4 w-16"})}),p.jsx("div",{className:"chat-bubble bg-transparent p-0",children:p.jsx("div",{className:"skeleton h-16 w-[200px] "})})]},r))})};function k2(t,e=!0){const r=new Date(t);if(isNaN(r))return"Invalid Date";const i=new Date,a=new Date;a.setDate(a.getDate()-1);const c=r.toDateString()===i.toDateString(),u=r.toDateString()===a.toDateString(),f={hour:"2-digit",minute:"2-digit",hour12:!e},h=r.toLocaleTimeString("en-US",f);return c?`Today, ${h}`:u?`Yesterday, ${h}`:r.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})+`, ${h}`}const Jy={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"},{urls:"stun:stun3.l.google.com:19302"},{urls:"stun:stun4.l.google.com:19302"}],iceCandidatePoolSize:10,iceTransportPolicy:"all",rtcpMuxPolicy:"require"},N2={...Jy,iceTransportPolicy:"all",iceCandidatePoolSize:15};class Zy{constructor(e){this.socket=e,this.peerConnections=new Map,this.localStream=null,this.remoteStreams=new Map,this.onRemoteStreamUpdate=null,this.isLanConnection=!1,this.lanIpAddresses=new Set,this.setupSocketListeners(),this.detectLanConnection()}async detectLanConnection(){try{const e=new RTCPeerConnection({iceServers:[]});e.createDataChannel("lan-detection");const r=await e.createOffer();await e.setLocalDescription(r),e.onicecandidate=i=>{if(!i.candidate)return;const a=/([0-9]{1,3}(\.[0-9]{1,3}){3})/.exec(i.candidate.candidate);if(a&&a[1]){const c=a[1];this.isPrivateIp(c)&&(console.log("Detected LAN IP address:",c),this.lanIpAddresses.add(c),this.isLanConnection=!0)}},setTimeout(()=>{e.close(),console.log("LAN detection complete. LAN connection:",this.isLanConnection),console.log("LAN IP addresses:",[...this.lanIpAddresses]),this.socket&&this.isLanConnection&&this.socket.emit("lan-connection-info",{lanIpAddresses:[...this.lanIpAddresses]})},5e3)}catch(e){console.error("Error detecting LAN connection:",e)}}isPrivateIp(e){return/^(10\.|172\.(1[6-9]|2[0-9]|3[0-1])\.|192\.168\.)/.test(e)}setupSocketListeners(){this.socket&&(this.socket.on("webrtc-offer",async({from:e,offer:r,isLanConnection:i=!1})=>{console.log("Received WebRTC offer from:",e,"LAN connection:",i),i&&(this.isLanConnection=!0),await this.handleOffer(e,r)}),this.socket.on("webrtc-answer",async({from:e,answer:r,isLanConnection:i=!1})=>{console.log("Received WebRTC answer from:",e,"LAN connection:",i),i&&(this.isLanConnection=!0),await this.handleAnswer(e,r)}),this.socket.on("webrtc-ice-candidate",async({from:e,candidate:r})=>{console.log("Received ICE candidate from:",e),await this.handleIceCandidate(e,r)}),this.socket.on("webrtc-user-disconnected",({userId:e})=>{console.log("User disconnected from call:",e),this.closeConnection(e)}),this.socket.on("lan-connection-info",({userId:e,lanIpAddresses:r})=>{console.log("Received LAN info from user:",e,r),r&&Array.isArray(r)&&r.some(a=>this.lanIpAddresses.has(a)||this.isPrivateIp(a))&&(console.log("Detected shared LAN with user:",e),this.isLanConnection=!0,this.peerConnections.has(e)&&(console.log("Restarting connection to use LAN with user:",e),this.restartIce(e)))}))}async initLocalStream(e=!0){try{return this.localStream=await navigator.mediaDevices.getUserMedia({audio:!0,video:e}),this.localStream}catch(r){throw console.error("Error accessing media devices:",r),r}}createPeerConnection(e){if(this.peerConnections.has(e))return this.peerConnections.get(e);const r=this.isLanConnection?N2:Jy;console.log("Creating peer connection with config:",r,"LAN connection:",this.isLanConnection);const i=new RTCPeerConnection(r);return this.peerConnections.set(e,i),this.localStream&&this.localStream.getTracks().forEach(a=>{i.addTrack(a,this.localStream)}),i.onicecandidate=a=>{a.candidate&&this.socket.emit("webrtc-ice-candidate",{to:e,candidate:a.candidate})},i.onconnectionstatechange=()=>{console.log(`Connection state for ${e}:`,i.connectionState)},i.oniceconnectionstatechange=()=>{console.log(`ICE connection state for ${e}:`,i.iceConnectionState),(i.iceConnectionState==="disconnected"||i.iceConnectionState==="failed"||i.iceConnectionState==="closed")&&this.closeConnection(e)},i.ontrack=a=>{console.log("Received remote track from:",e);const[c]=a.streams;this.remoteStreams.set(e,c),this.onRemoteStreamUpdate&&this.onRemoteStreamUpdate(e,c)},i}async callUser(e){try{const r=this.createPeerConnection(e),i=await r.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});await r.setLocalDescription(i),this.socket.emit("webrtc-offer",{to:e,offer:i,isLanConnection:this.isLanConnection,lanIpAddresses:[...this.lanIpAddresses]})}catch(r){throw console.error("Error initiating call:",r),r}}async restartIce(e){try{const r=this.peerConnections.get(e);if(!r)return;console.log("Restarting ICE connection with user:",e);const i=await r.createOffer({iceRestart:!0,offerToReceiveAudio:!0,offerToReceiveVideo:!0});await r.setLocalDescription(i),this.socket.emit("webrtc-offer",{to:e,offer:i,isLanConnection:this.isLanConnection,lanIpAddresses:[...this.lanIpAddresses]})}catch(r){console.error("Error restarting ICE:",r)}}async handleOffer(e,r){try{const i=this.createPeerConnection(e);await i.setRemoteDescription(new RTCSessionDescription(r));const a=await i.createAnswer();await i.setLocalDescription(a),this.socket.emit("webrtc-answer",{to:e,answer:a,isLanConnection:this.isLanConnection,lanIpAddresses:[...this.lanIpAddresses]})}catch(i){console.error("Error handling offer:",i)}}async handleAnswer(e,r){try{const i=this.peerConnections.get(e);i&&await i.setRemoteDescription(new RTCSessionDescription(r))}catch(i){console.error("Error handling answer:",i)}}async handleIceCandidate(e,r){try{const i=this.peerConnections.get(e);i&&await i.addIceCandidate(new RTCIceCandidate(r))}catch(i){console.error("Error handling ICE candidate:",i)}}closeConnection(e){const r=this.peerConnections.get(e);r&&(r.close(),this.peerConnections.delete(e)),this.remoteStreams.delete(e),this.onRemoteStreamUpdate&&this.onRemoteStreamUpdate(e,null)}closeAllConnections(){for(const e of this.peerConnections.keys())this.closeConnection(e);this.localStream&&(this.localStream.getTracks().forEach(e=>e.stop()),this.localStream=null)}toggleAudio(){try{if(!this.localStream)return console.warn("Cannot toggle audio: No local stream available"),!1;const e=this.localStream.getAudioTracks();if(e.length===0)return console.warn("Cannot toggle audio: No audio tracks found"),!1;const r=e[0],i=!r.enabled;return r.enabled=i,console.log(`Audio ${i?"muted":"unmuted"}`),!i}catch(e){return console.error("Error toggling audio:",e),!1}}toggleVideo(){try{if(!this.localStream)return console.warn("Cannot toggle video: No local stream available"),!1;const e=this.localStream.getVideoTracks();if(e.length===0)return console.warn("Cannot toggle video: No video tracks found"),!1;const r=e[0],i=!r.enabled;return r.enabled=i,console.log(`Video ${i?"disabled":"enabled"}`),!i}catch(e){return console.error("Error toggling video:",e),!1}}getRemoteStreams(){return this.remoteStreams}isUsingLanConnection(){return this.isLanConnection}getConnectionQuality(e){const r=this.peerConnections.get(e);if(!r)return{quality:"unknown",isLan:!1};const i=this.isLanConnection?"high":"standard",a=r.connectionState||"unknown",c=r.iceConnectionState||"unknown";return{quality:i,isLan:this.isLanConnection,connectionState:a,iceConnectionState:c}}}const T2=({groupId:t,groupName:e,onEndCall:r})=>{const{authUser:i,socket:a}=we(),{selectedGroup:c}=Yt(),[u,f]=T.useState([]),[h,g]=T.useState(!1),[y,v]=T.useState(!1),[w,C]=T.useState(null),[N,k]=T.useState(new Map),E=T.useRef(null),_=T.useRef(null);T.useEffect(()=>{if(a)return _.current=new Zy(a),_.current.onRemoteStreamUpdate=(W,z)=>{k(V=>{const re=new Map(V);return z?re.set(W,z):re.delete(W),re})},()=>{_.current&&_.current.closeAllConnections()}},[a]),T.useEffect(()=>{if(!(!a||!t||!(i!=null&&i._id)))return a.emit("joinGroupCall",{groupId:t,userId:i._id}),D(),a.on("participantJoined",({userId:W})=>{W!==i._id&&_.current&&f(z=>z.some(V=>V.userId===W)?z:(q.success("New participant joined the call"),_.current.callUser(W),[...z,{userId:W}]))}),a.on("participantLeft",({userId:W})=>{f(z=>{const V=z.filter(re=>re.userId!==W);return V.length!==z.length&&q.info("A participant left the call"),V}),_.current&&_.current.closeConnection(W)}),a.on("groupCallEnded",()=>{q.info("Group call has ended"),r()}),()=>{a.off("participantJoined"),a.off("participantLeft"),a.off("groupCallEnded"),A()}},[a,t,i==null?void 0:i._id]);const D=async()=>{try{if(!_.current)return;const W=await _.current.initLocalStream(!0);C(W),E.current&&(E.current.srcObject=W),a.emit("startGroupCall",{groupId:t,userId:i._id}),u.forEach(z=>{z.userId!==i._id&&_.current.callUser(z.userId)})}catch(W){q.error("Failed to access camera/microphone"),console.error("Error starting call:",W)}},A=()=>{_.current&&_.current.closeAllConnections(),a.emit("leaveGroupCall",{groupId:t,userId:i._id}),r()},I=()=>{if(_.current){const W=_.current.toggleAudio();g(W)}},H=()=>{if(_.current){const W=_.current.toggleVideo();v(W)}};return p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center",children:p.jsxs("div",{className:"bg-base-100 p-4 rounded-lg w-full max-w-4xl",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsxs("h2",{className:"text-xl font-bold",children:[e," - Group Call"]}),p.jsx("button",{onClick:A,className:"btn btn-circle btn-error",children:p.jsx(od,{size:20})})]}),p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-4",children:[p.jsxs("div",{className:"relative",children:[p.jsx("video",{ref:E,autoPlay:!0,muted:!0,playsInline:!0,className:"w-full rounded-lg"}),p.jsx("div",{className:"absolute bottom-2 left-2 text-white bg-black bg-opacity-50 px-2 py-1 rounded",children:"You"})]}),Array.from(N).map(([W,z])=>{var V;return p.jsxs("div",{className:"relative",children:[p.jsx("video",{autoPlay:!0,playsInline:!0,className:"w-full rounded-lg",ref:re=>{re&&(re.srcObject=z)}}),p.jsx("div",{className:"absolute bottom-2 left-2 text-white bg-black bg-opacity-50 px-2 py-1 rounded",children:((V=u.find(re=>re.userId===W))==null?void 0:V.name)||"Participant"})]},W)})]}),p.jsxs("div",{className:"flex justify-center gap-4",children:[p.jsx("button",{onClick:I,className:`btn btn-circle ${h?"btn-error":"btn-primary"}`,children:h?p.jsx(Ky,{size:20}):p.jsx(qy,{size:20})}),p.jsx("button",{onClick:H,className:`btn btn-circle ${y?"btn-error":"btn-primary"}`,children:y?p.jsx(Yy,{size:20}):p.jsx(ms,{size:20})}),p.jsxs("button",{className:"btn btn-circle btn-primary",children:[p.jsx(ad,{size:20}),p.jsx("span",{className:"ml-2",children:u.length+1})]})]})]})})},P2=()=>{const{messages:t,getMessages:e,isMessagesLoading:r,selectedUser:i,selectedGroup:a,subscribeToMessages:c,markMessagesAsRead:u,deleteMessage:f,isGroupCallActive:h,activeGroupCall:g,startGroupCall:y,endGroupCall:v}=Yt(),{user:w,socket:C}=we(),N=T.useRef(null),[k,E]=T.useState(!1),[_,D]=T.useState(null),A=T.useRef({});T.useEffect(()=>{if(!(i!=null&&i._id))return;console.log("Loading messages for user:",i._id);const z=!A.current[i._id],V=setTimeout(()=>{e(i._id),A.current[i._id]=!0},z?0:300),re=c();return C?console.log("Socket connected:",C.connected):console.log("Socket not available in ChatContainer"),()=>{clearTimeout(V),C&&(C.off("typing"),C.off("stopTyping"),C.off("messagesRead")),re()}},[i==null?void 0:i._id]);const I=T.useRef(null);T.useEffect(()=>{if(t.length)return I.current&&clearTimeout(I.current),I.current=setTimeout(()=>{var z;(z=N.current)==null||z.scrollIntoView({behavior:"smooth",block:"end"}),I.current=null},200),()=>{I.current&&clearTimeout(I.current)}},[t]),T.useEffect(()=>{if(!C||!i)return;const z=({senderId:re})=>{re===i._id&&E(!0)},V=({senderId:re})=>{re===i._id&&E(!1)};return C.on("typing",z),C.on("stopTyping",V),()=>{C.off("typing",z),C.off("stopTyping",V)}},[C,i]),T.useEffect(()=>{if(!C||!i||!w)return;const z=({senderId:V,receiverId:re})=>{console.log(`Received messagesRead event: sender=${V}, receiver=${re}`),V===w._id&&re===i._id&&(console.log("Updating message read status in UI"),Yt.setState(ge=>({messages:ge.messages.map(te=>{var pe;return(te.senderId===w._id||((pe=te.sender)==null?void 0:pe._id)===w._id)&&te.receiverId===i._id&&!te.isRead?{...te,isRead:!0}:te})})))};return C.on("messagesRead",z),()=>C.off("messagesRead",z)},[C,i,w]);const H=async(z,V=!1)=>{window.confirm(V?"Are you sure you want to delete this message for everyone?":"Are you sure you want to delete this message for yourself?")&&(await f(z,V),D(null))},W=()=>{a&&y(a._id,a.name)};return!i||!w?p.jsx("div",{className:"flex-1 flex flex-col items-center justify-center",children:p.jsx("p",{className:"text-base-content/70",children:"Select a user to start chatting"})}):r?p.jsxs("div",{className:"flex-1 flex flex-col overflow-auto",children:[p.jsx(Pm,{}),p.jsx(C2,{}),p.jsx(bm,{})]}):p.jsxs("div",{className:"flex-1 flex flex-col overflow-auto",children:[p.jsx(Pm,{children:a&&p.jsx("button",{onClick:W,className:"btn btn-circle btn-primary btn-sm",children:p.jsx(is,{size:16})})}),h&&g&&p.jsx(T2,{groupId:g.groupId,groupName:g.groupName,onEndCall:v}),p.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[[...t].slice().reverse().map(z=>{var te,pe,Le,ft;const V=((te=z.sender)==null?void 0:te._id)===w._id||typeof z.senderId=="string"&&z.senderId===w._id||((pe=z.senderId)==null?void 0:pe._id)&&z.senderId._id.toString()===w._id.toString();console.log(`Message ${z._id} - Sent by me: ${V}`,{messageId:z._id,senderId:typeof z.senderId=="object"?(Le=z.senderId)==null?void 0:Le._id:z.senderId,authUserId:w._id,content:z.content||z.text});const re="/avatar.png";let ge=V?w==null?void 0:w.profilePic:(i==null?void 0:i.profilePic)||((ft=z.sender)==null?void 0:ft.profilePic);(!ge||ge===""||ge.includes("Default_ProfilePic.png"))&&(ge=re);const Ge=ge;return p.jsxs("div",{className:`chat ${V?"chat-end":"chat-start"}`,children:[p.jsx("div",{className:"chat-image avatar",children:p.jsx("div",{className:"size-10 rounded-full border",children:p.jsx("img",{src:Ge,alt:"profile pic",onError:qe=>{qe.target.onerror=null,qe.target.src="/avatar.png"}})})}),p.jsxs("div",{className:"chat-header mb-1 flex justify-between w-full",children:[p.jsx("span",{className:"text-xs opacity-50",children:k2(z.createdAt)}),V&&z.isRead&&p.jsx("span",{className:"text-xs text-green-500",children:"✔ Read"})]}),p.jsxs("div",{className:"chat-bubble flex flex-col relative group",children:[V&&p.jsx("div",{className:"absolute top-0 right-0 opacity-0 group-hover:opacity-100 transition-opacity",children:p.jsxs("div",{className:"dropdown dropdown-end",children:[p.jsx("label",{tabIndex:0,className:"btn btn-xs btn-circle btn-ghost",children:p.jsx(Gy,{size:14})}),p.jsxs("ul",{tabIndex:0,className:"dropdown-content z-[1] menu p-2 shadow bg-base-100 rounded-box w-24",children:[p.jsx("li",{children:p.jsxs("button",{onClick:()=>H(z._id,!1),className:"text-error flex items-center gap-1",children:[p.jsx(Tm,{size:14}),"Delete for me"]})}),p.jsx("li",{children:p.jsxs("button",{onClick:()=>H(z._id,!0),className:"text-error flex items-center gap-1",children:[p.jsx(Tm,{size:14}),"Delete for everyone"]})})]})]})}),p.jsx("div",{className:"whitespace-pre-wrap break-words",children:z.content||z.text||""}),z.image&&p.jsx("img",{src:z.image,alt:"Message attachment",className:"max-w-xs rounded-lg mt-2",loading:"lazy"}),z.video&&p.jsx("video",{src:z.video,controls:!0,className:"max-w-xs rounded-lg mt-2",preload:"metadata"})]})]},z._id)}),p.jsx("div",{ref:N})]}),p.jsx(bm,{isTyping:k})]})},b2=()=>{const{selectedUser:t}=Yt(),{socket:e}=we(),[r,i]=T.useState(window.innerWidth>640),[a,c]=T.useState([]);return T.useEffect(()=>{document.title=t?`Chat with ${t.fullName}`:"GutarGu Chat"},[t]),T.useEffect(()=>{if(!e)return;const u=f=>{console.log("🔵 Online users updated:",f),c(f)};return e.on("getOnlineUsers",u),()=>e.off("getOnlineUsers",u)},[e]),T.useEffect(()=>{const u=()=>{i(window.innerWidth>640)};return window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[]),p.jsxs("div",{className:"min-h-screen bg-base-200",children:[p.jsx("div",{className:"flex items-center justify-center pt-20 px-4",children:p.jsxs("div",{className:"bg-base-100 rounded-lg shadow-lg w-full max-w-6xl h-[calc(100vh-8rem)] flex",children:[r&&p.jsx(S2,{onlineUsers:a}),p.jsx("div",{className:"flex flex-1 h-full rounded-lg overflow-hidden",children:t?p.jsx(P2,{}):p.jsx(E2,{})})]})}),p.jsx("button",{className:"fixed bottom-6 left-6 btn btn-primary sm:hidden",onClick:()=>i(u=>!u),children:r?"❌ Close Sidebar":"📂 Open Sidebar"}),p.jsx(Qt,{to:"/profile",className:"fixed bottom-6 right-6 btn btn-circle btn-primary sm:hidden","aria-label":"View Profile",children:p.jsx(Qn,{className:"w-5 h-5"})})]})},e0=T.createContext({});function _2(t){const e=T.useRef(null);return e.current===null&&(e.current=t()),e.current}const ld=T.createContext(null),t0=T.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function j2(t=!0){const e=T.useContext(ld);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:i,register:a}=e,c=T.useId();T.useEffect(()=>{t&&a(c)},[t]);const u=T.useCallback(()=>t&&i&&i(c),[c,i,t]);return!r&&i?[!1,u]:[!0]}const cd=typeof window<"u",R2=cd?T.useLayoutEffect:T.useEffect,Pt=t=>t;let n0=Pt;function ud(t){let e;return()=>(e===void 0&&(e=t()),e)}const os=(t,e,r)=>{const i=e-t;return i===0?1:(r-t)/i},vn=t=>t*1e3,xn=t=>t/1e3,A2={useManualTiming:!1};function L2(t){let e=new Set,r=new Set,i=!1,a=!1;const c=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function f(g){c.has(g)&&(h.schedule(g),t()),g(u)}const h={schedule:(g,y=!1,v=!1)=>{const C=v&&i?e:r;return y&&c.add(g),C.has(g)||C.add(g),g},cancel:g=>{r.delete(g),c.delete(g)},process:g=>{if(u=g,i){a=!0;return}i=!0,[e,r]=[r,e],e.forEach(f),e.clear(),i=!1,a&&(a=!1,h.process(g))}};return h}const Qo=["read","resolveKeyframes","update","preRender","render","postRender"],O2=40;function r0(t,e){let r=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},c=()=>r=!0,u=Qo.reduce((_,D)=>(_[D]=L2(c),_),{}),{read:f,resolveKeyframes:h,update:g,preRender:y,render:v,postRender:w}=u,C=()=>{const _=performance.now();r=!1,a.delta=i?1e3/60:Math.max(Math.min(_-a.timestamp,O2),1),a.timestamp=_,a.isProcessing=!0,f.process(a),h.process(a),g.process(a),y.process(a),v.process(a),w.process(a),a.isProcessing=!1,r&&e&&(i=!1,t(C))},N=()=>{r=!0,i=!0,a.isProcessing||t(C)};return{schedule:Qo.reduce((_,D)=>{const A=u[D];return _[D]=(I,H=!1,W=!1)=>(r||N(),A.schedule(I,H,W)),_},{}),cancel:_=>{for(let D=0;D<Qo.length;D++)u[Qo[D]].cancel(_)},state:a,steps:u}}const{schedule:Pe,cancel:Yn,state:tt,steps:Kc}=r0(typeof requestAnimationFrame<"u"?requestAnimationFrame:Pt,!0),s0=T.createContext({strict:!1}),_m={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},as={};for(const t in _m)as[t]={isEnabled:e=>_m[t].some(r=>!!e[r])};function M2(t){for(const e in t)as[e]={...as[e],...t[e]}}const D2=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ya(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||D2.has(t)}let i0=t=>!ya(t);function I2(t){t&&(i0=e=>e.startsWith("on")?!ya(e):t(e))}try{I2(require("@emotion/is-prop-valid").default)}catch{}function V2(t,e,r){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(i0(a)||r===!0&&ya(a)||!e&&!ya(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}function F2(t){if(typeof Proxy>"u")return t;const e=new Map,r=(...i)=>t(...i);return new Proxy(r,{get:(i,a)=>a==="create"?t:(e.has(a)||e.set(a,t(a)),e.get(a))})}const Da=T.createContext({});function Ia(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function wi(t){return typeof t=="string"||Array.isArray(t)}const dd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],fd=["initial",...dd];function Va(t){return Ia(t.animate)||fd.some(e=>wi(t[e]))}function o0(t){return!!(Va(t)||t.variants)}function U2(t,e){if(Va(t)){const{initial:r,animate:i}=t;return{initial:r===!1||wi(r)?r:void 0,animate:wi(i)?i:void 0}}return t.inherit!==!1?e:{}}function B2(t){const{initial:e,animate:r}=U2(t,T.useContext(Da));return T.useMemo(()=>({initial:e,animate:r}),[jm(e),jm(r)])}function jm(t){return Array.isArray(t)?t.join(" "):t}const z2=Symbol.for("motionComponentSymbol");function Jr(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function $2(t,e,r){return T.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),r&&(typeof r=="function"?r(i):Jr(r)&&(r.current=i))},[e])}const hd=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),H2="framerAppearId",a0="data-"+hd(H2),{schedule:pd}=r0(queueMicrotask,!1),l0=T.createContext({});function G2(t,e,r,i,a){var c,u;const{visualElement:f}=T.useContext(Da),h=T.useContext(s0),g=T.useContext(ld),y=T.useContext(t0).reducedMotion,v=T.useRef(null);i=i||h.renderer,!v.current&&i&&(v.current=i(t,{visualState:e,parent:f,props:r,presenceContext:g,blockInitialAnimation:g?g.initial===!1:!1,reducedMotionConfig:y}));const w=v.current,C=T.useContext(l0);w&&!w.projection&&a&&(w.type==="html"||w.type==="svg")&&W2(v.current,r,a,C);const N=T.useRef(!1);T.useInsertionEffect(()=>{w&&N.current&&w.update(r,g)});const k=r[a0],E=T.useRef(!!k&&!(!((c=window.MotionHandoffIsComplete)===null||c===void 0)&&c.call(window,k))&&((u=window.MotionHasOptimisedAnimation)===null||u===void 0?void 0:u.call(window,k)));return R2(()=>{w&&(N.current=!0,window.MotionIsMounted=!0,w.updateFeatures(),pd.render(w.render),E.current&&w.animationState&&w.animationState.animateChanges())}),T.useEffect(()=>{w&&(!E.current&&w.animationState&&w.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)===null||_===void 0||_.call(window,k)}),E.current=!1))}),w}function W2(t,e,r,i){const{layoutId:a,layout:c,drag:u,dragConstraints:f,layoutScroll:h,layoutRoot:g}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:c0(t.parent)),t.projection.setOptions({layoutId:a,layout:c,alwaysMeasureLayout:!!u||f&&Jr(f),visualElement:t,animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,layoutScroll:h,layoutRoot:g})}function c0(t){if(t)return t.options.allowProjection!==!1?t.projection:c0(t.parent)}function K2({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:i,Component:a}){var c,u;t&&M2(t);function f(g,y){let v;const w={...T.useContext(t0),...g,layoutId:q2(g)},{isStatic:C}=w,N=B2(g),k=i(g,C);if(!C&&cd){Q2();const E=Y2(w);v=E.MeasureLayout,N.visualElement=G2(a,k,w,e,E.ProjectionNode)}return p.jsxs(Da.Provider,{value:N,children:[v&&N.visualElement?p.jsx(v,{visualElement:N.visualElement,...w}):null,r(a,g,$2(k,N.visualElement,y),k,C,N.visualElement)]})}f.displayName=`motion.${typeof a=="string"?a:`create(${(u=(c=a.displayName)!==null&&c!==void 0?c:a.name)!==null&&u!==void 0?u:""})`}`;const h=T.forwardRef(f);return h[z2]=a,h}function q2({layoutId:t}){const e=T.useContext(e0).id;return e&&t!==void 0?e+"-"+t:t}function Q2(t,e){T.useContext(s0).strict}function Y2(t){const{drag:e,layout:r}=as;if(!e&&!r)return{};const i={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const u0=t=>e=>typeof e=="string"&&e.startsWith(t),md=u0("--"),X2=u0("var(--"),gd=t=>X2(t)?J2.test(t.split("/*")[0].trim()):!1,J2=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Si={};function Z2(t){for(const e in t)Si[e]=t[e],md(e)&&(Si[e].isCSSVariable=!0)}const gs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Nr=new Set(gs);function d0(t,{layout:e,layoutId:r}){return Nr.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!Si[t]||t==="opacity")}const lt=t=>!!(t&&t.getVelocity),f0=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Sn=(t,e,r)=>r>e?e:r<t?t:r,ys={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ei={...ys,transform:t=>Sn(0,1,t)},Yo={...ys,default:1},ji=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Hn=ji("deg"),on=ji("%"),oe=ji("px"),ek=ji("vh"),tk=ji("vw"),Rm={...on,parse:t=>on.parse(t)/100,transform:t=>on.transform(t*100)},nk={borderWidth:oe,borderTopWidth:oe,borderRightWidth:oe,borderBottomWidth:oe,borderLeftWidth:oe,borderRadius:oe,radius:oe,borderTopLeftRadius:oe,borderTopRightRadius:oe,borderBottomRightRadius:oe,borderBottomLeftRadius:oe,width:oe,maxWidth:oe,height:oe,maxHeight:oe,top:oe,right:oe,bottom:oe,left:oe,padding:oe,paddingTop:oe,paddingRight:oe,paddingBottom:oe,paddingLeft:oe,margin:oe,marginTop:oe,marginRight:oe,marginBottom:oe,marginLeft:oe,backgroundPositionX:oe,backgroundPositionY:oe},rk={rotate:Hn,rotateX:Hn,rotateY:Hn,rotateZ:Hn,scale:Yo,scaleX:Yo,scaleY:Yo,scaleZ:Yo,skew:Hn,skewX:Hn,skewY:Hn,distance:oe,translateX:oe,translateY:oe,translateZ:oe,x:oe,y:oe,z:oe,perspective:oe,transformPerspective:oe,opacity:Ei,originX:Rm,originY:Rm,originZ:oe},Am={...ys,transform:Math.round},yd={...nk,...rk,zIndex:Am,size:oe,fillOpacity:Ei,strokeOpacity:Ei,numOctaves:Am},sk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ik=gs.length;function ok(t,e,r){let i="",a=!0;for(let c=0;c<ik;c++){const u=gs[c],f=t[u];if(f===void 0)continue;let h=!0;if(typeof f=="number"?h=f===(u.startsWith("scale")?1:0):h=parseFloat(f)===0,!h||r){const g=f0(f,yd[u]);if(!h){a=!1;const y=sk[u]||u;i+=`${y}(${g}) `}r&&(e[u]=g)}}return i=i.trim(),r?i=r(e,a?"":i):a&&(i="none"),i}function vd(t,e,r){const{style:i,vars:a,transformOrigin:c}=t;let u=!1,f=!1;for(const h in e){const g=e[h];if(Nr.has(h)){u=!0;continue}else if(md(h)){a[h]=g;continue}else{const y=f0(g,yd[h]);h.startsWith("origin")?(f=!0,c[h]=y):i[h]=y}}if(e.transform||(u||r?i.transform=ok(e,t.transform,r):i.transform&&(i.transform="none")),f){const{originX:h="50%",originY:g="50%",originZ:y=0}=c;i.transformOrigin=`${h} ${g} ${y}`}}const xd=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function h0(t,e,r){for(const i in e)!lt(e[i])&&!d0(i,r)&&(t[i]=e[i])}function ak({transformTemplate:t},e){return T.useMemo(()=>{const r=xd();return vd(r,e,t),Object.assign({},r.vars,r.style)},[e])}function lk(t,e){const r=t.style||{},i={};return h0(i,r,t),Object.assign(i,ak(t,e)),i}function ck(t,e){const r={},i=lk(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const uk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function wd(t){return typeof t!="string"||t.includes("-")?!1:!!(uk.indexOf(t)>-1||/[A-Z]/u.test(t))}const dk={offset:"stroke-dashoffset",array:"stroke-dasharray"},fk={offset:"strokeDashoffset",array:"strokeDasharray"};function hk(t,e,r=1,i=0,a=!0){t.pathLength=1;const c=a?dk:fk;t[c.offset]=oe.transform(-i);const u=oe.transform(e),f=oe.transform(r);t[c.array]=`${u} ${f}`}function Lm(t,e,r){return typeof t=="string"?t:oe.transform(e+r*t)}function pk(t,e,r){const i=Lm(e,t.x,t.width),a=Lm(r,t.y,t.height);return`${i} ${a}`}function Sd(t,{attrX:e,attrY:r,attrScale:i,originX:a,originY:c,pathLength:u,pathSpacing:f=1,pathOffset:h=0,...g},y,v){if(vd(t,g,v),y){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:w,style:C,dimensions:N}=t;w.transform&&(N&&(C.transform=w.transform),delete w.transform),N&&(a!==void 0||c!==void 0||C.transform)&&(C.transformOrigin=pk(N,a!==void 0?a:.5,c!==void 0?c:.5)),e!==void 0&&(w.x=e),r!==void 0&&(w.y=r),i!==void 0&&(w.scale=i),u!==void 0&&hk(w,u,f,h,!1)}const p0=()=>({...xd(),attrs:{}}),Ed=t=>typeof t=="string"&&t.toLowerCase()==="svg";function mk(t,e,r,i){const a=T.useMemo(()=>{const c=p0();return Sd(c,e,Ed(i),t.transformTemplate),{...c.attrs,style:{...c.style}}},[e]);if(t.style){const c={};h0(c,t.style,t),a.style={...c,...a.style}}return a}function gk(t=!1){return(r,i,a,{latestValues:c},u)=>{const h=(wd(r)?mk:ck)(i,c,u,r),g=V2(i,typeof r=="string",t),y=r!==T.Fragment?{...g,...h,ref:a}:{},{children:v}=i,w=T.useMemo(()=>lt(v)?v.get():v,[v]);return T.createElement(r,{...y,children:w})}}function Om(t){const e=[{},{}];return t==null||t.values.forEach((r,i)=>{e[0][i]=r.get(),e[1][i]=r.getVelocity()}),e}function Cd(t,e,r,i){if(typeof e=="function"){const[a,c]=Om(i);e=e(r!==void 0?r:t.custom,a,c)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,c]=Om(i);e=e(r!==void 0?r:t.custom,a,c)}return e}const Pu=t=>Array.isArray(t),yk=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),vk=t=>Pu(t)?t[t.length-1]||0:t;function ca(t){const e=lt(t)?t.get():t;return yk(e)?e.toValue():e}function xk({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:r},i,a,c){const u={latestValues:wk(i,a,c,t),renderState:e()};return r&&(u.onMount=f=>r({props:i,current:f,...u}),u.onUpdate=f=>r(f)),u}const m0=t=>(e,r)=>{const i=T.useContext(Da),a=T.useContext(ld),c=()=>xk(t,e,i,a);return r?c():_2(c)};function wk(t,e,r,i){const a={},c=i(t,{});for(const w in c)a[w]=ca(c[w]);let{initial:u,animate:f}=t;const h=Va(t),g=o0(t);e&&g&&!h&&t.inherit!==!1&&(u===void 0&&(u=e.initial),f===void 0&&(f=e.animate));let y=r?r.initial===!1:!1;y=y||u===!1;const v=y?f:u;if(v&&typeof v!="boolean"&&!Ia(v)){const w=Array.isArray(v)?v:[v];for(let C=0;C<w.length;C++){const N=Cd(t,w[C]);if(N){const{transitionEnd:k,transition:E,..._}=N;for(const D in _){let A=_[D];if(Array.isArray(A)){const I=y?A.length-1:0;A=A[I]}A!==null&&(a[D]=A)}for(const D in k)a[D]=k[D]}}}return a}function kd(t,e,r){var i;const{style:a}=t,c={};for(const u in a)(lt(a[u])||e.style&&lt(e.style[u])||d0(u,t)||((i=r==null?void 0:r.getValue(u))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(c[u]=a[u]);return c}const Sk={useVisualState:m0({scrapeMotionValuesFromProps:kd,createRenderState:xd})};function g0(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function y0(t,{style:e,vars:r},i,a){Object.assign(t.style,e,a&&a.getProjectionStyles(i));for(const c in r)t.style.setProperty(c,r[c])}const v0=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function x0(t,e,r,i){y0(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(v0.has(a)?a:hd(a),e.attrs[a])}function w0(t,e,r){const i=kd(t,e,r);for(const a in t)if(lt(t[a])||lt(e[a])){const c=gs.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[c]=t[a]}return i}const Mm=["x","y","width","height","cx","cy","r"],Ek={useVisualState:m0({scrapeMotionValuesFromProps:w0,createRenderState:p0,onUpdate:({props:t,prevProps:e,current:r,renderState:i,latestValues:a})=>{if(!r)return;let c=!!t.drag;if(!c){for(const f in a)if(Nr.has(f)){c=!0;break}}if(!c)return;let u=!e;if(e)for(let f=0;f<Mm.length;f++){const h=Mm[f];t[h]!==e[h]&&(u=!0)}u&&Pe.read(()=>{g0(r,i),Pe.render(()=>{Sd(i,a,Ed(r.tagName),t.transformTemplate),x0(r,i)})})}})};function Ck(t,e){return function(i,{forwardMotionProps:a}={forwardMotionProps:!1}){const u={...wd(i)?Ek:Sk,preloadedFeatures:t,useRender:gk(a),createVisualElement:e,Component:i};return K2(u)}}function Fa(t,e,r){const i=t.getProps();return Cd(i,e,r!==void 0?r:i.custom,t)}const kk=ud(()=>window.ScrollTimeline!==void 0);class Nk{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,r){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=r}attachTimeline(e,r){const i=this.animations.map(a=>{if(kk()&&a.attachTimeline)return a.attachTimeline(e);if(typeof r=="function")return r(a)});return()=>{i.forEach((a,c)=>{a&&a(),this.animations[c].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let r=0;r<this.animations.length;r++)e=Math.max(e,this.animations[r].duration);return e}runAll(e){this.animations.forEach(r=>r[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Tk extends Nk{then(e,r){return Promise.all(this.animations).then(e).catch(r)}}function Nd(t,e){return t?t[e]||t.default||t:void 0}const bu=2e4;function S0(t){let e=0;const r=50;let i=t.next(e);for(;!i.done&&e<bu;)e+=r,i=t.next(e);return e>=bu?1/0:e}function Td(t){return typeof t=="function"}function Dm(t,e){t.timeline=e,t.onfinish=null}const Pd=t=>Array.isArray(t)&&typeof t[0]=="number",Pk={linearEasing:void 0};function bk(t,e){const r=ud(t);return()=>{var i;return(i=Pk[e])!==null&&i!==void 0?i:r()}}const va=bk(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),E0=(t,e,r=10)=>{let i="";const a=Math.max(Math.round(e/r),2);for(let c=0;c<a;c++)i+=t(os(0,a-1,c))+", ";return`linear(${i.substring(0,i.length-2)})`};function C0(t){return!!(typeof t=="function"&&va()||!t||typeof t=="string"&&(t in _u||va())||Pd(t)||Array.isArray(t)&&t.every(C0))}const ui=([t,e,r,i])=>`cubic-bezier(${t}, ${e}, ${r}, ${i})`,_u={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ui([0,.65,.55,1]),circOut:ui([.55,0,1,.45]),backIn:ui([.31,.01,.66,-.59]),backOut:ui([.33,1.53,.69,.99])};function k0(t,e){if(t)return typeof t=="function"&&va()?E0(t,e):Pd(t)?ui(t):Array.isArray(t)?t.map(r=>k0(r,e)||_u.easeOut):_u[t]}const Kt={x:!1,y:!1};function N0(){return Kt.x||Kt.y}function _k(t,e,r){var i;if(t instanceof Element)return[t];if(typeof t=="string"){let a=document;const c=(i=void 0)!==null&&i!==void 0?i:a.querySelectorAll(t);return c?Array.from(c):[]}return Array.from(t)}function T0(t,e){const r=_k(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[r,a,()=>i.abort()]}function Im(t){return!(t.pointerType==="touch"||N0())}function jk(t,e,r={}){const[i,a,c]=T0(t,r),u=f=>{if(!Im(f))return;const{target:h}=f,g=e(h,f);if(typeof g!="function"||!h)return;const y=v=>{Im(v)&&(g(v),h.removeEventListener("pointerleave",y))};h.addEventListener("pointerleave",y,a)};return i.forEach(f=>{f.addEventListener("pointerenter",u,a)}),c}const P0=(t,e)=>e?t===e?!0:P0(t,e.parentElement):!1,bd=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Rk=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Ak(t){return Rk.has(t.tagName)||t.tabIndex!==-1}const di=new WeakSet;function Vm(t){return e=>{e.key==="Enter"&&t(e)}}function qc(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Lk=(t,e)=>{const r=t.currentTarget;if(!r)return;const i=Vm(()=>{if(di.has(r))return;qc(r,"down");const a=Vm(()=>{qc(r,"up")}),c=()=>qc(r,"cancel");r.addEventListener("keyup",a,e),r.addEventListener("blur",c,e)});r.addEventListener("keydown",i,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",i),e)};function Fm(t){return bd(t)&&!N0()}function Ok(t,e,r={}){const[i,a,c]=T0(t,r),u=f=>{const h=f.currentTarget;if(!Fm(f)||di.has(h))return;di.add(h);const g=e(h,f),y=(C,N)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",w),!(!Fm(C)||!di.has(h))&&(di.delete(h),typeof g=="function"&&g(C,{success:N}))},v=C=>{y(C,r.useGlobalTarget||P0(h,C.target))},w=C=>{y(C,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",w,a)};return i.forEach(f=>{!Ak(f)&&f.getAttribute("tabindex")===null&&(f.tabIndex=0),(r.useGlobalTarget?window:f).addEventListener("pointerdown",u,a),f.addEventListener("focus",g=>Lk(g,a),a)}),c}function Mk(t){return t==="x"||t==="y"?Kt[t]?null:(Kt[t]=!0,()=>{Kt[t]=!1}):Kt.x||Kt.y?null:(Kt.x=Kt.y=!0,()=>{Kt.x=Kt.y=!1})}const b0=new Set(["width","height","top","left","right","bottom",...gs]);let ua;function Dk(){ua=void 0}const an={now:()=>(ua===void 0&&an.set(tt.isProcessing||A2.useManualTiming?tt.timestamp:performance.now()),ua),set:t=>{ua=t,queueMicrotask(Dk)}};function _d(t,e){t.indexOf(e)===-1&&t.push(e)}function jd(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}class Rd{constructor(){this.subscriptions=[]}add(e){return _d(this.subscriptions,e),()=>jd(this.subscriptions,e)}notify(e,r,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,r,i);else for(let c=0;c<a;c++){const u=this.subscriptions[c];u&&u(e,r,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function _0(t,e){return e?t*(1e3/e):0}const Um=30,Ik=t=>!isNaN(parseFloat(t));class Vk{constructor(e,r={}){this.version="12.2.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,a=!0)=>{const c=an.now();this.updatedAt!==c&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=an.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Ik(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new Rd);const i=this.events[e].add(r);return e==="change"?()=>{i(),Pe.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,i){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=an.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Um)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Um);return _0(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ci(t,e){return new Vk(t,e)}function Fk(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Ci(r))}function Uk(t,e){const r=Fa(t,e);let{transitionEnd:i={},transition:a={},...c}=r||{};c={...c,...i};for(const u in c){const f=vk(c[u]);Fk(t,u,f)}}function Bk(t){return!!(lt(t)&&t.add)}function ju(t,e){const r=t.getValue("willChange");if(Bk(r))return r.add(e)}function j0(t){return t.props[a0]}const R0=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,zk=1e-7,$k=12;function Hk(t,e,r,i,a){let c,u,f=0;do u=e+(r-e)/2,c=R0(u,i,a)-t,c>0?r=u:e=u;while(Math.abs(c)>zk&&++f<$k);return u}function Ri(t,e,r,i){if(t===e&&r===i)return Pt;const a=c=>Hk(c,0,1,t,r);return c=>c===0||c===1?c:R0(a(c),e,i)}const A0=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,L0=t=>e=>1-t(1-e),O0=Ri(.33,1.53,.69,.99),Ad=L0(O0),M0=A0(Ad),D0=t=>(t*=2)<1?.5*Ad(t):.5*(2-Math.pow(2,-10*(t-1))),Ld=t=>1-Math.sin(Math.acos(t)),I0=L0(Ld),V0=A0(Ld),F0=t=>/^0[^.\s]+$/u.test(t);function Gk(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||F0(t):!0}const hi=t=>Math.round(t*1e5)/1e5,Od=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Wk(t){return t==null}const Kk=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Md=(t,e)=>r=>!!(typeof r=="string"&&Kk.test(r)&&r.startsWith(t)||e&&!Wk(r)&&Object.prototype.hasOwnProperty.call(r,e)),U0=(t,e,r)=>i=>{if(typeof i!="string")return i;const[a,c,u,f]=i.match(Od);return{[t]:parseFloat(a),[e]:parseFloat(c),[r]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},qk=t=>Sn(0,255,t),Qc={...ys,transform:t=>Math.round(qk(t))},xr={test:Md("rgb","red"),parse:U0("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:i=1})=>"rgba("+Qc.transform(t)+", "+Qc.transform(e)+", "+Qc.transform(r)+", "+hi(Ei.transform(i))+")"};function Qk(t){let e="",r="",i="",a="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,r+=r,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const Ru={test:Md("#"),parse:Qk,transform:xr.transform},Zr={test:Md("hsl","hue"),parse:U0("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:i=1})=>"hsla("+Math.round(t)+", "+on.transform(hi(e))+", "+on.transform(hi(r))+", "+hi(Ei.transform(i))+")"},ot={test:t=>xr.test(t)||Ru.test(t)||Zr.test(t),parse:t=>xr.test(t)?xr.parse(t):Zr.test(t)?Zr.parse(t):Ru.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?xr.transform(t):Zr.transform(t)},Yk=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Xk(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Od))===null||e===void 0?void 0:e.length)||0)+(((r=t.match(Yk))===null||r===void 0?void 0:r.length)||0)>0}const B0="number",z0="color",Jk="var",Zk="var(",Bm="${}",eN=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ki(t){const e=t.toString(),r=[],i={color:[],number:[],var:[]},a=[];let c=0;const f=e.replace(eN,h=>(ot.test(h)?(i.color.push(c),a.push(z0),r.push(ot.parse(h))):h.startsWith(Zk)?(i.var.push(c),a.push(Jk),r.push(h)):(i.number.push(c),a.push(B0),r.push(parseFloat(h))),++c,Bm)).split(Bm);return{values:r,split:f,indexes:i,types:a}}function $0(t){return ki(t).values}function H0(t){const{split:e,types:r}=ki(t),i=e.length;return a=>{let c="";for(let u=0;u<i;u++)if(c+=e[u],a[u]!==void 0){const f=r[u];f===B0?c+=hi(a[u]):f===z0?c+=ot.transform(a[u]):c+=a[u]}return c}}const tN=t=>typeof t=="number"?0:t;function nN(t){const e=$0(t);return H0(t)(e.map(tN))}const Xn={test:Xk,parse:$0,createTransformer:H0,getAnimatableNone:nN},rN=new Set(["brightness","contrast","saturate","opacity"]);function sN(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=r.match(Od)||[];if(!i)return t;const a=r.replace(i,"");let c=rN.has(e)?1:0;return i!==r&&(c*=100),e+"("+c+a+")"}const iN=/\b([a-z-]*)\(.*?\)/gu,Au={...Xn,getAnimatableNone:t=>{const e=t.match(iN);return e?e.map(sN).join(" "):t}},oN={...yd,color:ot,backgroundColor:ot,outlineColor:ot,fill:ot,stroke:ot,borderColor:ot,borderTopColor:ot,borderRightColor:ot,borderBottomColor:ot,borderLeftColor:ot,filter:Au,WebkitFilter:Au},Dd=t=>oN[t];function G0(t,e){let r=Dd(t);return r!==Au&&(r=Xn),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const aN=new Set(["auto","none","0"]);function lN(t,e,r){let i=0,a;for(;i<t.length&&!a;){const c=t[i];typeof c=="string"&&!aN.has(c)&&ki(c).values.length&&(a=t[i]),i++}if(a&&r)for(const c of e)t[c]=G0(r,a)}const zm=t=>t===ys||t===oe,$m=(t,e)=>parseFloat(t.split(", ")[e]),Hm=(t,e)=>(r,{transform:i})=>{if(i==="none"||!i)return 0;const a=i.match(/^matrix3d\((.+)\)$/u);if(a)return $m(a[1],e);{const c=i.match(/^matrix\((.+)\)$/u);return c?$m(c[1],t):0}},cN=new Set(["x","y","z"]),uN=gs.filter(t=>!cN.has(t));function dN(t){const e=[];return uN.forEach(r=>{const i=t.getValue(r);i!==void 0&&(e.push([r,i.get()]),i.set(r.startsWith("scale")?1:0))}),e}const ls={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Hm(4,13),y:Hm(5,14)};ls.translateX=ls.x;ls.translateY=ls.y;const Sr=new Set;let Lu=!1,Ou=!1;function W0(){if(Ou){const t=Array.from(Sr).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),r=new Map;e.forEach(i=>{const a=dN(i);a.length&&(r.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=r.get(i);a&&a.forEach(([c,u])=>{var f;(f=i.getValue(c))===null||f===void 0||f.set(u)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Ou=!1,Lu=!1,Sr.forEach(t=>t.complete()),Sr.clear()}function K0(){Sr.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Ou=!0)})}function fN(){K0(),W0()}class Id{constructor(e,r,i,a,c,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=i,this.motionValue=a,this.element=c,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Sr.add(this),Lu||(Lu=!0,Pe.read(K0),Pe.resolveKeyframes(W0))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:i,motionValue:a}=this;for(let c=0;c<e.length;c++)if(e[c]===null)if(c===0){const u=a==null?void 0:a.get(),f=e[e.length-1];if(u!==void 0)e[0]=u;else if(i&&r){const h=i.readValue(r,f);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=f),a&&u===void 0&&a.set(e[0])}else e[c]=e[c-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Sr.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Sr.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const q0=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),hN=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function pN(t){const e=hN.exec(t);if(!e)return[,];const[,r,i,a]=e;return[`--${r??i}`,a]}function Q0(t,e,r=1){const[i,a]=pN(t);if(!i)return;const c=window.getComputedStyle(e).getPropertyValue(i);if(c){const u=c.trim();return q0(u)?parseFloat(u):u}return gd(a)?Q0(a,e,r+1):a}const Y0=t=>e=>e.test(t),mN={test:t=>t==="auto",parse:t=>t},X0=[ys,oe,on,Hn,tk,ek,mN],Gm=t=>X0.find(Y0(t));class J0 extends Id{constructor(e,r,i,a,c){super(e,r,i,a,c,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:i}=this;if(!r||!r.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let g=e[h];if(typeof g=="string"&&(g=g.trim(),gd(g))){const y=Q0(g,r.current);y!==void 0&&(e[h]=y),h===e.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!b0.has(i)||e.length!==2)return;const[a,c]=e,u=Gm(a),f=Gm(c);if(u!==f)if(zm(u)&&zm(f))for(let h=0;h<e.length;h++){const g=e[h];typeof g=="string"&&(e[h]=parseFloat(g))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,i=[];for(let a=0;a<e.length;a++)Gk(e[a])&&i.push(a);i.length&&lN(e,i,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ls[i](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){var e;const{element:r,name:i,unresolvedKeyframes:a}=this;if(!r||!r.current)return;const c=r.getValue(i);c&&c.jump(this.measuredOrigin,!1);const u=a.length-1,f=a[u];a[u]=ls[i](r.measureViewportBox(),window.getComputedStyle(r.current)),f!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=f),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([h,g])=>{r.getValue(h).set(g)}),this.resolveNoneKeyframes()}}const Wm=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Xn.test(t)||t==="0")&&!t.startsWith("url("));function gN(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function yN(t,e,r,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const c=t[t.length-1],u=Wm(a,e),f=Wm(c,e);return!u||!f?!1:gN(t)||(r==="spring"||Td(r))&&i}const vN=t=>t!==null;function Ua(t,{repeat:e,repeatType:r="loop"},i){const a=t.filter(vN),c=e&&r!=="loop"&&e%2===1?0:a.length-1;return!c||i===void 0?a[c]:i}const xN=40;class Z0{constructor({autoplay:e=!0,delay:r=0,type:i="keyframes",repeat:a=0,repeatDelay:c=0,repeatType:u="loop",...f}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=an.now(),this.options={autoplay:e,delay:r,type:i,repeat:a,repeatDelay:c,repeatType:u,...f},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>xN?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&fN(),this._resolved}onKeyframesResolved(e,r){this.resolvedAt=an.now(),this.hasAttemptedResolve=!0;const{name:i,type:a,velocity:c,delay:u,onComplete:f,onUpdate:h,isGenerator:g}=this.options;if(!g&&!yN(e,i,a,c))if(u)this.options.duration=0;else{h&&h(Ua(e,this.options,r)),f&&f(),this.resolveFinishedPromise();return}const y=this.initPlayback(e,r);y!==!1&&(this._resolved={keyframes:e,finalKeyframe:r,...y},this.onPostResolved())}onPostResolved(){}then(e,r){return this.currentFinishedPromise.then(e,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const De=(t,e,r)=>t+(e-t)*r;function Yc(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function wN({hue:t,saturation:e,lightness:r,alpha:i}){t/=360,e/=100,r/=100;let a=0,c=0,u=0;if(!e)a=c=u=r;else{const f=r<.5?r*(1+e):r+e-r*e,h=2*r-f;a=Yc(h,f,t+1/3),c=Yc(h,f,t),u=Yc(h,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(c*255),blue:Math.round(u*255),alpha:i}}function xa(t,e){return r=>r>0?e:t}const Xc=(t,e,r)=>{const i=t*t,a=r*(e*e-i)+i;return a<0?0:Math.sqrt(a)},SN=[Ru,xr,Zr],EN=t=>SN.find(e=>e.test(t));function Km(t){const e=EN(t);if(!e)return!1;let r=e.parse(t);return e===Zr&&(r=wN(r)),r}const qm=(t,e)=>{const r=Km(t),i=Km(e);if(!r||!i)return xa(t,e);const a={...r};return c=>(a.red=Xc(r.red,i.red,c),a.green=Xc(r.green,i.green,c),a.blue=Xc(r.blue,i.blue,c),a.alpha=De(r.alpha,i.alpha,c),xr.transform(a))},CN=(t,e)=>r=>e(t(r)),Ai=(...t)=>t.reduce(CN),Mu=new Set(["none","hidden"]);function kN(t,e){return Mu.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function NN(t,e){return r=>De(t,e,r)}function Vd(t){return typeof t=="number"?NN:typeof t=="string"?gd(t)?xa:ot.test(t)?qm:bN:Array.isArray(t)?ev:typeof t=="object"?ot.test(t)?qm:TN:xa}function ev(t,e){const r=[...t],i=r.length,a=t.map((c,u)=>Vd(c)(c,e[u]));return c=>{for(let u=0;u<i;u++)r[u]=a[u](c);return r}}function TN(t,e){const r={...t,...e},i={};for(const a in r)t[a]!==void 0&&e[a]!==void 0&&(i[a]=Vd(t[a])(t[a],e[a]));return a=>{for(const c in i)r[c]=i[c](a);return r}}function PN(t,e){var r;const i=[],a={color:0,var:0,number:0};for(let c=0;c<e.values.length;c++){const u=e.types[c],f=t.indexes[u][a[u]],h=(r=t.values[f])!==null&&r!==void 0?r:0;i[c]=h,a[u]++}return i}const bN=(t,e)=>{const r=Xn.createTransformer(e),i=ki(t),a=ki(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?Mu.has(t)&&!a.values.length||Mu.has(e)&&!i.values.length?kN(t,e):Ai(ev(PN(i,a),a.values),r):xa(t,e)};function tv(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?De(t,e,r):Vd(t)(t,e)}const _N=5;function nv(t,e,r){const i=Math.max(e-_N,0);return _0(r-t(i),e-i)}const Ve={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Qm=.001;function jN({duration:t=Ve.duration,bounce:e=Ve.bounce,velocity:r=Ve.velocity,mass:i=Ve.mass}){let a,c,u=1-e;u=Sn(Ve.minDamping,Ve.maxDamping,u),t=Sn(Ve.minDuration,Ve.maxDuration,xn(t)),u<1?(a=g=>{const y=g*u,v=y*t,w=y-r,C=Du(g,u),N=Math.exp(-v);return Qm-w/C*N},c=g=>{const v=g*u*t,w=v*r+r,C=Math.pow(u,2)*Math.pow(g,2)*t,N=Math.exp(-v),k=Du(Math.pow(g,2),u);return(-a(g)+Qm>0?-1:1)*((w-C)*N)/k}):(a=g=>{const y=Math.exp(-g*t),v=(g-r)*t+1;return-.001+y*v},c=g=>{const y=Math.exp(-g*t),v=(r-g)*(t*t);return y*v});const f=5/t,h=AN(a,c,f);if(t=vn(t),isNaN(h))return{stiffness:Ve.stiffness,damping:Ve.damping,duration:t};{const g=Math.pow(h,2)*i;return{stiffness:g,damping:u*2*Math.sqrt(i*g),duration:t}}}const RN=12;function AN(t,e,r){let i=r;for(let a=1;a<RN;a++)i=i-t(i)/e(i);return i}function Du(t,e){return t*Math.sqrt(1-e*e)}const LN=["duration","bounce"],ON=["stiffness","damping","mass"];function Ym(t,e){return e.some(r=>t[r]!==void 0)}function MN(t){let e={velocity:Ve.velocity,stiffness:Ve.stiffness,damping:Ve.damping,mass:Ve.mass,isResolvedFromDuration:!1,...t};if(!Ym(t,ON)&&Ym(t,LN))if(t.visualDuration){const r=t.visualDuration,i=2*Math.PI/(r*1.2),a=i*i,c=2*Sn(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Ve.mass,stiffness:a,damping:c}}else{const r=jN(t);e={...e,...r,mass:Ve.mass},e.isResolvedFromDuration=!0}return e}function rv(t=Ve.visualDuration,e=Ve.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=r;const c=r.keyframes[0],u=r.keyframes[r.keyframes.length-1],f={done:!1,value:c},{stiffness:h,damping:g,mass:y,duration:v,velocity:w,isResolvedFromDuration:C}=MN({...r,velocity:-xn(r.velocity||0)}),N=w||0,k=g/(2*Math.sqrt(h*y)),E=u-c,_=xn(Math.sqrt(h/y)),D=Math.abs(E)<5;i||(i=D?Ve.restSpeed.granular:Ve.restSpeed.default),a||(a=D?Ve.restDelta.granular:Ve.restDelta.default);let A;if(k<1){const H=Du(_,k);A=W=>{const z=Math.exp(-k*_*W);return u-z*((N+k*_*E)/H*Math.sin(H*W)+E*Math.cos(H*W))}}else if(k===1)A=H=>u-Math.exp(-_*H)*(E+(N+_*E)*H);else{const H=_*Math.sqrt(k*k-1);A=W=>{const z=Math.exp(-k*_*W),V=Math.min(H*W,300);return u-z*((N+k*_*E)*Math.sinh(V)+H*E*Math.cosh(V))/H}}const I={calculatedDuration:C&&v||null,next:H=>{const W=A(H);if(C)f.done=H>=v;else{let z=0;k<1&&(z=H===0?vn(N):nv(A,H,W));const V=Math.abs(z)<=i,re=Math.abs(u-W)<=a;f.done=V&&re}return f.value=f.done?u:W,f},toString:()=>{const H=Math.min(S0(I),bu),W=E0(z=>I.next(H*z).value,H,30);return H+"ms "+W}};return I}function Xm({keyframes:t,velocity:e=0,power:r=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:c=500,modifyTarget:u,min:f,max:h,restDelta:g=.5,restSpeed:y}){const v=t[0],w={done:!1,value:v},C=V=>f!==void 0&&V<f||h!==void 0&&V>h,N=V=>f===void 0?h:h===void 0||Math.abs(f-V)<Math.abs(h-V)?f:h;let k=r*e;const E=v+k,_=u===void 0?E:u(E);_!==E&&(k=_-v);const D=V=>-k*Math.exp(-V/i),A=V=>_+D(V),I=V=>{const re=D(V),ge=A(V);w.done=Math.abs(re)<=g,w.value=w.done?_:ge};let H,W;const z=V=>{C(w.value)&&(H=V,W=rv({keyframes:[w.value,N(w.value)],velocity:nv(A,V,w.value),damping:a,stiffness:c,restDelta:g,restSpeed:y}))};return z(0),{calculatedDuration:null,next:V=>{let re=!1;return!W&&H===void 0&&(re=!0,I(V),z(V)),H!==void 0&&V>=H?W.next(V-H):(!re&&I(V),w)}}}const DN=Ri(.42,0,1,1),IN=Ri(0,0,.58,1),sv=Ri(.42,0,.58,1),VN=t=>Array.isArray(t)&&typeof t[0]!="number",FN={linear:Pt,easeIn:DN,easeInOut:sv,easeOut:IN,circIn:Ld,circInOut:V0,circOut:I0,backIn:Ad,backInOut:M0,backOut:O0,anticipate:D0},Jm=t=>{if(Pd(t)){n0(t.length===4);const[e,r,i,a]=t;return Ri(e,r,i,a)}else if(typeof t=="string")return FN[t];return t};function UN(t,e,r){const i=[],a=r||tv,c=t.length-1;for(let u=0;u<c;u++){let f=a(t[u],t[u+1]);if(e){const h=Array.isArray(e)?e[u]||Pt:e;f=Ai(h,f)}i.push(f)}return i}function BN(t,e,{clamp:r=!0,ease:i,mixer:a}={}){const c=t.length;if(n0(c===e.length),c===1)return()=>e[0];if(c===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[c-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=UN(e,i,a),h=f.length,g=y=>{if(u&&y<t[0])return e[0];let v=0;if(h>1)for(;v<t.length-2&&!(y<t[v+1]);v++);const w=os(t[v],t[v+1],y);return f[v](w)};return r?y=>g(Sn(t[0],t[c-1],y)):g}function zN(t,e){const r=t[t.length-1];for(let i=1;i<=e;i++){const a=os(0,e,i);t.push(De(r,1,a))}}function $N(t){const e=[0];return zN(e,t.length-1),e}function HN(t,e){return t.map(r=>r*e)}function GN(t,e){return t.map(()=>e||sv).splice(0,t.length-1)}function wa({duration:t=300,keyframes:e,times:r,ease:i="easeInOut"}){const a=VN(i)?i.map(Jm):Jm(i),c={done:!1,value:e[0]},u=HN(r&&r.length===e.length?r:$N(e),t),f=BN(u,e,{ease:Array.isArray(a)?a:GN(e,a)});return{calculatedDuration:t,next:h=>(c.value=f(h),c.done=h>=t,c)}}const WN=t=>{const e=({timestamp:r})=>t(r);return{start:()=>Pe.update(e,!0),stop:()=>Yn(e),now:()=>tt.isProcessing?tt.timestamp:an.now()}},KN={decay:Xm,inertia:Xm,tween:wa,keyframes:wa,spring:rv},qN=t=>t/100;class Fd extends Z0{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:r,motionValue:i,element:a,keyframes:c}=this.options,u=(a==null?void 0:a.KeyframeResolver)||Id,f=(h,g)=>this.onKeyframesResolved(h,g);this.resolver=new u(c,f,r,i,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:c,velocity:u=0}=this.options,f=Td(r)?r:KN[r]||wa;let h,g;f!==wa&&typeof e[0]!="number"&&(h=Ai(qN,tv(e[0],e[1])),e=[0,100]);const y=f({...this.options,keyframes:e});c==="mirror"&&(g=f({...this.options,keyframes:[...e].reverse(),velocity:-u})),y.calculatedDuration===null&&(y.calculatedDuration=S0(y));const{calculatedDuration:v}=y,w=v+a,C=w*(i+1)-a;return{generator:y,mirroredGenerator:g,mapPercentToKeyframes:h,calculatedDuration:v,resolvedDuration:w,totalDuration:C}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,r=!1){const{resolved:i}=this;if(!i){const{keyframes:V}=this.options;return{done:!0,value:V[V.length-1]}}const{finalKeyframe:a,generator:c,mirroredGenerator:u,mapPercentToKeyframes:f,keyframes:h,calculatedDuration:g,totalDuration:y,resolvedDuration:v}=i;if(this.startTime===null)return c.next(0);const{delay:w,repeat:C,repeatType:N,repeatDelay:k,onUpdate:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-y/this.speed,this.startTime)),r?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const _=this.currentTime-w*(this.speed>=0?1:-1),D=this.speed>=0?_<0:_>y;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=y);let A=this.currentTime,I=c;if(C){const V=Math.min(this.currentTime,y)/v;let re=Math.floor(V),ge=V%1;!ge&&V>=1&&(ge=1),ge===1&&re--,re=Math.min(re,C+1),!!(re%2)&&(N==="reverse"?(ge=1-ge,k&&(ge-=k/v)):N==="mirror"&&(I=u)),A=Sn(0,1,ge)*v}const H=D?{done:!1,value:h[0]}:I.next(A);f&&(H.value=f(H.value));let{done:W}=H;!D&&g!==null&&(W=this.speed>=0?this.currentTime>=y:this.currentTime<=0);const z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&W);return z&&a!==void 0&&(H.value=Ua(h,this.options,a)),E&&E(H.value),z&&this.finish(),H}get duration(){const{resolved:e}=this;return e?xn(e.calculatedDuration):0}get time(){return xn(this.currentTime)}set time(e){e=vn(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=xn(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=WN,onPlay:r,startTime:i}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),r&&r();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const QN=new Set(["opacity","clipPath","filter","transform"]);function YN(t,e,r,{delay:i=0,duration:a=300,repeat:c=0,repeatType:u="loop",ease:f="easeInOut",times:h}={}){const g={[e]:r};h&&(g.offset=h);const y=k0(f,a);return Array.isArray(y)&&(g.easing=y),t.animate(g,{delay:i,duration:a,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:c+1,direction:u==="reverse"?"alternate":"normal"})}const XN=ud(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Sa=10,JN=2e4;function ZN(t){return Td(t.type)||t.type==="spring"||!C0(t.ease)}function eT(t,e){const r=new Fd({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const a=[];let c=0;for(;!i.done&&c<JN;)i=r.sample(c),a.push(i.value),c+=Sa;return{times:void 0,keyframes:a,duration:c-Sa,ease:"linear"}}const iv={anticipate:D0,backInOut:M0,circInOut:V0};function tT(t){return t in iv}class Zm extends Z0{constructor(e){super(e);const{name:r,motionValue:i,element:a,keyframes:c}=this.options;this.resolver=new J0(c,(u,f)=>this.onKeyframesResolved(u,f),r,i,a),this.resolver.scheduleResolve()}initPlayback(e,r){let{duration:i=300,times:a,ease:c,type:u,motionValue:f,name:h,startTime:g}=this.options;if(!f.owner||!f.owner.current)return!1;if(typeof c=="string"&&va()&&tT(c)&&(c=iv[c]),ZN(this.options)){const{onComplete:v,onUpdate:w,motionValue:C,element:N,...k}=this.options,E=eT(e,k);e=E.keyframes,e.length===1&&(e[1]=e[0]),i=E.duration,a=E.times,c=E.ease,u="keyframes"}const y=YN(f.owner.current,h,e,{...this.options,duration:i,times:a,ease:c});return y.startTime=g??this.calcStartTime(),this.pendingTimeline?(Dm(y,this.pendingTimeline),this.pendingTimeline=void 0):y.onfinish=()=>{const{onComplete:v}=this.options;f.set(Ua(e,this.options,r)),v&&v(),this.cancel(),this.resolveFinishedPromise()},{animation:y,duration:i,times:a,type:u,ease:c,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:r}=e;return xn(r)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:r}=e;return xn(r.currentTime||0)}set time(e){const{resolved:r}=this;if(!r)return;const{animation:i}=r;i.currentTime=vn(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:r}=e;return r.playbackRate}set speed(e){const{resolved:r}=this;if(!r)return;const{animation:i}=r;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:r}=e;return r.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:r}=e;return r.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:r}=this;if(!r)return Pt;const{animation:i}=r;Dm(i,e)}return Pt}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:r,keyframes:i,duration:a,type:c,ease:u,times:f}=e;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:g,onUpdate:y,onComplete:v,element:w,...C}=this.options,N=new Fd({...C,keyframes:i,duration:a,type:c,ease:u,times:f,isGenerator:!0}),k=vn(this.time);g.setWithVelocity(N.sample(k-Sa).value,N.sample(k).value,Sa)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:r,name:i,repeatDelay:a,repeatType:c,damping:u,type:f}=e;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:g}=r.owner.getProps();return XN()&&i&&QN.has(i)&&!h&&!g&&!a&&c!=="mirror"&&u!==0&&f!=="inertia"}}const nT={type:"spring",stiffness:500,damping:25,restSpeed:10},rT=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),sT={type:"keyframes",duration:.8},iT={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},oT=(t,{keyframes:e})=>e.length>2?sT:Nr.has(t)?t.startsWith("scale")?rT(e[1]):nT:iT;function aT({when:t,delay:e,delayChildren:r,staggerChildren:i,staggerDirection:a,repeat:c,repeatType:u,repeatDelay:f,from:h,elapsed:g,...y}){return!!Object.keys(y).length}const Ud=(t,e,r,i={},a,c)=>u=>{const f=Nd(i,t)||{},h=f.delay||i.delay||0;let{elapsed:g=0}=i;g=g-vn(h);let y={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-g,onUpdate:w=>{e.set(w),f.onUpdate&&f.onUpdate(w)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:c?void 0:a};aT(f)||(y={...y,...oT(t,y)}),y.duration&&(y.duration=vn(y.duration)),y.repeatDelay&&(y.repeatDelay=vn(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(v=!0)),v&&!c&&e.get()!==void 0){const w=Ua(y.keyframes,f);if(w!==void 0)return Pe.update(()=>{y.onUpdate(w),y.onComplete()}),new Tk([])}return!c&&Zm.supports(y)?new Zm(y):new Fd(y)};function lT({protectedKeys:t,needsAnimating:e},r){const i=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,i}function ov(t,e,{delay:r=0,transitionOverride:i,type:a}={}){var c;let{transition:u=t.getDefaultTransition(),transitionEnd:f,...h}=e;i&&(u=i);const g=[],y=a&&t.animationState&&t.animationState.getState()[a];for(const v in h){const w=t.getValue(v,(c=t.latestValues[v])!==null&&c!==void 0?c:null),C=h[v];if(C===void 0||y&&lT(y,v))continue;const N={delay:r,...Nd(u||{},v)};let k=!1;if(window.MotionHandoffAnimation){const _=j0(t);if(_){const D=window.MotionHandoffAnimation(_,v,Pe);D!==null&&(N.startTime=D,k=!0)}}ju(t,v),w.start(Ud(v,w,C,t.shouldReduceMotion&&b0.has(v)?{type:!1}:N,t,k));const E=w.animation;E&&g.push(E)}return f&&Promise.all(g).then(()=>{Pe.update(()=>{f&&Uk(t,f)})}),g}function Iu(t,e,r={}){var i;const a=Fa(t,e,r.type==="exit"?(i=t.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:c=t.getDefaultTransition()||{}}=a||{};r.transitionOverride&&(c=r.transitionOverride);const u=a?()=>Promise.all(ov(t,a,r)):()=>Promise.resolve(),f=t.variantChildren&&t.variantChildren.size?(g=0)=>{const{delayChildren:y=0,staggerChildren:v,staggerDirection:w}=c;return cT(t,e,y+g,v,w,r)}:()=>Promise.resolve(),{when:h}=c;if(h){const[g,y]=h==="beforeChildren"?[u,f]:[f,u];return g().then(()=>y())}else return Promise.all([u(),f(r.delay)])}function cT(t,e,r=0,i=0,a=1,c){const u=[],f=(t.variantChildren.size-1)*i,h=a===1?(g=0)=>g*i:(g=0)=>f-g*i;return Array.from(t.variantChildren).sort(uT).forEach((g,y)=>{g.notify("AnimationStart",e),u.push(Iu(g,e,{...c,delay:r+h(y)}).then(()=>g.notify("AnimationComplete",e)))}),Promise.all(u)}function uT(t,e){return t.sortNodePosition(e)}function dT(t,e,r={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(c=>Iu(t,c,r));i=Promise.all(a)}else if(typeof e=="string")i=Iu(t,e,r);else{const a=typeof e=="function"?Fa(t,e,r.custom):e;i=Promise.all(ov(t,a,r))}return i.then(()=>{t.notify("AnimationComplete",e)})}function av(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let i=0;i<r;i++)if(e[i]!==t[i])return!1;return!0}const fT=fd.length;function lv(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?lv(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<fT;r++){const i=fd[r],a=t.props[i];(wi(a)||a===!1)&&(e[i]=a)}return e}const hT=[...dd].reverse(),pT=dd.length;function mT(t){return e=>Promise.all(e.map(({animation:r,options:i})=>dT(t,r,i)))}function gT(t){let e=mT(t),r=eg(),i=!0;const a=h=>(g,y)=>{var v;const w=Fa(t,y,h==="exit"?(v=t.presenceContext)===null||v===void 0?void 0:v.custom:void 0);if(w){const{transition:C,transitionEnd:N,...k}=w;g={...g,...k,...N}}return g};function c(h){e=h(t)}function u(h){const{props:g}=t,y=lv(t.parent)||{},v=[],w=new Set;let C={},N=1/0;for(let E=0;E<pT;E++){const _=hT[E],D=r[_],A=g[_]!==void 0?g[_]:y[_],I=wi(A),H=_===h?D.isActive:null;H===!1&&(N=E);let W=A===y[_]&&A!==g[_]&&I;if(W&&i&&t.manuallyAnimateOnMount&&(W=!1),D.protectedKeys={...C},!D.isActive&&H===null||!A&&!D.prevProp||Ia(A)||typeof A=="boolean")continue;const z=yT(D.prevProp,A);let V=z||_===h&&D.isActive&&!W&&I||E>N&&I,re=!1;const ge=Array.isArray(A)?A:[A];let Ge=ge.reduce(a(_),{});H===!1&&(Ge={});const{prevResolvedValues:te={}}=D,pe={...te,...Ge},Le=ue=>{V=!0,w.has(ue)&&(re=!0,w.delete(ue)),D.needsAnimating[ue]=!0;const K=t.getValue(ue);K&&(K.liveStyle=!1)};for(const ue in pe){const K=Ge[ue],ne=te[ue];if(C.hasOwnProperty(ue))continue;let Y=!1;Pu(K)&&Pu(ne)?Y=!av(K,ne):Y=K!==ne,Y?K!=null?Le(ue):w.add(ue):K!==void 0&&w.has(ue)?Le(ue):D.protectedKeys[ue]=!0}D.prevProp=A,D.prevResolvedValues=Ge,D.isActive&&(C={...C,...Ge}),i&&t.blockInitialAnimation&&(V=!1),V&&(!(W&&z)||re)&&v.push(...ge.map(ue=>({animation:ue,options:{type:_}})))}if(w.size){const E={};w.forEach(_=>{const D=t.getBaseTarget(_),A=t.getValue(_);A&&(A.liveStyle=!0),E[_]=D??null}),v.push({animation:E})}let k=!!v.length;return i&&(g.initial===!1||g.initial===g.animate)&&!t.manuallyAnimateOnMount&&(k=!1),i=!1,k?e(v):Promise.resolve()}function f(h,g){var y;if(r[h].isActive===g)return Promise.resolve();(y=t.variantChildren)===null||y===void 0||y.forEach(w=>{var C;return(C=w.animationState)===null||C===void 0?void 0:C.setActive(h,g)}),r[h].isActive=g;const v=u(h);for(const w in r)r[w].protectedKeys={};return v}return{animateChanges:u,setActive:f,setAnimateFunction:c,getState:()=>r,reset:()=>{r=eg(),i=!0}}}function yT(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!av(e,t):!1}function pr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function eg(){return{animate:pr(!0),whileInView:pr(),whileHover:pr(),whileTap:pr(),whileDrag:pr(),whileFocus:pr(),exit:pr()}}class er{constructor(e){this.isMounted=!1,this.node=e}update(){}}class vT extends er{constructor(e){super(e),e.animationState||(e.animationState=gT(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ia(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let xT=0;class wT extends er{constructor(){super(...arguments),this.id=xT++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);r&&!e&&a.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const ST={animation:{Feature:vT},exit:{Feature:wT}};function Ni(t,e,r,i={passive:!0}){return t.addEventListener(e,r,i),()=>t.removeEventListener(e,r)}function Li(t){return{point:{x:t.pageX,y:t.pageY}}}const ET=t=>e=>bd(e)&&t(e,Li(e));function pi(t,e,r,i){return Ni(t,e,ET(r),i)}const tg=(t,e)=>Math.abs(t-e);function CT(t,e){const r=tg(t.x,e.x),i=tg(t.y,e.y);return Math.sqrt(r**2+i**2)}class cv{constructor(e,r,{transformPagePoint:i,contextWindow:a,dragSnapToOrigin:c=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Zc(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,C=CT(v.offset,{x:0,y:0})>=3;if(!w&&!C)return;const{point:N}=v,{timestamp:k}=tt;this.history.push({...N,timestamp:k});const{onStart:E,onMove:_}=this.handlers;w||(E&&E(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,v)},this.handlePointerMove=(v,w)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Jc(w,this.transformPagePoint),Pe.update(this.updatePoint,!0)},this.handlePointerUp=(v,w)=>{this.end();const{onEnd:C,onSessionEnd:N,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=Zc(v.type==="pointercancel"?this.lastMoveEventInfo:Jc(w,this.transformPagePoint),this.history);this.startEvent&&C&&C(v,E),N&&N(v,E)},!bd(e))return;this.dragSnapToOrigin=c,this.handlers=r,this.transformPagePoint=i,this.contextWindow=a||window;const u=Li(e),f=Jc(u,this.transformPagePoint),{point:h}=f,{timestamp:g}=tt;this.history=[{...h,timestamp:g}];const{onSessionStart:y}=r;y&&y(e,Zc(f,this.history)),this.removeListeners=Ai(pi(this.contextWindow,"pointermove",this.handlePointerMove),pi(this.contextWindow,"pointerup",this.handlePointerUp),pi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Yn(this.updatePoint)}}function Jc(t,e){return e?{point:e(t.point)}:t}function ng(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Zc({point:t},e){return{point:t,delta:ng(t,uv(e)),offset:ng(t,kT(e)),velocity:NT(e,.1)}}function kT(t){return t[0]}function uv(t){return t[t.length-1]}function NT(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,i=null;const a=uv(t);for(;r>=0&&(i=t[r],!(a.timestamp-i.timestamp>vn(e)));)r--;if(!i)return{x:0,y:0};const c=xn(a.timestamp-i.timestamp);if(c===0)return{x:0,y:0};const u={x:(a.x-i.x)/c,y:(a.y-i.y)/c};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}const dv=1e-4,TT=1-dv,PT=1+dv,fv=.01,bT=0-fv,_T=0+fv;function dt(t){return t.max-t.min}function jT(t,e,r){return Math.abs(t-e)<=r}function rg(t,e,r,i=.5){t.origin=i,t.originPoint=De(e.min,e.max,t.origin),t.scale=dt(r)/dt(e),t.translate=De(r.min,r.max,t.origin)-t.originPoint,(t.scale>=TT&&t.scale<=PT||isNaN(t.scale))&&(t.scale=1),(t.translate>=bT&&t.translate<=_T||isNaN(t.translate))&&(t.translate=0)}function mi(t,e,r,i){rg(t.x,e.x,r.x,i?i.originX:void 0),rg(t.y,e.y,r.y,i?i.originY:void 0)}function sg(t,e,r){t.min=r.min+e.min,t.max=t.min+dt(e)}function RT(t,e,r){sg(t.x,e.x,r.x),sg(t.y,e.y,r.y)}function ig(t,e,r){t.min=e.min-r.min,t.max=t.min+dt(e)}function gi(t,e,r){ig(t.x,e.x,r.x),ig(t.y,e.y,r.y)}function AT(t,{min:e,max:r},i){return e!==void 0&&t<e?t=i?De(e,t,i.min):Math.max(t,e):r!==void 0&&t>r&&(t=i?De(r,t,i.max):Math.min(t,r)),t}function og(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function LT(t,{top:e,left:r,bottom:i,right:a}){return{x:og(t.x,r,a),y:og(t.y,e,i)}}function ag(t,e){let r=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,i]=[i,r]),{min:r,max:i}}function OT(t,e){return{x:ag(t.x,e.x),y:ag(t.y,e.y)}}function MT(t,e){let r=.5;const i=dt(t),a=dt(e);return a>i?r=os(e.min,e.max-i,t.min):i>a&&(r=os(t.min,t.max-a,e.min)),Sn(0,1,r)}function DT(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const Vu=.35;function IT(t=Vu){return t===!1?t=0:t===!0&&(t=Vu),{x:lg(t,"left","right"),y:lg(t,"top","bottom")}}function lg(t,e,r){return{min:cg(t,e),max:cg(t,r)}}function cg(t,e){return typeof t=="number"?t:t[e]||0}const ug=()=>({translate:0,scale:1,origin:0,originPoint:0}),es=()=>({x:ug(),y:ug()}),dg=()=>({min:0,max:0}),Be=()=>({x:dg(),y:dg()});function Mt(t){return[t("x"),t("y")]}function hv({top:t,left:e,right:r,bottom:i}){return{x:{min:e,max:r},y:{min:t,max:i}}}function VT({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function FT(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:i.y,right:i.x}}function eu(t){return t===void 0||t===1}function Fu({scale:t,scaleX:e,scaleY:r}){return!eu(t)||!eu(e)||!eu(r)}function gr(t){return Fu(t)||pv(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function pv(t){return fg(t.x)||fg(t.y)}function fg(t){return t&&t!=="0%"}function Ea(t,e,r){const i=t-r,a=e*i;return r+a}function hg(t,e,r,i,a){return a!==void 0&&(t=Ea(t,a,i)),Ea(t,r,i)+e}function Uu(t,e=0,r=1,i,a){t.min=hg(t.min,e,r,i,a),t.max=hg(t.max,e,r,i,a)}function mv(t,{x:e,y:r}){Uu(t.x,e.translate,e.scale,e.originPoint),Uu(t.y,r.translate,r.scale,r.originPoint)}const pg=.999999999999,mg=1.0000000000001;function UT(t,e,r,i=!1){const a=r.length;if(!a)return;e.x=e.y=1;let c,u;for(let f=0;f<a;f++){c=r[f],u=c.projectionDelta;const{visualElement:h}=c.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&c.options.layoutScroll&&c.scroll&&c!==c.root&&ns(t,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,mv(t,u)),i&&gr(c.latestValues)&&ns(t,c.latestValues))}e.x<mg&&e.x>pg&&(e.x=1),e.y<mg&&e.y>pg&&(e.y=1)}function ts(t,e){t.min=t.min+e,t.max=t.max+e}function gg(t,e,r,i,a=.5){const c=De(t.min,t.max,a);Uu(t,e,r,c,i)}function ns(t,e){gg(t.x,e.x,e.scaleX,e.scale,e.originX),gg(t.y,e.y,e.scaleY,e.scale,e.originY)}function gv(t,e){return hv(FT(t.getBoundingClientRect(),e))}function BT(t,e,r){const i=gv(t,r),{scroll:a}=e;return a&&(ts(i.x,a.offset.x),ts(i.y,a.offset.y)),i}const yv=({current:t})=>t?t.ownerDocument.defaultView:null,zT=new WeakMap;class $T{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Be(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=y=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Li(y).point)},c=(y,v)=>{const{drag:w,dragPropagation:C,onDragStart:N}=this.getProps();if(w&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Mk(w),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Mt(E=>{let _=this.getAxisMotionValue(E).get()||0;if(on.test(_)){const{projection:D}=this.visualElement;if(D&&D.layout){const A=D.layout.layoutBox[E];A&&(_=dt(A)*(parseFloat(_)/100))}}this.originPoint[E]=_}),N&&Pe.postRender(()=>N(y,v)),ju(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},u=(y,v)=>{const{dragPropagation:w,dragDirectionLock:C,onDirectionLock:N,onDrag:k}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:E}=v;if(C&&this.currentDirection===null){this.currentDirection=HT(E),this.currentDirection!==null&&N&&N(this.currentDirection);return}this.updateAxis("x",v.point,E),this.updateAxis("y",v.point,E),this.visualElement.render(),k&&k(y,v)},f=(y,v)=>this.stop(y,v),h=()=>Mt(y=>{var v;return this.getAnimationState(y)==="paused"&&((v=this.getAxisMotionValue(y).animation)===null||v===void 0?void 0:v.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new cv(e,{onSessionStart:a,onStart:c,onMove:u,onSessionEnd:f,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,contextWindow:yv(this.visualElement)})}stop(e,r){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:c}=this.getProps();c&&Pe.postRender(()=>c(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,i){const{drag:a}=this.getProps();if(!i||!Xo(e,a,this.currentDirection))return;const c=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=AT(u,this.constraints[e],this.elastic[e])),c.set(u)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:i}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,c=this.constraints;r&&Jr(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&a?this.constraints=LT(a.layoutBox,r):this.constraints=!1,this.elastic=IT(i),c!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Mt(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=DT(a.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Jr(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const c=BT(i,a.root,this.visualElement.getTransformPagePoint());let u=OT(a.layout.layoutBox,c);if(r){const f=r(VT(u));this.hasMutatedConstraints=!!f,f&&(u=hv(f))}return u}startAnimation(e){const{drag:r,dragMomentum:i,dragElastic:a,dragTransition:c,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),h=this.constraints||{},g=Mt(y=>{if(!Xo(y,r,this.currentDirection))return;let v=h&&h[y]||{};u&&(v={min:0,max:0});const w=a?200:1e6,C=a?40:1e7,N={type:"inertia",velocity:i?e[y]:0,bounceStiffness:w,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...c,...v};return this.startAxisValueAnimation(y,N)});return Promise.all(g).then(f)}startAxisValueAnimation(e,r){const i=this.getAxisMotionValue(e);return ju(this.visualElement,e),i.start(Ud(e,i,0,r,this.visualElement,!1))}stopAnimation(){Mt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Mt(e=>{var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[r];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Mt(r=>{const{drag:i}=this.getProps();if(!Xo(r,i,this.currentDirection))return;const{projection:a}=this.visualElement,c=this.getAxisMotionValue(r);if(a&&a.layout){const{min:u,max:f}=a.layout.layoutBox[r];c.set(e[r]-De(u,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:i}=this.visualElement;if(!Jr(r)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Mt(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const h=f.get();a[u]=MT({min:h,max:h},this.constraints[u])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Mt(u=>{if(!Xo(u,e,null))return;const f=this.getAxisMotionValue(u),{min:h,max:g}=this.constraints[u];f.set(De(h,g,a[u]))})}addListeners(){if(!this.visualElement.current)return;zT.set(this.visualElement,this);const e=this.visualElement.current,r=pi(e,"pointerdown",h=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();Jr(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,c=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Pe.read(i);const u=Ni(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",({delta:h,hasLayoutChanged:g})=>{this.isDragging&&g&&(Mt(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=h[y].translate,v.set(v.get()+h[y].translate))}),this.visualElement.render())});return()=>{u(),r(),c(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:c=!1,dragElastic:u=Vu,dragMomentum:f=!0}=e;return{...e,drag:r,dragDirectionLock:i,dragPropagation:a,dragConstraints:c,dragElastic:u,dragMomentum:f}}}function Xo(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function HT(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class GT extends er{constructor(e){super(e),this.removeGroupControls=Pt,this.removeListeners=Pt,this.controls=new $T(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Pt}unmount(){this.removeGroupControls(),this.removeListeners()}}const yg=t=>(e,r)=>{t&&Pe.postRender(()=>t(e,r))};class WT extends er{constructor(){super(...arguments),this.removePointerDownListener=Pt}onPointerDown(e){this.session=new cv(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:yv(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:yg(e),onStart:yg(r),onMove:i,onEnd:(c,u)=>{delete this.session,a&&Pe.postRender(()=>a(c,u))}}}mount(){this.removePointerDownListener=pi(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const da={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function vg(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ai={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(oe.test(t))t=parseFloat(t);else return t;const r=vg(t,e.target.x),i=vg(t,e.target.y);return`${r}% ${i}%`}},KT={correct:(t,{treeScale:e,projectionDelta:r})=>{const i=t,a=Xn.parse(t);if(a.length>5)return i;const c=Xn.createTransformer(t),u=typeof a[0]!="number"?1:0,f=r.x.scale*e.x,h=r.y.scale*e.y;a[0+u]/=f,a[1+u]/=h;const g=De(f,h,.5);return typeof a[2+u]=="number"&&(a[2+u]/=g),typeof a[3+u]=="number"&&(a[3+u]/=g),c(a)}};class qT extends T.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:i,layoutId:a}=this.props,{projection:c}=e;Z2(QT),c&&(r.group&&r.group.add(c),i&&i.register&&a&&i.register(c),c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),da.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:i,drag:a,isPresent:c}=this.props,u=i.projection;return u&&(u.isPresent=c,a||e.layoutDependency!==r||r===void 0?u.willUpdate():this.safeToRemove(),e.isPresent!==c&&(c?u.promote():u.relegate()||Pe.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),pd.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:i}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function vv(t){const[e,r]=j2(),i=T.useContext(e0);return p.jsx(qT,{...t,layoutGroup:i,switchLayoutGroup:T.useContext(l0),isPresent:e,safeToRemove:r})}const QT={borderRadius:{...ai,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ai,borderTopRightRadius:ai,borderBottomLeftRadius:ai,borderBottomRightRadius:ai,boxShadow:KT};function YT(t,e,r){const i=lt(t)?t:Ci(t);return i.start(Ud("",i,e,r)),i.animation}function XT(t){return t instanceof SVGElement&&t.tagName!=="svg"}const JT=(t,e)=>t.depth-e.depth;class ZT{constructor(){this.children=[],this.isDirty=!1}add(e){_d(this.children,e),this.isDirty=!0}remove(e){jd(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(JT),this.isDirty=!1,this.children.forEach(e)}}function eP(t,e){const r=an.now(),i=({timestamp:a})=>{const c=a-r;c>=e&&(Yn(i),t(c-e))};return Pe.read(i,!0),()=>Yn(i)}const xv=["TopLeft","TopRight","BottomLeft","BottomRight"],tP=xv.length,xg=t=>typeof t=="string"?parseFloat(t):t,wg=t=>typeof t=="number"||oe.test(t);function nP(t,e,r,i,a,c){a?(t.opacity=De(0,r.opacity!==void 0?r.opacity:1,rP(i)),t.opacityExit=De(e.opacity!==void 0?e.opacity:1,0,sP(i))):c&&(t.opacity=De(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,i));for(let u=0;u<tP;u++){const f=`border${xv[u]}Radius`;let h=Sg(e,f),g=Sg(r,f);if(h===void 0&&g===void 0)continue;h||(h=0),g||(g=0),h===0||g===0||wg(h)===wg(g)?(t[f]=Math.max(De(xg(h),xg(g),i),0),(on.test(g)||on.test(h))&&(t[f]+="%")):t[f]=g}(e.rotate||r.rotate)&&(t.rotate=De(e.rotate||0,r.rotate||0,i))}function Sg(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const rP=wv(0,.5,I0),sP=wv(.5,.95,Pt);function wv(t,e,r){return i=>i<t?0:i>e?1:r(os(t,e,i))}function Eg(t,e){t.min=e.min,t.max=e.max}function Ot(t,e){Eg(t.x,e.x),Eg(t.y,e.y)}function Cg(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function kg(t,e,r,i,a){return t-=e,t=Ea(t,1/r,i),a!==void 0&&(t=Ea(t,1/a,i)),t}function iP(t,e=0,r=1,i=.5,a,c=t,u=t){if(on.test(e)&&(e=parseFloat(e),e=De(u.min,u.max,e/100)-u.min),typeof e!="number")return;let f=De(c.min,c.max,i);t===c&&(f-=e),t.min=kg(t.min,e,r,f,a),t.max=kg(t.max,e,r,f,a)}function Ng(t,e,[r,i,a],c,u){iP(t,e[r],e[i],e[a],e.scale,c,u)}const oP=["x","scaleX","originX"],aP=["y","scaleY","originY"];function Tg(t,e,r,i){Ng(t.x,e,oP,r?r.x:void 0,i?i.x:void 0),Ng(t.y,e,aP,r?r.y:void 0,i?i.y:void 0)}function Pg(t){return t.translate===0&&t.scale===1}function Sv(t){return Pg(t.x)&&Pg(t.y)}function bg(t,e){return t.min===e.min&&t.max===e.max}function lP(t,e){return bg(t.x,e.x)&&bg(t.y,e.y)}function _g(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Ev(t,e){return _g(t.x,e.x)&&_g(t.y,e.y)}function jg(t){return dt(t.x)/dt(t.y)}function Rg(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class cP{constructor(){this.members=[]}add(e){_d(this.members,e),e.scheduleRender()}remove(e){if(jd(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(a=>e===a);if(r===0)return!1;let i;for(let a=r;a>=0;a--){const c=this.members[a];if(c.isPresent!==!1){i=c;break}}return i?(this.promote(i),!0):!1}promote(e,r){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,r&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:i}=e;r.onExitComplete&&r.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function uP(t,e,r){let i="";const a=t.x.translate/e.x,c=t.y.translate/e.y,u=(r==null?void 0:r.z)||0;if((a||c||u)&&(i=`translate3d(${a}px, ${c}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:g,rotate:y,rotateX:v,rotateY:w,skewX:C,skewY:N}=r;g&&(i=`perspective(${g}px) ${i}`),y&&(i+=`rotate(${y}deg) `),v&&(i+=`rotateX(${v}deg) `),w&&(i+=`rotateY(${w}deg) `),C&&(i+=`skewX(${C}deg) `),N&&(i+=`skewY(${N}deg) `)}const f=t.x.scale*e.x,h=t.y.scale*e.y;return(f!==1||h!==1)&&(i+=`scale(${f}, ${h})`),i||"none"}const yr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},fi=typeof window<"u"&&window.MotionDebug!==void 0,tu=["","X","Y","Z"],dP={visibility:"hidden"},Ag=1e3;let fP=0;function nu(t,e,r,i){const{latestValues:a}=e;a[t]&&(r[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function Cv(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=j0(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:c}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",Pe,!(a||c))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&Cv(i)}function kv({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(u={},f=e==null?void 0:e()){this.id=fP++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,fi&&(yr.totalNodes=yr.resolvedTargetDeltas=yr.recalculatedProjection=0),this.nodes.forEach(mP),this.nodes.forEach(wP),this.nodes.forEach(SP),this.nodes.forEach(gP),fi&&window.MotionDebug.record(yr)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new ZT)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Rd),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const h=this.eventHandlers.get(u);h&&h.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,f=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=XT(u),this.instance=u;const{layoutId:h,layout:g,visualElement:y}=this.options;if(y&&!y.current&&y.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),f&&(g||h)&&(this.isLayoutDirty=!0),t){let v;const w=()=>this.root.updateBlockedByResize=!1;t(u,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=eP(w,250),da.hasAnimatedSinceResize&&(da.hasAnimatedSinceResize=!1,this.nodes.forEach(Og))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&y&&(h||g)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:w,hasRelativeLayoutChanged:C,layout:N})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||y.getDefaultTransition()||TP,{onLayoutAnimationStart:E,onLayoutAnimationComplete:_}=y.getProps(),D=!this.targetLayout||!Ev(this.targetLayout,N),A=!w&&C;if(this.options.layoutRoot||this.resumeFrom||A||w&&(D||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,A);const I={...Nd(k,"layout"),onPlay:E,onComplete:_};(y.shouldReduceMotion||this.options.layoutRoot)&&(I.delay=0,I.type=!1),this.startAnimation(I)}else w||Og(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=N})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Yn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(EP),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Cv(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:f,layout:h}=this.options;if(f===void 0&&!h)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Lg);return}this.isUpdating||this.nodes.forEach(vP),this.isUpdating=!1,this.nodes.forEach(xP),this.nodes.forEach(hP),this.nodes.forEach(pP),this.clearAllSnapshots();const f=an.now();tt.delta=Sn(0,1e3/60,f-tt.timestamp),tt.timestamp=f,tt.isProcessing=!0,Kc.update.process(tt),Kc.preRender.process(tt),Kc.render.process(tt),tt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,pd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(yP),this.sharedNodes.forEach(CP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Pe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Pe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!dt(this.snapshot.measuredBox.x)&&!dt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Be(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:h,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!Sv(this.projectionDelta),h=this.getTransformTemplate(),g=h?h(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;u&&(f||gr(this.latestValues)||y)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let h=this.removeElementScroll(f);return u&&(h=this.removeTransform(h)),PP(h),{animationId:this.root.animationId,measuredBox:f,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:f}=this.options;if(!f)return Be();const h=f.measureViewportBox();if(!(((u=this.scroll)===null||u===void 0?void 0:u.wasRoot)||this.path.some(bP))){const{scroll:y}=this.root;y&&(ts(h.x,y.offset.x),ts(h.y,y.offset.y))}return h}removeElementScroll(u){var f;const h=Be();if(Ot(h,u),!((f=this.scroll)===null||f===void 0)&&f.wasRoot)return h;for(let g=0;g<this.path.length;g++){const y=this.path[g],{scroll:v,options:w}=y;y!==this.root&&v&&w.layoutScroll&&(v.wasRoot&&Ot(h,u),ts(h.x,v.offset.x),ts(h.y,v.offset.y))}return h}applyTransform(u,f=!1){const h=Be();Ot(h,u);for(let g=0;g<this.path.length;g++){const y=this.path[g];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&ns(h,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),gr(y.latestValues)&&ns(h,y.latestValues)}return gr(this.latestValues)&&ns(h,this.latestValues),h}removeTransform(u){const f=Be();Ot(f,u);for(let h=0;h<this.path.length;h++){const g=this.path[h];if(!g.instance||!gr(g.latestValues))continue;Fu(g.latestValues)&&g.updateSnapshot();const y=Be(),v=g.measurePageBox();Ot(y,v),Tg(f,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return gr(this.latestValues)&&Tg(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==tt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var f;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==h;if(!(u||g&&this.isSharedProjectionDirty||this.isProjectionDirty||!((f=this.parent)===null||f===void 0)&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:w}=this.options;if(!(!this.layout||!(v||w))){if(this.resolvedRelativeTargetAt=tt.timestamp,!this.targetDelta&&!this.relativeTarget){const C=this.getClosestProjectingParent();C&&C.layout&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Be(),this.relativeTargetOrigin=Be(),gi(this.relativeTargetOrigin,this.layout.layoutBox,C.layout.layoutBox),Ot(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Be(),this.targetWithTransforms=Be()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),RT(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ot(this.target,this.layout.layoutBox),mv(this.target,this.targetDelta)):Ot(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const C=this.getClosestProjectingParent();C&&!!C.resumingFrom==!!this.resumingFrom&&!C.options.layoutScroll&&C.target&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Be(),this.relativeTargetOrigin=Be(),gi(this.relativeTargetOrigin,this.target,C.target),Ot(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}fi&&yr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Fu(this.parent.latestValues)||pv(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const f=this.getLead(),h=!!this.resumingFrom||this!==f;let g=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(g=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===tt.timestamp&&(g=!1),g)return;const{layout:y,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||v))return;Ot(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,C=this.treeScale.y;UT(this.layoutCorrected,this.treeScale,this.path,h),f.layout&&!f.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(f.target=f.layout.layoutBox,f.targetWithTransforms=Be());const{target:N}=f;if(!N){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Cg(this.prevProjectionDelta.x,this.projectionDelta.x),Cg(this.prevProjectionDelta.y,this.projectionDelta.y)),mi(this.projectionDelta,this.layoutCorrected,N,this.latestValues),(this.treeScale.x!==w||this.treeScale.y!==C||!Rg(this.projectionDelta.x,this.prevProjectionDelta.x)||!Rg(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",N)),fi&&yr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var f;if((f=this.options.visualElement)===null||f===void 0||f.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=es(),this.projectionDelta=es(),this.projectionDeltaWithTransform=es()}setAnimationOrigin(u,f=!1){const h=this.snapshot,g=h?h.latestValues:{},y={...this.latestValues},v=es();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const w=Be(),C=h?h.source:void 0,N=this.layout?this.layout.source:void 0,k=C!==N,E=this.getStack(),_=!E||E.members.length<=1,D=!!(k&&!_&&this.options.crossfade===!0&&!this.path.some(NP));this.animationProgress=0;let A;this.mixTargetDelta=I=>{const H=I/1e3;Mg(v.x,u.x,H),Mg(v.y,u.y,H),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(gi(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),kP(this.relativeTarget,this.relativeTargetOrigin,w,H),A&&lP(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=Be()),Ot(A,this.relativeTarget)),k&&(this.animationValues=y,nP(y,g,this.latestValues,H,D,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=H},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Yn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Pe.update(()=>{da.hasAnimatedSinceResize=!0,this.currentAnimation=YT(0,Ag,{...u,onUpdate:f=>{this.mixTargetDelta(f),u.onUpdate&&u.onUpdate(f)},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ag),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:h,layout:g,latestValues:y}=u;if(!(!f||!h||!g)){if(this!==u&&this.layout&&g&&Nv(this.options.animationType,this.layout.layoutBox,g.layoutBox)){h=this.target||Be();const v=dt(this.layout.layoutBox.x);h.x.min=u.target.x.min,h.x.max=h.x.min+v;const w=dt(this.layout.layoutBox.y);h.y.min=u.target.y.min,h.y.max=h.y.min+w}Ot(f,h),ns(f,y),mi(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new cP),this.sharedNodes.get(u).add(f);const g=f.options.initialPromotionConfig;f.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:f}=this.options;return f?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:f}=this.options;return f?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:h}={}){const g=this.getStack();g&&g.promote(this,h),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:h}=u;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(f=!0),!f)return;const g={};h.z&&nu("z",u,g,this.animationValues);for(let y=0;y<tu.length;y++)nu(`rotate${tu[y]}`,u,g,this.animationValues),nu(`skew${tu[y]}`,u,g,this.animationValues);u.render();for(const y in g)u.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);u.scheduleRender()}getProjectionStyles(u){var f,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return dP;const g={visibility:""},y=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,g.opacity="",g.pointerEvents=ca(u==null?void 0:u.pointerEvents)||"",g.transform=y?y(this.latestValues,""):"none",g;const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){const k={};return this.options.layoutId&&(k.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,k.pointerEvents=ca(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!gr(this.latestValues)&&(k.transform=y?y({},""):"none",this.hasProjected=!1),k}const w=v.animationValues||v.latestValues;this.applyTransformsToTarget(),g.transform=uP(this.projectionDeltaWithTransform,this.treeScale,w),y&&(g.transform=y(w,g.transform));const{x:C,y:N}=this.projectionDelta;g.transformOrigin=`${C.origin*100}% ${N.origin*100}% 0`,v.animationValues?g.opacity=v===this?(h=(f=w.opacity)!==null&&f!==void 0?f:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:w.opacityExit:g.opacity=v===this?w.opacity!==void 0?w.opacity:"":w.opacityExit!==void 0?w.opacityExit:0;for(const k in Si){if(w[k]===void 0)continue;const{correct:E,applyTo:_,isCSSVariable:D}=Si[k],A=g.transform==="none"?w[k]:E(w[k],v);if(_){const I=_.length;for(let H=0;H<I;H++)g[_[H]]=A}else D?this.options.visualElement.renderState.vars[k]=A:g[k]=A}return this.options.layoutId&&(g.pointerEvents=v===this?ca(u==null?void 0:u.pointerEvents)||"":"none"),g}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var f;return(f=u.currentAnimation)===null||f===void 0?void 0:f.stop()}),this.root.nodes.forEach(Lg),this.root.sharedNodes.clear()}}}function hP(t){t.updateLayout()}function pP(t){var e;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:a}=t.layout,{animationType:c}=t.options,u=r.source!==t.layout.source;c==="size"?Mt(v=>{const w=u?r.measuredBox[v]:r.layoutBox[v],C=dt(w);w.min=i[v].min,w.max=w.min+C}):Nv(c,r.layoutBox,i)&&Mt(v=>{const w=u?r.measuredBox[v]:r.layoutBox[v],C=dt(i[v]);w.max=w.min+C,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+C)});const f=es();mi(f,i,r.layoutBox);const h=es();u?mi(h,t.applyTransform(a,!0),r.measuredBox):mi(h,i,r.layoutBox);const g=!Sv(f);let y=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:w,layout:C}=v;if(w&&C){const N=Be();gi(N,r.layoutBox,w.layoutBox);const k=Be();gi(k,i,C.layoutBox),Ev(N,k)||(y=!0),v.options.layoutRoot&&(t.relativeTarget=k,t.relativeTargetOrigin=N,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:r,delta:h,layoutDelta:f,hasLayoutChanged:g,hasRelativeLayoutChanged:y})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function mP(t){fi&&yr.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function gP(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function yP(t){t.clearSnapshot()}function Lg(t){t.clearMeasurements()}function vP(t){t.isLayoutDirty=!1}function xP(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Og(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function wP(t){t.resolveTargetDelta()}function SP(t){t.calcProjection()}function EP(t){t.resetSkewAndRotation()}function CP(t){t.removeLeadSnapshot()}function Mg(t,e,r){t.translate=De(e.translate,0,r),t.scale=De(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function Dg(t,e,r,i){t.min=De(e.min,r.min,i),t.max=De(e.max,r.max,i)}function kP(t,e,r,i){Dg(t.x,e.x,r.x,i),Dg(t.y,e.y,r.y,i)}function NP(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const TP={duration:.45,ease:[.4,0,.1,1]},Ig=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Vg=Ig("applewebkit/")&&!Ig("chrome/")?Math.round:Pt;function Fg(t){t.min=Vg(t.min),t.max=Vg(t.max)}function PP(t){Fg(t.x),Fg(t.y)}function Nv(t,e,r){return t==="position"||t==="preserve-aspect"&&!jT(jg(e),jg(r),.2)}function bP(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const _P=kv({attachResizeListener:(t,e)=>Ni(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ru={current:void 0},Tv=kv({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ru.current){const t=new _P({});t.mount(window),t.setOptions({layoutScroll:!0}),ru.current=t}return ru.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),jP={pan:{Feature:WT},drag:{Feature:GT,ProjectionNode:Tv,MeasureLayout:vv}};function Ug(t,e,r){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,c=i[a];c&&Pe.postRender(()=>c(e,Li(e)))}class RP extends er{mount(){const{current:e}=this.node;e&&(this.unmount=jk(e,(r,i)=>(Ug(this.node,i,"Start"),a=>Ug(this.node,a,"End"))))}unmount(){}}class AP extends er{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ai(Ni(this.node.current,"focus",()=>this.onFocus()),Ni(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Bg(t,e,r){const{props:i}=t;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),c=i[a];c&&Pe.postRender(()=>c(e,Li(e)))}class LP extends er{mount(){const{current:e}=this.node;e&&(this.unmount=Ok(e,(r,i)=>(Bg(this.node,i,"Start"),(a,{success:c})=>Bg(this.node,a,c?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Bu=new WeakMap,su=new WeakMap,OP=t=>{const e=Bu.get(t.target);e&&e(t)},MP=t=>{t.forEach(OP)};function DP({root:t,...e}){const r=t||document;su.has(r)||su.set(r,{});const i=su.get(r),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(MP,{root:t,...e})),i[a]}function IP(t,e,r){const i=DP(e);return Bu.set(t,r),i.observe(t),()=>{Bu.delete(t),i.unobserve(t)}}const VP={some:0,all:1};class FP extends er{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:i,amount:a="some",once:c}=e,u={root:r?r.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:VP[a]},f=h=>{const{isIntersecting:g}=h;if(this.isInView===g||(this.isInView=g,c&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),w=g?y:v;w&&w(h)};return IP(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(UP(e,r))&&this.startObserver()}unmount(){}}function UP({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const BP={inView:{Feature:FP},tap:{Feature:LP},focus:{Feature:AP},hover:{Feature:RP}},zP={layout:{ProjectionNode:Tv,MeasureLayout:vv}},zu={current:null},Pv={current:!1};function $P(){if(Pv.current=!0,!!cd)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>zu.current=t.matches;t.addListener(e),e()}else zu.current=!1}const HP=[...X0,ot,Xn],GP=t=>HP.find(Y0(t)),WP=new WeakMap;function KP(t,e,r){for(const i in e){const a=e[i],c=r[i];if(lt(a))t.addValue(i,a);else if(lt(c))t.addValue(i,Ci(a,{owner:t}));else if(c!==a)if(t.hasValue(i)){const u=t.getValue(i);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(i);t.addValue(i,Ci(u!==void 0?u:a,{owner:t}))}}for(const i in r)e[i]===void 0&&t.removeValue(i);return e}const zg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class qP{scrapeMotionValuesFromProps(e,r,i){return{}}constructor({parent:e,props:r,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:c,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Id,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const C=an.now();this.renderScheduledAt<C&&(this.renderScheduledAt=C,Pe.render(this.render,!1,!0))};const{latestValues:h,renderState:g,onUpdate:y}=u;this.onUpdate=y,this.latestValues=h,this.baseTarget={...h},this.initialValues=r.initial?{...h}:{},this.renderState=g,this.parent=e,this.props=r,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!c,this.isControllingVariants=Va(r),this.isVariantNode=o0(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...w}=this.scrapeMotionValuesFromProps(r,{},this);for(const C in w){const N=w[C];h[C]!==void 0&&lt(N)&&N.set(h[C],!1)}}mount(e){this.current=e,WP.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),Pv.current||$P(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:zu.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Yn(this.notifyUpdate),Yn(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Nr.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",f=>{this.latestValues[e]=f,this.props.onUpdate&&Pe.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),c=r.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{a(),c(),u&&u(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in as){const r=as[e];if(!r)continue;const{isEnabled:i,Feature:a}=r;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const c=this.features[e];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Be()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let i=0;i<zg.length;i++){const a=zg[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const c="on"+a,u=e[c];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=KP(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const i=this.values.get(e);r!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&r!==void 0&&(i=Ci(r===null?void 0:r,{owner:this}),this.addValue(e,i)),i}readValue(e,r){var i;let a=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return a!=null&&(typeof a=="string"&&(q0(a)||F0(a))?a=parseFloat(a):!GP(a)&&Xn.test(r)&&(a=G0(e,r)),this.setBaseTarget(e,lt(a)?a.get():a)),lt(a)?a.get():a}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:i}=this.props;let a;if(typeof i=="string"||typeof i=="object"){const u=Cd(this.props,i,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);u&&(a=u[e])}if(i&&a!==void 0)return a;const c=this.getBaseTargetFromProps(this.props,e);return c!==void 0&&!lt(c)?c:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new Rd),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class bv extends qP{constructor(){super(...arguments),this.KeyframeResolver=J0}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:i}){delete r[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;lt(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function QP(t){return window.getComputedStyle(t)}class YP extends bv{constructor(){super(...arguments),this.type="html",this.renderInstance=y0}readValueFromInstance(e,r){if(Nr.has(r)){const i=Dd(r);return i&&i.default||0}else{const i=QP(e),a=(md(r)?i.getPropertyValue(r):i[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:r}){return gv(e,r)}build(e,r,i){vd(e,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,r,i){return kd(e,r,i)}}class XP extends bv{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Be,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&g0(this.current,this.renderState)}}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Nr.has(r)){const i=Dd(r);return i&&i.default||0}return r=v0.has(r)?r:hd(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,i){return w0(e,r,i)}onBindTransform(){this.current&&!this.renderState.dimensions&&Pe.postRender(this.updateDimensions)}build(e,r,i){Sd(e,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,r,i,a){x0(e,r,i,a)}mount(e){this.isSVGTag=Ed(e.tagName),super.mount(e)}}const JP=(t,e)=>wd(t)?new XP(e):new YP(e,{allowProjection:t!==T.Fragment}),ZP=Ck({...ST,...BP,...jP,...zP},JP),iu=F2(ZP),Ba=({title:t,subtitle:e})=>p.jsx("div",{className:"hidden lg:flex items-center justify-center bg-base-200 p-12 animate-fadeIn",children:p.jsxs("div",{className:"max-w-md text-center",children:[p.jsx("div",{className:"grid grid-cols-3 gap-3 mb-8",children:[...Array(9)].map((r,i)=>p.jsx(iu.div,{className:"aspect-square rounded-2xl bg-primary/10",animate:{opacity:[.3,1,.3]},transition:{duration:1.5,repeat:1/0,delay:i%3*.3}},i))}),p.jsx(iu.h2,{className:"text-2xl font-bold mb-4",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.6},children:t}),p.jsx(iu.p,{className:"text-base-content/60",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:e})]})}),eb=()=>{const[t,e]=T.useState(!1),[r,i]=T.useState({email:"",password:""}),[a,c]=T.useState(null),{login:u,isLoggingIn:f}=we(),h=It(),g=()=>!r.email||!r.password?(c("Both fields are required."),!1):r.email.match(/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/)?!0:(c("Invalid email format."),!1),y=async w=>{if(w.preventDefault(),c(null),!!g())try{await u(r,h)}catch{c("Invalid email or password.")}},v=async()=>{try{const{google:w}=window;if(!w){q.error("Google API not available");return}const C="280618092403-86p6hao78rked7bhusmsvdouovhc56jl.apps.googleusercontent.com";console.log("Google Client ID from env:",C),console.log("Google Client ID from config:",Je.GOOGLE.CLIENT_ID),w.accounts.oauth2.initCodeClient({client_id:C,scope:"profile email",callback:async k=>{if(k.error){q.error("Google authentication failed");return}try{console.log("Google auth code received, sending to backend"),await we.getState().googleLogin({code:k.code},h)}catch(E){console.error("Google auth error:",E),q.error("Failed to authenticate with Google")}}}).requestCode()}catch(w){console.error("Google login error:",w),q.error("Failed to initialize Google login")}};return p.jsxs("div",{className:"h-screen grid lg:grid-cols-2",children:[p.jsx("div",{className:"flex flex-col justify-center items-center p-6 sm:p-12",children:p.jsxs("div",{className:"w-full max-w-md space-y-8",children:[p.jsx("div",{className:"text-center mb-8",children:p.jsxs("div",{className:"flex flex-col items-center gap-2 group",children:[p.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center group-hover:bg-primary/20 transition-colors",children:p.jsx(_i,{className:"w-6 h-6 text-primary"})}),p.jsx("h1",{className:"text-2xl font-bold mt-2",children:"Welcome Back"}),p.jsx("p",{className:"text-base-content/60",children:"Sign in to your account"})]})}),a&&p.jsx("p",{className:"text-red-500 text-sm text-center bg-red-100 p-2 rounded-lg",children:a}),p.jsxs("form",{onSubmit:y,className:"space-y-6",children:[p.jsxs("div",{className:"form-control",children:[p.jsx("label",{className:"label",children:p.jsx("span",{className:"label-text font-medium",children:"Email"})}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(Cr,{className:"h-5 w-5 text-base-content/40"})}),p.jsx("input",{type:"email",className:"input input-bordered w-full pl-10",placeholder:"you@example.com",value:r.email,onChange:w=>i({...r,email:w.target.value}),onKeyDown:w=>w.key==="Enter"&&y(w)})]})]}),p.jsxs("div",{className:"form-control",children:[p.jsx("label",{className:"label",children:p.jsx("span",{className:"label-text font-medium",children:"Password"})}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(ga,{className:"h-5 w-5 text-base-content/40"})}),p.jsx("input",{type:t?"text":"password",className:"input input-bordered w-full pl-10",placeholder:"••••••••",value:r.password,onChange:w=>i({...r,password:w.target.value}),onKeyDown:w=>w.key==="Enter"&&y(w)}),p.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>e(!t),children:t?p.jsx(sd,{className:"h-5 w-5 text-base-content/40"}):p.jsx(id,{className:"h-5 w-5 text-base-content/40"})})]})]}),p.jsx("button",{type:"submit",className:"btn btn-primary w-full",disabled:f,children:f?p.jsxs(p.Fragment,{children:[p.jsx(Ma,{className:"h-5 w-5 animate-spin"}),"Loading..."]}):"Sign in"}),p.jsx("div",{className:"text-center mt-4",children:p.jsx(Qt,{to:"/forgot-password",className:"text-sm text-primary hover:underline",children:"Forgot Password?"})})]}),p.jsxs("button",{onClick:v,className:"btn btn-outline w-full flex items-center gap-2",disabled:f,children:[p.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/720/720255.png",alt:"Google",className:"h-5 w-5"}),"Sign in with Google"]}),p.jsx("div",{className:"text-center",children:p.jsxs("p",{className:"text-base-content/60",children:["Don't have an account?"," ",p.jsx(Qt,{to:"/signup",className:"link link-primary",children:"Create account"})]})})]})}),p.jsx(Ba,{title:"Welcome back!",subtitle:"Sign in to continue your conversations and catch up with your messages."})]})},tb=()=>{const[t,e]=T.useState(!1),[r,i]=T.useState({fullName:"",email:"",password:""}),[a,c]=T.useState({}),{signup:u,isSigningUp:f}=we(),h=It(),g=()=>{let w={};return r.fullName.trim()||(w.fullName="Full name is required."),r.email.trim()?/\S+@\S+\.\S+/.test(r.email)||(w.email="Invalid email format."):w.email="Email is required.",r.password?r.password.length<6&&(w.password="Password must be at least 6 characters."):w.password="Password is required.",c(w),Object.keys(w).length===0},y=async w=>{if(w.preventDefault(),!!g())try{await u(r),q.success("Account created! Please check your email to verify.")}catch{q.error("Signup failed. Try again.")}},v=async()=>{try{const{google:w}=window;if(!w){q.error("Google API not available");return}const C="280618092403-86p6hao78rked7bhusmsvdouovhc56jl.apps.googleusercontent.com";console.log("Google Client ID from env:",C),console.log("Google Client ID from config:",Je.GOOGLE.CLIENT_ID),w.accounts.oauth2.initCodeClient({client_id:C,scope:"profile email",callback:async k=>{if(k.error){q.error("Google authentication failed");return}try{console.log("Google auth code received, sending to backend"),await we.getState().googleLogin({code:k.code},h)}catch(E){console.error("Google auth error:",E),q.error("Failed to authenticate with Google")}}}).requestCode()}catch(w){console.error("Google login error:",w),q.error("Failed to initialize Google login")}};return p.jsxs("div",{className:"min-h-screen grid lg:grid-cols-2",children:[p.jsx("div",{className:"flex flex-col justify-center items-center p-6 sm:p-12",children:p.jsxs("div",{className:"w-full max-w-md space-y-8",children:[p.jsx("div",{className:"text-center mb-8",children:p.jsxs("div",{className:"flex flex-col items-center gap-2 group",children:[p.jsx("div",{className:"size-12 rounded-xl bg-primary/10 flex items-center justify-center group-hover:bg-primary/20 transition-colors",children:p.jsx(_i,{className:"size-6 text-primary"})}),p.jsx("h1",{className:"text-2xl font-bold mt-2",children:"Create Account"}),p.jsx("p",{className:"text-base-content/60",children:"Get started with your free account"})]})}),p.jsxs("form",{onSubmit:y,className:"space-y-6",children:[p.jsxs("div",{className:"form-control",children:[p.jsx("label",{className:"label",children:p.jsx("span",{className:"label-text font-medium",children:"Full Name"})}),p.jsxs("div",{className:"relative",children:[p.jsx(Qn,{className:"size-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-base-content/40"}),p.jsx("input",{type:"text",className:"input input-bordered w-full pl-10",placeholder:"John Doe",value:r.fullName,onChange:w=>i({...r,fullName:w.target.value})})]}),a.fullName&&p.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.fullName})]}),p.jsxs("div",{className:"form-control",children:[p.jsx("label",{className:"label",children:p.jsx("span",{className:"label-text font-medium",children:"Email"})}),p.jsxs("div",{className:"relative",children:[p.jsx(Cr,{className:"size-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-base-content/40"}),p.jsx("input",{type:"email",className:"input input-bordered w-full pl-10",placeholder:"you@example.com",value:r.email,onChange:w=>i({...r,email:w.target.value})})]}),a.email&&p.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.email})]}),p.jsxs("div",{className:"form-control",children:[p.jsx("label",{className:"label",children:p.jsx("span",{className:"label-text font-medium",children:"Password"})}),p.jsxs("div",{className:"relative",children:[p.jsx(ga,{className:"size-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-base-content/40"}),p.jsx("input",{type:t?"text":"password",className:"input input-bordered w-full pl-10",placeholder:"••••••••",value:r.password,onChange:w=>i({...r,password:w.target.value})}),p.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2",onClick:()=>e(!t),children:t?p.jsx(sd,{className:"size-5 text-base-content/40"}):p.jsx(id,{className:"size-5 text-base-content/40"})})]}),a.password&&p.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.password})]}),p.jsx("button",{type:"submit",className:"btn btn-primary w-full",disabled:f,children:f?p.jsxs(p.Fragment,{children:[p.jsx(Ma,{className:"size-5 animate-spin"}),"Loading..."]}):"Create Account"})]}),p.jsx("div",{className:"mt-4",children:p.jsxs("button",{onClick:v,className:"btn btn-outline w-full flex items-center gap-2",disabled:f,children:[p.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/720/720255.png",alt:"Google",className:"h-5 w-5"}),"Sign up with Google"]})}),p.jsx("div",{className:"text-center",children:p.jsxs("p",{className:"text-base-content/60",children:["Already have an account?"," ",p.jsx(Qt,{to:"/login",className:"link link-primary",children:"Sign in"})]})})]})}),p.jsx(Ba,{title:"Join our community",subtitle:"Connect with friends, share moments, and stay in touch with your loved ones."})]})},nb=["light","dark","cupcake","bumblebee","emerald","corporate","synthwave","retro","cyberpunk","valentine","halloween","garden","forest","aqua","lofi","pastel","fantasy","wireframe","black","luxury","dracula","cmyk","autumn","business","acid","lemonade","night","coffee","winter","dim","nord","sunset"],rb=()=>localStorage.getItem("chat-theme")?localStorage.getItem("chat-theme"):window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",sb=qu(t=>({theme:rb(),setTheme:e=>{localStorage.setItem("chat-theme",e),document.documentElement.setAttribute("data-theme",e),t({theme:e})}})),ib=[{id:1,content:"Hey! How's it going?",isSent:!1},{id:2,content:"I'm doing great! Just working on some new features.",isSent:!0}],ob=()=>{const{theme:t,setTheme:e}=sb();T.useEffect(()=>{const a=localStorage.getItem("chatAppTheme");a&&e(a)},[]);const r=a=>{e(a),localStorage.setItem("chatAppTheme",a)},i=()=>{e("default"),localStorage.removeItem("chatAppTheme")};return p.jsx("div",{className:"h-screen container mx-auto px-4 pt-20 max-w-5xl",children:p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex flex-col gap-1",children:[p.jsx("h2",{className:"text-lg font-semibold",children:"Theme"}),p.jsx("p",{className:"text-sm text-base-content/70",children:"Choose a theme for your chat interface"})]}),p.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-6 md:grid-cols-8 gap-2",children:nb.map(a=>p.jsxs("button",{"aria-label":`Select ${a} theme`,className:`
                group flex flex-col items-center gap-1.5 p-2 rounded-lg transition-colors border
                ${t===a?"border-primary bg-primary/10":"border-transparent hover:bg-base-200/50"}
              `,onClick:()=>r(a),children:[p.jsx("div",{className:"relative h-8 w-full rounded-md overflow-hidden","data-theme":a,children:p.jsxs("div",{className:"absolute inset-0 grid grid-cols-4 gap-px p-1",children:[p.jsx("div",{className:"rounded bg-primary"}),p.jsx("div",{className:"rounded bg-secondary"}),p.jsx("div",{className:"rounded bg-accent"}),p.jsx("div",{className:"rounded bg-neutral"})]})}),p.jsx("span",{className:"text-[11px] font-medium truncate w-full text-center",children:a.charAt(0).toUpperCase()+a.slice(1)})]},a))}),p.jsxs("button",{onClick:i,className:"btn btn-outline flex items-center gap-2",children:[p.jsx(g2,{size:18})," Reset to Default"]}),p.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Preview"}),p.jsx("div",{className:"rounded-xl border border-base-300 overflow-hidden bg-base-100 shadow-lg",children:p.jsx("div",{className:"p-4 bg-base-200",children:p.jsx("div",{className:"max-w-lg mx-auto",children:p.jsxs("div",{className:"bg-base-100 rounded-xl shadow-sm overflow-hidden",children:[p.jsxs("div",{className:"px-4 py-3 border-b border-base-300 bg-base-100 flex items-center gap-3",children:[p.jsx("div",{className:"w-8 h-8 rounded-full bg-primary flex items-center justify-center text-primary-content font-medium",children:"J"}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-medium text-sm",children:"John Doe"}),p.jsx("p",{className:"text-xs text-base-content/70",children:"Online"})]})]}),p.jsx("div",{className:"p-4 space-y-4 min-h-[200px] max-h-[200px] overflow-y-auto bg-base-100",children:ib.map(a=>p.jsx("div",{className:`flex ${a.isSent?"justify-end":"justify-start"}`,children:p.jsxs("div",{className:`
                          max-w-[80%] rounded-xl p-3 shadow-sm
                          ${a.isSent?"bg-primary text-primary-content":"bg-base-200"}
                        `,children:[p.jsx("p",{className:"text-sm",children:a.content}),p.jsx("p",{className:`text-[10px] mt-1.5 ${a.isSent?"text-primary-content/70":"text-base-content/70"}`,children:"12:00 PM"})]})},a.id))}),p.jsx("div",{className:"p-4 border-t border-base-300 bg-base-100",children:p.jsxs("div",{className:"flex gap-2",children:[p.jsx("input",{type:"text",className:"input input-bordered flex-1 text-sm h-10",placeholder:"Type a message...",value:"This is a preview",readOnly:!0}),p.jsx("button",{className:"btn btn-primary h-10 min-h-0",children:p.jsx(Qy,{size:18})})]})})]})})})})]})})},ab=()=>{const{user:t,isUpdatingProfile:e,updateProfile:r,logout:i}=we(),a=t,[c,u]=T.useState(null),[f,h]=T.useState(""),g=It();T.useEffect(()=>{a!=null&&a.profilePic&&h(a.profilePic)},[a]);const y=()=>{const w=`${window.location.origin}/avatar.png`;h(w),console.error("Failed to load profile image, using default")};T.useEffect(()=>{if(f&&f.includes("Default_ProfilePic.png")){const w=`${window.location.origin}/avatar.png`;h(w)}},[f]);const v=async w=>{const C=w.target.files[0];if(!C)return;if(!C.type.startsWith("image/"))return q.error("Invalid file type. Please upload an image.");if(C.size>5*1024*1024)return q.error("Image must be less than 5MB.");const N=new FileReader;N.readAsDataURL(C),N.onload=async()=>{const k=N.result;u(k);try{await r({profilePic:k}),q.success("Profile picture updated!")}catch(E){console.error("Failed to update profile:",E),q.error("Failed to update profile picture.")}}};return p.jsx("div",{className:"h-screen pt-20",children:p.jsx("div",{className:"max-w-2xl mx-auto p-4 py-8",children:p.jsxs("div",{className:"bg-base-300 rounded-xl p-6 space-y-8",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"text-2xl font-semibold",children:"Profile"}),p.jsx("p",{className:"mt-2",children:"Your profile information"})]}),p.jsxs("div",{className:"flex flex-col items-center gap-4",children:[p.jsxs("div",{className:"relative",children:[p.jsxs("div",{className:"relative",children:[p.jsx("img",{src:c||f||(a==null?void 0:a.profilePic)||`${window.location.origin}/avatar.png`,alt:"Profile",className:"size-32 rounded-full object-cover border-4 border-base-300",onError:y}),(a==null?void 0:a.isGoogleAuth)&&p.jsx("div",{className:"absolute -top-2 -right-2 bg-white p-1 rounded-full shadow-md",title:"Google Account",children:p.jsx(ss,{className:"w-5 h-5 text-[#4285F4]"})})]}),!(a!=null&&a.isGoogleAuth)&&p.jsxs("label",{htmlFor:"avatar-upload",className:`absolute bottom-0 right-0 bg-base-content hover:scale-105
                    p-2 rounded-full cursor-pointer transition-all duration-200
                    ${e?"animate-pulse pointer-events-none":""}`,children:[p.jsx(u2,{className:"w-5 h-5 text-base-200"}),p.jsx("input",{type:"file",id:"avatar-upload",className:"hidden",accept:"image/*",onChange:v,disabled:e})]})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("p",{className:"text-sm text-zinc-400",children:e?"Uploading...":a!=null&&a.isGoogleAuth?"Profile picture from Google account":"Click the camera icon to update your photo"}),(a==null?void 0:a.isGoogleAuth)&&p.jsxs("div",{className:"mt-2 flex items-center justify-center gap-1 text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:[p.jsx(ss,{className:"w-3 h-3"}),p.jsx("span",{children:"Google Account"})]})]})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"space-y-1.5",children:[p.jsxs("div",{className:"text-sm text-zinc-400 flex items-center gap-2",children:[p.jsx(Qn,{className:"w-4 h-4"}),"Full Name"]}),p.jsx("p",{className:"px-4 py-2.5 bg-base-200 rounded-lg border",children:a==null?void 0:a.fullName})]}),p.jsxs("div",{className:"space-y-1.5",children:[p.jsxs("div",{className:"text-sm text-zinc-400 flex items-center gap-2",children:[p.jsx(Cr,{className:"w-4 h-4"}),"Email Address"]}),p.jsxs("p",{className:"px-4 py-2.5 bg-base-200 rounded-lg border flex items-center justify-between",children:[a==null?void 0:a.email,a.verified?p.jsx(y2,{className:"w-4 h-4 text-green-500",title:"Verified"}):p.jsx("span",{className:"text-red-500 text-xs",children:"Not Verified"})]})]})]}),p.jsxs("div",{className:"mt-6 bg-base-300 rounded-xl p-6",children:[p.jsx("h2",{className:"text-lg font-medium mb-4",children:"Account Information"}),p.jsxs("div",{className:"space-y-3 text-sm",children:[p.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-zinc-700",children:[p.jsx("span",{children:"Member Since"}),p.jsx("span",{children:a!=null&&a.createdAt?new Date(a.createdAt).toLocaleDateString():"N/A"})]}),p.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-zinc-700",children:[p.jsx("span",{children:"Account Type"}),p.jsx("span",{className:"flex items-center gap-1",children:a!=null&&a.isGoogleAuth?p.jsxs(p.Fragment,{children:[p.jsx(ss,{className:"w-4 h-4 text-[#4285F4]"}),p.jsx("span",{className:"text-[#4285F4]",children:"Google Account"})]}):p.jsxs(p.Fragment,{children:[p.jsx(Cr,{className:"w-4 h-4 text-primary"}),p.jsx("span",{children:"Email/Password"})]})})]}),p.jsxs("div",{className:"flex items-center justify-between py-2",children:[p.jsx("span",{children:"Account Status"}),p.jsx("span",{className:"text-green-500",children:"Active"})]})]})]}),p.jsxs("button",{onClick:()=>{i(),g("/login")},className:"btn btn-error w-full gap-2",children:[p.jsx(Wy,{className:"w-5 h-5"}),"Logout"]})]})})})},lb=()=>{const{userId:t}=Yg(),e=It(),{authUser:r}=we(),{initiateCall:i}=Yt(),[a,c]=T.useState(null),[u,f]=T.useState(!0),[h,g]=T.useState(null),[y,v]=T.useState("");T.useEffect(()=>{t&&(async()=>{try{f(!0);const k=await Ae.get(`/api/users/${t}`);c(k.data),v(k.data.profilePic)}catch(k){console.error("Error fetching user profile:",k),g("Failed to load user profile"),q.error("Failed to load user profile")}finally{f(!1)}})()},[t]);const w=()=>{v("/avatar.png")};T.useEffect(()=>{y&&y.includes("Default_ProfilePic.png")&&v("/avatar.png")},[y]);const C=N=>{a&&(i(a._id,N),e("/"))};return u?p.jsx("div",{className:"h-screen pt-20 flex items-center justify-center",children:p.jsx("div",{className:"loading loading-spinner loading-lg"})}):h||!a?p.jsx("div",{className:"h-screen pt-20",children:p.jsx("div",{className:"max-w-2xl mx-auto p-4 py-8",children:p.jsxs("div",{className:"bg-base-300 rounded-xl p-6 space-y-8 text-center",children:[p.jsx("h1",{className:"text-2xl font-semibold",children:"Error"}),p.jsx("p",{children:h||"User not found"}),p.jsx("button",{className:"btn btn-primary",onClick:()=>e(-1),children:"Go Back"})]})})}):p.jsx("div",{className:"h-screen pt-20",children:p.jsx("div",{className:"max-w-2xl mx-auto p-4 py-8",children:p.jsxs("div",{className:"bg-base-300 rounded-xl p-6 space-y-8",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("button",{className:"btn btn-sm btn-ghost",onClick:()=>e(-1),children:[p.jsx(c2,{className:"w-4 h-4"}),"Back"]}),p.jsx("h1",{className:"text-2xl font-semibold",children:"User Profile"}),p.jsx("div",{className:"w-16"})," "]}),p.jsxs("div",{className:"flex flex-col items-center gap-4",children:[p.jsx("div",{className:"relative",children:p.jsxs("div",{className:"relative",children:[p.jsx("img",{src:y||"/avatar.png",alt:"Profile",className:"size-32 rounded-full object-cover border-4 border-base-300",onError:w}),a.isGoogleAuth&&p.jsx("div",{className:"absolute -top-2 -right-2 bg-white p-1 rounded-full shadow-md",title:"Google Account",children:p.jsx(ss,{className:"w-5 h-5 text-[#4285F4]"})})]})}),p.jsxs("div",{className:"text-center",children:[p.jsx("h2",{className:"text-xl font-bold",children:a.fullName}),a.isGoogleAuth&&p.jsxs("div",{className:"mt-2 flex items-center justify-center gap-1 text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:[p.jsx(ss,{className:"w-3 h-3"}),p.jsx("span",{children:"Google Account"})]})]})]}),p.jsxs("div",{className:"flex justify-center gap-4",children:[p.jsxs("button",{className:"btn btn-primary btn-sm gap-2",onClick:()=>C(!1),children:[p.jsx(is,{className:"w-4 h-4"}),"Audio Call"]}),p.jsxs("button",{className:"btn btn-accent btn-sm gap-2",onClick:()=>C(!0),children:[p.jsx(ms,{className:"w-4 h-4"}),"Video Call"]})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"space-y-1.5",children:[p.jsxs("div",{className:"text-sm text-zinc-400 flex items-center gap-2",children:[p.jsx(Qn,{className:"w-4 h-4"}),"Full Name"]}),p.jsx("p",{className:"px-4 py-2.5 bg-base-200 rounded-lg border",children:a.fullName})]}),p.jsxs("div",{className:"space-y-1.5",children:[p.jsxs("div",{className:"text-sm text-zinc-400 flex items-center gap-2",children:[p.jsx(Cr,{className:"w-4 h-4"}),"Email Address"]}),p.jsx("p",{className:"px-4 py-2.5 bg-base-200 rounded-lg border",children:a.email})]})]}),p.jsxs("div",{className:"mt-6 bg-base-300 rounded-xl p-6",children:[p.jsx("h2",{className:"text-lg font-medium mb-4",children:"Account Information"}),p.jsxs("div",{className:"space-y-3 text-sm",children:[p.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-zinc-700",children:[p.jsx("span",{children:"Member Since"}),p.jsx("span",{children:a.createdAt?new Date(a.createdAt).toLocaleDateString():"N/A"})]}),p.jsxs("div",{className:"flex items-center justify-between py-2",children:[p.jsx("span",{children:"Account Type"}),p.jsx("span",{className:"flex items-center gap-1",children:a.isGoogleAuth?p.jsxs(p.Fragment,{children:[p.jsx(ss,{className:"w-4 h-4 text-[#4285F4]"}),p.jsx("span",{className:"text-[#4285F4]",children:"Google Account"})]}):p.jsxs(p.Fragment,{children:[p.jsx(Cr,{className:"w-4 h-4 text-primary"}),p.jsx("span",{children:"Email/Password"})]})})]})]})]})]})})})},cb=()=>{const[t,e]=T.useState(""),[r,i]=T.useState(!1),a=It(),c=async u=>{var f,h;if(u.preventDefault(),!t){q.error("Please enter your email address");return}if(!t.match(/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/)){q.error("Please enter a valid email address");return}i(!0);try{const g=await Aa.post("/forgot-password",{email:t});q.success(g.data.message),a("/login")}catch(g){q.error(((h=(f=g.response)==null?void 0:f.data)==null?void 0:h.message)||"Something went wrong.")}finally{i(!1)}};return p.jsxs("div",{className:"flex min-h-screen",children:[p.jsx(Ba,{}),p.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:p.jsxs("div",{className:"w-full max-w-md space-y-8",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("h2",{className:"text-3xl font-bold",children:"Forgot Password"}),p.jsx("p",{className:"mt-2 text-base-content/60",children:"Enter your email to receive a password reset link"})]}),p.jsxs("form",{onSubmit:c,className:"mt-8 space-y-6",children:[p.jsxs("div",{className:"form-control",children:[p.jsx("label",{className:"label",children:p.jsx("span",{className:"label-text font-medium",children:"Email"})}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(Cr,{className:"h-5 w-5 text-base-content/40"})}),p.jsx("input",{type:"email",className:"input input-bordered w-full pl-10",placeholder:"Enter your email",value:t,onChange:u=>e(u.target.value),required:!0})]})]}),p.jsx("button",{type:"submit",className:"btn btn-primary w-full",disabled:r,children:r?p.jsxs(p.Fragment,{children:[p.jsx(Ma,{className:"h-5 w-5 animate-spin"}),"Sending..."]}):"Send Reset Link"}),p.jsx("div",{className:"text-center",children:p.jsx(Qt,{to:"/login",className:"text-sm text-primary hover:underline",children:"Back to Login"})})]})]})})]})},ub=()=>{const{token:t}=Yg(),[e,r]=T.useState(!1),[i,a]=T.useState({newPassword:"",confirmPassword:""}),[c,u]=T.useState(!1),f=It(),h=async g=>{var y,v;if(g.preventDefault(),!i.newPassword||!i.confirmPassword){q.error("Please fill in all fields");return}if(i.newPassword.length<6){q.error("Password must be at least 6 characters long");return}if(i.newPassword!==i.confirmPassword){q.error("Passwords do not match");return}u(!0);try{const w=await Aa.post(`/reset-password/${t}`,{newPassword:i.newPassword});q.success(w.data.message),f("/login")}catch(w){q.error(((v=(y=w.response)==null?void 0:y.data)==null?void 0:v.message)||"Failed to reset password")}finally{u(!1)}};return p.jsxs("div",{className:"flex min-h-screen",children:[p.jsx(Ba,{}),p.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:p.jsxs("div",{className:"w-full max-w-md space-y-8",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("h2",{className:"text-3xl font-bold",children:"Reset Password"}),p.jsx("p",{className:"mt-2 text-base-content/60",children:"Enter your new password"})]}),p.jsxs("form",{onSubmit:h,className:"mt-8 space-y-6",children:[p.jsxs("div",{className:"form-control",children:[p.jsx("label",{className:"label",children:p.jsx("span",{className:"label-text font-medium",children:"New Password"})}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(ga,{className:"h-5 w-5 text-base-content/40"})}),p.jsx("input",{type:e?"text":"password",className:"input input-bordered w-full pl-10",placeholder:"Enter new password",value:i.newPassword,onChange:g=>a({...i,newPassword:g.target.value}),required:!0}),p.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>r(!e),children:e?p.jsx(sd,{className:"h-5 w-5 text-base-content/40"}):p.jsx(id,{className:"h-5 w-5 text-base-content/40"})})]})]}),p.jsxs("div",{className:"form-control",children:[p.jsx("label",{className:"label",children:p.jsx("span",{className:"label-text font-medium",children:"Confirm Password"})}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(ga,{className:"h-5 w-5 text-base-content/40"})}),p.jsx("input",{type:e?"text":"password",className:"input input-bordered w-full pl-10",placeholder:"Confirm new password",value:i.confirmPassword,onChange:g=>a({...i,confirmPassword:g.target.value}),required:!0})]})]}),p.jsx("button",{type:"submit",className:"btn btn-primary w-full",disabled:c,children:c?p.jsxs(p.Fragment,{children:[p.jsx(Ma,{className:"h-5 w-5 animate-spin"}),"Resetting..."]}):"Reset Password"}),p.jsx("div",{className:"text-center",children:p.jsx(Qt,{to:"/login",className:"text-sm text-primary hover:underline",children:"Back to Login"})})]})]})})]})},db=()=>{const t=It(),[e]=F1(),{user:r}=we();return T.useEffect(()=>{const i=e.get("error");if(i){console.error("❌ Google OAuth error:",i),xt.error(mr.GOOGLE_AUTH),t("/login");return}if(r){console.log("✅ User already authenticated, redirecting to home"),t("/");return}console.log("⚠️ No user found after Google auth, redirecting to login"),t("/login")},[t,e,r]),p.jsx("div",{className:"flex items-center justify-center min-h-screen bg-base-200",children:p.jsxs("div",{className:"text-center p-8 bg-base-100 rounded-lg shadow-lg",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),p.jsx("p",{className:"text-lg text-base-content/80",children:"Processing authentication..."}),p.jsx("p",{className:"text-sm text-base-content/60 mt-2",children:"Please wait while we complete your sign-in"})]})})},fb=()=>{const{logout:t,user:e}=we(),[r,i]=T.useState(!1);return p.jsxs("header",{className:`bg-base-100 border-b border-base-300 fixed w-full top-0 z-40
    backdrop-blur-lg bg-base-100/80`,children:[p.jsx("div",{className:"container mx-auto px-4 h-16",children:p.jsxs("div",{className:"flex items-center justify-between h-full",children:[p.jsxs(Qt,{to:"/",className:"flex items-center gap-2.5 hover:opacity-80 transition-all",children:[p.jsx("div",{className:"size-9 rounded-lg bg-primary/10 flex items-center justify-center",children:p.jsx(_i,{className:"w-5 h-5 text-primary"})}),p.jsx("h1",{className:"text-lg font-bold",children:"GutarGU"})]}),p.jsx("div",{className:"hidden sm:flex items-center gap-3",children:e&&p.jsxs(p.Fragment,{children:[p.jsxs(Qt,{to:"/profile",className:"relative group overflow-hidden rounded-full pl-2 pr-4 py-1.5 bg-gradient-to-r from-primary to-accent hover:shadow-lg transition-all duration-300 flex items-center gap-2","aria-label":"View Profile",children:[p.jsxs("div",{className:"relative z-10 flex items-center gap-2",children:[p.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-white shadow-md overflow-hidden flex-shrink-0",children:e.profilePic&&!e.profilePic.includes("Default_ProfilePic.png")?p.jsx("img",{src:e.profilePic,alt:"Profile",className:"w-full h-full object-cover",onError:a=>{a.target.onerror=null,a.target.src="/avatar.png"}}):p.jsx("div",{className:"w-full h-full bg-primary/20 flex items-center justify-center",children:p.jsx(Qn,{className:"w-4 h-4 text-primary"})})}),p.jsx("span",{className:"font-medium text-white",children:"My Profile"})]}),p.jsx("div",{className:"absolute inset-0 bg-white opacity-0 group-hover:opacity-10 transition-opacity duration-300"})]}),p.jsxs(Qt,{to:"/settings",className:"btn btn-sm gap-2","aria-label":"Settings",children:[p.jsx(Nm,{className:"w-4 h-4"}),p.jsx("span",{className:"hidden sm:inline",children:"Settings"})]})]})}),p.jsx("button",{className:"sm:hidden btn btn-circle btn-ghost",onClick:()=>i(!r),"aria-label":"Toggle menu",children:p.jsx(p2,{className:"w-6 h-6"})})]})}),r&&p.jsx("div",{className:"sm:hidden absolute top-16 right-4 bg-base-100 shadow-lg rounded-lg border border-base-300 p-4 w-56",children:e&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"flex items-center justify-center mb-3",children:p.jsxs(Qt,{to:"/profile",className:"relative overflow-hidden rounded-xl w-full py-3 bg-gradient-to-r from-primary to-accent hover:shadow-lg transition-all duration-300 flex items-center justify-center gap-3",onClick:()=>i(!1),children:[p.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[p.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-white/80 shadow-md overflow-hidden flex-shrink-0",children:e.profilePic&&!e.profilePic.includes("Default_ProfilePic.png")?p.jsx("img",{src:e.profilePic,alt:"Profile",className:"w-full h-full object-cover",onError:a=>{a.target.onerror=null,a.target.src=`${window.location.origin}/avatar.png`}}):p.jsx("div",{className:"w-full h-full bg-white/20 flex items-center justify-center",children:p.jsx(Qn,{className:"w-4 h-4 text-white"})})}),p.jsx("span",{className:"font-medium text-white",children:"View My Profile"})]}),p.jsx("div",{className:"absolute inset-0 bg-white opacity-0 hover:opacity-10 transition-opacity duration-300"})]})}),p.jsxs("div",{className:"border-t border-base-300 my-2 pt-2",children:[p.jsxs(Qt,{to:"/settings",className:"block px-4 py-2 hover:bg-base-200 rounded-lg transition",onClick:()=>i(!1),children:[p.jsx(Nm,{className:"w-4 h-4 inline-block mr-2"}),"Settings"]}),p.jsxs("button",{className:"block w-full text-left px-4 py-2 hover:bg-base-200 rounded-lg transition mt-2",onClick:t,children:[p.jsx(Wy,{className:"w-4 h-4 inline-block mr-2"}),"Logout"]})]})]})})]})},hb=()=>{const{activeCall:t,endCall:e,toggleMute:r,toggleVideo:i,isMuted:a,isVideoOff:c,groupCallParticipants:u,users:f}=Yt(),{socket:h,user:g}=we(),[y,v]=T.useState(!1),[w,C]=T.useState([]),[N,k]=T.useState(null),[E,_]=T.useState(null),[D,A]=T.useState(!1),[I,H]=T.useState({quality:"standard",isLan:!1}),W=T.useRef(null),z=T.useRef(null),V=T.useRef(null),re=T.useRef(null);T.useEffect(()=>{if(h)return V.current=new Zy(h),V.current.onRemoteStreamUpdate=(te,pe)=>{pe?(_(pe),z.current&&(z.current.srcObject=pe)):_(null)},V.current.isUsingLanConnection&&A(V.current.isUsingLanConnection()),re.current=setInterval(()=>{if(V.current&&t){const te=V.current.getConnectionQuality(t.userId);H(te),A(te.isLan)}},5e3),()=>{V.current&&V.current.closeAllConnections(),re.current&&clearInterval(re.current)}},[h,t]),T.useEffect(()=>!t||!h||!g?void 0:((async()=>{try{if(!V.current)return;const pe=await V.current.initLocalStream(t.isVideo);k(pe),W.current&&(W.current.srcObject=pe),t.isOutgoing?h.on("callAccepted",({receiverId:Le})=>{Le!==g._id&&V.current.callUser(t.userId)}):V.current.callUser(t.userId),h.on("callEnded",({userId:Le})=>{Le===t.userId&&(q.info("Call ended by the other user"),e())})}catch(pe){console.error("Error setting up call:",pe),q.error("Failed to set up call"),e()}})(),()=>{h.off("callAccepted"),h.off("callEnded"),V.current&&V.current.closeAllConnections()}),[t,h,g]);const ge=()=>{v(!0);const te=f.filter(pe=>!u.some(Le=>Le._id===pe._id)&&pe._id!==t.caller._id);C(te)},Ge=te=>{h.emit("inviteToGroupCall",{callId:t.id,userId:te})};return t?p.jsxs("div",{className:"fixed bottom-0 right-0 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-lg p-4 m-4",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("div",{className:"flex items-center",children:[t.isVideo&&p.jsxs("div",{className:"relative w-full mb-4",children:[N&&p.jsxs("div",{className:"relative w-full h-32 mb-2",children:[p.jsx("video",{ref:W,autoPlay:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover rounded-lg"}),p.jsx("div",{className:"absolute bottom-1 left-1 text-white text-xs bg-black bg-opacity-50 px-1 py-0.5 rounded",children:"You"})]}),E&&p.jsxs("div",{className:"relative w-full h-32",children:[p.jsx("video",{ref:z,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover rounded-lg"}),p.jsx("div",{className:"absolute bottom-1 left-1 text-white text-xs bg-black bg-opacity-50 px-1 py-0.5 rounded",children:t.userName||"Caller"})]})]}),!t.isVideo&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-primary flex items-center justify-center text-white mr-2",children:p.jsx(is,{size:16})}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold text-gray-800 dark:text-white",children:t.userName||"Caller"}),p.jsx("p",{className:"text-sm text-gray-500",children:t.isOutgoing?"Outgoing call":"Incoming call"})]})]})]}),p.jsx("button",{onClick:()=>{try{V.current&&V.current.closeAllConnections(),e(),!h&&g&&(console.warn("Socket not available, manually cleaning up call"),N&&(N.getTracks().forEach(te=>te.stop()),k(null)),E&&(E.getTracks().forEach(te=>te.stop()),_(null)))}catch(te){console.error("Error ending call:",te),q.error("Error ending call")}},className:"p-2 bg-red-500 text-white rounded-full hover:bg-red-600",children:p.jsx(od,{size:20})})]}),t.isGroupCall&&p.jsxs("div",{className:"mb-4",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("h4",{className:"font-medium",children:"Participants"}),p.jsx("button",{onClick:ge,className:"p-1 text-blue-500 hover:bg-blue-50 rounded-full",children:p.jsx(m2,{size:16})})]}),p.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:u.map(te=>p.jsxs("div",{className:"flex items-center bg-gray-100 rounded-full px-3 py-1",children:[p.jsx("img",{src:te.avatar,alt:te.name,className:"w-6 h-6 rounded-full mr-2"}),p.jsx("span",{className:"text-sm",children:te.name})]},te._id))})]}),p.jsx("div",{className:"mb-3 flex justify-center",children:p.jsx("div",{className:`text-xs px-2 py-1 rounded-full flex items-center gap-1 ${D?"bg-green-100 text-green-800 border border-green-300":"bg-blue-100 text-blue-800 border border-blue-300"}`,children:D?p.jsxs(p.Fragment,{children:[p.jsx(x2,{className:"w-3 h-3"}),p.jsxs("span",{children:["LAN Connection (",I.quality==="high"?"High":"Enhanced"," Quality)"]})]}):p.jsxs(p.Fragment,{children:[p.jsx(v2,{className:"w-3 h-3"}),p.jsx("span",{children:"Internet Connection (Standard Quality)"})]})})}),p.jsxs("div",{className:"flex justify-center space-x-4",children:[p.jsx("button",{onClick:()=>{if(V.current)try{const te=V.current.toggleAudio();console.log("Audio toggled, new state:",te),r(te)}catch(te){console.error("Error toggling audio:",te),r(!a)}else console.warn("WebRTC service not available, toggling state directly"),r(!a)},className:`p-3 rounded-full ${a?"bg-red-500 text-white":"bg-gray-200 dark:bg-gray-700"}`,children:a?p.jsx(Ky,{size:20}):p.jsx(qy,{size:20})}),t.isVideo&&p.jsx("button",{onClick:()=>{if(V.current)try{const te=V.current.toggleVideo();console.log("Video toggled, new state:",te),i(te)}catch(te){console.error("Error toggling video:",te),i(!c)}else console.warn("WebRTC service not available, toggling state directly"),i(!c)},className:`p-3 rounded-full ${c?"bg-red-500 text-white":"bg-gray-200 dark:bg-gray-700"}`,children:c?p.jsx(Yy,{size:20}):p.jsx(ms,{size:20})})]}),y&&p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:p.jsxs("div",{className:"bg-white rounded-lg p-4 w-96",children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add Participants"}),p.jsx("div",{className:"max-h-60 overflow-y-auto",children:w.map(te=>p.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-gray-50",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("img",{src:te.avatar,alt:te.name,className:"w-8 h-8 rounded-full mr-2"}),p.jsx("span",{children:te.name})]}),p.jsx("button",{onClick:()=>Ge(te._id),className:"px-3 py-1 bg-blue-500 text-white rounded-full text-sm hover:bg-blue-600",children:"Invite"})]},te._id))}),p.jsx("button",{onClick:()=>v(!1),className:"mt-4 w-full py-2 bg-gray-200 rounded-lg hover:bg-gray-300",children:"Close"})]})})]}):null},pb=()=>{const{incomingCallData:t,acceptCall:e,rejectCall:r}=Yt();return t?p.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:p.jsxs("div",{className:"bg-base-100 p-4 rounded-lg shadow-lg border border-base-300 w-80 animate-slideIn",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[p.jsx("div",{className:"avatar",children:p.jsx("div",{className:"w-12 h-12 rounded-full bg-primary flex items-center justify-center text-primary-content",children:t.isVideo?p.jsx(ms,{className:"w-6 h-6"}):p.jsx(is,{className:"w-6 h-6"})})}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-medium",children:t.callerName}),p.jsxs("p",{className:"text-sm text-base-content/70",children:["Incoming ",t.isVideo?"Video":"Audio"," Call"]})]})]}),p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsxs("button",{onClick:r,className:"btn btn-sm btn-error gap-2",children:[p.jsx(od,{className:"w-4 h-4"}),"Decline"]}),p.jsxs("button",{onClick:e,className:"btn btn-sm btn-success gap-2",children:[p.jsx(is,{className:"w-4 h-4"}),"Accept"]})]})]})}):null},mb=()=>{const{user:t,checkAuth:e,isLoading:r}=we(),{isCallActive:i,isIncomingCall:a}=Yt();return T.useEffect(()=>{console.log("🔹 App mounted, checking auth status..."),sessionStorage.setItem("pageRefreshed","true");const c=localStorage.getItem("authState");if(c)try{const{user:f}=JSON.parse(c);f!=null&&f._id&&(console.log("🔹 Found persisted user, connecting socket"),$y(f._id))}catch(f){console.error("Error parsing persisted state:",f)}e();const u=()=>{sessionStorage.setItem("pageRefreshed","true")};return window.addEventListener("beforeunload",u),()=>{window.removeEventListener("beforeunload",u)}},[e]),r?p.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-base-200",children:[p.jsxs("div",{className:"text-center p-8 bg-base-100 rounded-lg shadow-lg",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),p.jsx("p",{className:"text-lg text-base-content/80",children:"Loading..."}),p.jsx("p",{className:"text-sm text-base-content/60 mt-2",children:"Please wait while we set up your experience"})]}),p.jsx(rm,{position:"top-center",reverseOrder:!1})]}):p.jsxs("div",{children:[p.jsx(rm,{position:"top-center",reverseOrder:!1}),t&&p.jsx(fb,{}),p.jsxs(P1,{children:[p.jsx(sn,{path:"/",element:t?p.jsx(b2,{}):p.jsx(zn,{to:"/login"})}),p.jsx(sn,{path:"/login",element:t?p.jsx(zn,{to:"/"}):p.jsx(eb,{})}),p.jsx(sn,{path:"/signup",element:t?p.jsx(zn,{to:"/"}):p.jsx(tb,{})}),p.jsx(sn,{path:"/settings",element:t?p.jsx(ob,{}):p.jsx(zn,{to:"/login"})}),p.jsx(sn,{path:"/profile",element:t?p.jsx(ab,{}):p.jsx(zn,{to:"/login"})}),p.jsx(sn,{path:"/profile/:userId",element:t?p.jsx(lb,{}):p.jsx(zn,{to:"/login"})}),p.jsx(sn,{path:"/google-auth-success",element:p.jsx(db,{})}),p.jsx(sn,{path:"/forgot-password",element:t?p.jsx(zn,{to:"/"}):p.jsx(cb,{})}),p.jsx(sn,{path:"/reset-password/:token",element:t?p.jsx(zn,{to:"/"}):p.jsx(ub,{})})]}),i&&p.jsx(hb,{}),a&&p.jsx(pb,{})]})};Mw.createRoot(document.getElementById("root")).render(p.jsx(T.StrictMode,{children:p.jsx(M1,{children:p.jsx(mb,{})})}));
